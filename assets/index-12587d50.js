import{_ as bo,d as p,e as $e,f as J,w as fe,g as mt,h as ps,n as Ye,c,a as s,i as x,j as P,u as re,k as f,l as O,v as ko,t as v,m as Ot,p as fs,F as ue,r as _e,q as b,s as te,x as _s,y as xo,z as wo,T as Co,A as se,B as ge,o as r,C as So,D as $o,E as Io}from"./index-d103d3d7.js";import w from"./vocabulary-9de5e70b.js";import{marked as Mo}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";const h=Qe=>(So("data-v-c82f1515"),Qe=Qe(),$o(),Qe),To={class:"app-root"},Ao={class:"tools-bar sticky-toolbar"},Eo={class:"bar-inner"},zo={class:"left-tools"},Do={class:"mode-switch"},Lo={key:0,class:"dot"},No={class:"toggle-label"},Oo=["title"],Po={class:"middle-tools"},Wo={key:0,class:"selectors"},Uo=["value"],Ro=["value"],Bo={key:0,title:"å…¨ä¹¦æ€»è¯æ±‡é‡"},Go={class:"s-learn",title:"å¤ä¹ é˜Ÿåˆ—ä¸­"},Vo={class:"s-done",title:"å·²æ–©æ€+å·²é€šå…³"},Ko={class:"s-new",title:"å‰©ä½™å•è¯"},jo={class:"right-tools"},Ho=["value"],Jo={key:1,class:"pomo-time"},Fo=["onClick"],Xo={class:"modal-box"},Zo={class:"modal-icon"},qo={class:"modal-title"},Yo={key:0,class:"modal-actions"},Qo={key:1,class:"modal-actions"},en={key:1,class:"header-table-row desktop-only"},tn={class:"grid-layout"},sn=h(()=>s("div",{class:"col-idx text-center"},"#",-1)),on={class:"col-word header-word-col"},nn=["title"],ln={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},an=h(()=>s("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1)),cn=h(()=>s("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)),rn=[an,cn],un={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},dn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),vn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),hn=[dn,vn],pn=h(()=>s("div",{class:"col-pos text-center"},"è¯æ€§",-1)),fn={class:"col-zh header-zh-col"},_n=["title"],gn={key:0,class:"col-ex"},yn={key:1,class:"col-note"},mn=h(()=>s("div",{class:"col-del text-center"},"åˆ ",-1)),bn={class:"content-container"},kn={key:0,class:"empty-tip"},xn=["onClick"],wn=h(()=>s("span",{style:{"font-weight":"800","margin-right":"4px"}},"P.",-1)),Cn={key:1,class:"note-placeholder",style:{color:"#9ca3af"}},Sn={class:"group-actions"},$n=["onClick"],In=["onClick"],Mn=["onClick"],Tn={style:{"font-weight":"bold","margin-right":"10px"}},An=["onClick","title"],En=["fill"],zn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Dn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Ln=[zn,Dn],Nn=h(()=>s("div",{style:{flex:"1"}},null,-1)),On=["id"],Pn={class:"col-idx text-center index-num desktop-only"},Wn={class:"col-word"},Un={class:"word-wrapper"},Rn={key:0,class:"word-cell-container"},Bn={class:"word-row-top"},Gn=["onClick"],Vn=["onClick"],Kn=["onClick"],jn=["onClick"],Hn=["onClick"],Jn=["onClick","title"],Fn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Xn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Zn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),qn=[Xn,Zn],Yn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Qn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),el=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),tl=[Qn,el],sl={key:0,class:"source-container"},ol=["href","onClick"],nl=["href"],ll={key:1,class:"review-meta desktop-only"},al={key:0,class:"tag-due"},il={key:1,class:"tag-wait"},cl={key:1,class:"input-cell"},rl=["onClick"],ul={class:"input-col"},dl=["onChange","onInput","onFocus","onKeydown"],vl={key:0,class:"error-hint"},hl={key:1,class:"peek-hint"},pl=["onClick","title"],fl={class:"mobile-only mobile-pos"},_l=["onClick"],gl={class:"col-pos text-center italic desktop-only"},yl=["onClick"],ml={key:0,class:"mobile-only mobile-notation"},bl={key:0,class:"col-ex example-cell"},kl={class:"ex-content"},xl=["onClick"],wl={key:1,class:"col-note notation-cell desktop-only"},Cl={class:"col-del text-center desktop-only"},Sl=["onClick","title"],$l={key:1,class:"pagination-area"},Il=["disabled"],Ml={class:"finish-control"},Tl={class:"page-info"},Al=["disabled"],El=h(()=>s("div",{style:{height:"40px"}},null,-1)),zl=h(()=>s("span",{class:"pad-title"},":: æ‹–æ‹½ ::",-1)),Dl=h(()=>s("span",{class:"hint-text"},"â†˜ï¸å³ä¸‹è§’æ‹–åŠ¨è°ƒæ•´å¤§å°",-1)),Ll=h(()=>s("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"svg-icon"},[s("path",{d:"M512 64C264.512 64 64 264.576 64 512s200.512 448 448 448c247.424 0 448-200.576 448-448S759.424 64 512 64zM712.448 664.512c-11.776 0-22.784-3.072-32.448-8.384l-1.984 1.984L511.936 512l-162.112 145.472-1.344-1.344c-9.6 5.248-20.544 8.32-32.192 8.32-36.736 0-66.496-29.76-66.496-66.432 0-11.712 3.072-22.656 8.32-32.192L255.936 563.584l10.752-9.664c3.328-3.712 7.04-7.104 11.136-9.984l188.544-169.216 1.28 0C479.296 363.456 495.168 356.544 512.64 356.544s33.408 6.912 45.12 18.176l0.768 0 191.872 168.832c4.032 2.816 7.68 6.08 11.072 9.728l11.392 10.048-2.368 2.304c5.376 9.6 8.448 20.672 8.448 32.448C778.88 634.752 749.12 664.512 712.448 664.512z",fill:"currentColor"})],-1)),Nl=[Ll],Ol={class:"cloud-wrapper"},Pl={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Wl=h(()=>s("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"},null,-1)),Ul=[Wl],Rl={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 1024 1024",fill:"currentColor"},Bl=h(()=>s("path",{d:"M395.776 641.664a19.392 19.392 0 0 0-6.368-12.384l-36.672-32.416a190.496 190.496 0 0 1 87.328-70.88c47.52-19.2 99.776-18.72 146.944 1.28s83.776 57.28 103.008 104.8a31.936 31.936 0 0 0 41.632 17.696 31.936 31.936 0 0 0 17.696-41.632 254.208 254.208 0 0 0-137.312-139.776 254.56 254.56 0 0 0-195.936-1.728 253.984 253.984 0 0 0-111.552 87.616l-37.408-33.088a19.168 19.168 0 0 0-31.808 16.384l12.576 119.68a19.2 19.2 0 0 0 21.088 17.088l109.696-11.52a19.2 19.2 0 0 0 17.088-21.12zM757.92 729.088l-109.216 15.36a19.2 19.2 0 0 0-9.536 33.856l34.496 28.416a190.816 190.816 0 0 1-236.672 74.016 190.592 190.592 0 0 1-102.976-104.768 32 32 0 1 0-59.36 23.936 254.272 254.272 0 0 0 137.344 139.776 255.232 255.232 0 0 0 100 20.48 255.744 255.744 0 0 0 95.904-18.752 254.592 254.592 0 0 0 115.872-93.408l41.408 34.112a19.2 19.2 0 0 0 31.2-17.472l-16.736-119.168a19.264 19.264 0 0 0-21.728-16.384z"},null,-1)),Gl=h(()=>s("path",{d:"M808.192 262.592a320.16 320.16 0 0 0-592.352 0A238.592 238.592 0 0 0 32 496a240.32 240.32 0 0 0 130.976 213.888 32 32 0 1 0 29.12-57.024A176.192 176.192 0 0 1 96 496a175.04 175.04 0 0 1 148.48-173.888l19.04-2.976 6.24-18.24C305.248 197.472 402.592 128 512 128a256 256 0 0 1 242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 0 1 928 496a176.128 176.128 0 0 1-96.128 156.896 32.064 32.064 0 0 0 29.12 57.024A240.416 240.416 0 0 0 992 496a238.592 238.592 0 0 0-183.808-233.408z"},null,-1)),Vl=[Bl,Gl],Kl={key:0,class:"cloud-sub-menu"},jl={class:"dash-header"},Hl=h(()=>s("span",{class:"dash-title"},"æ•°æ®åŒæ­¥çŠ¶æ€",-1)),Jl={key:0,class:"dash-loading"},Fl=h(()=>s("svg",{class:"animate-spin",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[s("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})],-1)),Xl={class:"dash-grid"},Zl={class:"dash-item local"},ql=h(()=>s("div",{class:"item-label"},"ğŸ’» æœ¬åœ°ç‰ˆæœ¬",-1)),Yl={class:"item-time"},Ql={class:"dash-connector"},ea={key:0,class:"icon-update"},ta={key:1,class:"icon-idle"},sa=h(()=>s("div",{class:"item-label"},"Github Gist",-1)),oa={class:"item-time"},na={key:0,class:"dash-footer update-mode"},la={key:1,class:"dash-footer safe-mode"},aa=["disabled"],ia=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),ca=[ia],ra=["disabled"],ua=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM12 17l-5-5h3V8h4v4h3l-5 5z"})],-1)),da=[ua],va={class:"modal-box",style:{"max-width":"360px"}},ha=h(()=>s("h3",{class:"modal-title"},"âœï¸ æ·»åŠ æ–°è¯",-1)),pa={style:{margin:"20px 0"}},fa=["onKeydown"],_a={class:"modal-actions"},ga={class:"modal-box",style:{"max-width":"360px"}},ya=h(()=>s("h3",{class:"modal-title"},"ğŸ“– è¡¥å……é‡Šä¹‰",-1)),ma={style:{color:"#666","font-size":"14px","margin-bottom":"10px"}},ba={style:{margin:"15px 0"}},ka=["onKeydown"],xa={class:"modal-actions"},wa={key:5,class:"modal-overlay",style:{background:"rgba(0,0,0,0.3)","z-index":"3000"}},Ca={class:"modal-box",style:{"max-width":"300px",padding:"30px 20px"}},Sa=h(()=>s("div",{style:{"font-size":"40px","margin-bottom":"10px"}},"ğŸ‰",-1)),$a={style:{margin:"0",color:"#374151"}},Ia={class:"modal-box",style:{"max-width":"360px","text-align":"left"}},Ma=h(()=>s("h3",{class:"modal-title",style:{"text-align":"center"}},"ğŸ› ï¸ ä¿®æ”¹å•è¯",-1)),Ta={style:{"margin-bottom":"15px"}},Aa=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"è‹±æ–‡æ‹¼å†™",-1)),Ea={style:{"margin-bottom":"20px"}},za=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"ä¸­æ–‡é‡Šä¹‰",-1)),Da={class:"modal-actions"},La={class:"modal-box stats-box"},Na={class:"stats-header"},Oa=h(()=>s("h3",null,"ğŸ“ˆ å­¦ä¹ æ•°æ®çœ‹æ¿",-1)),Pa={class:"stats-switcher"},Wa={class:"stats-summary"},Ua={class:"summary-item"},Ra={class:"num"},Ba=h(()=>s("div",{class:"label"},"ä¸“æ³¨(åˆ†)",-1)),Ga={class:"summary-item"},Va={class:"num",style:{color:"#10b981"}},Ka=h(()=>s("div",{class:"label"},"ä»Šæ—¥å­¦ä¹ ",-1)),ja={class:"summary-item"},Ha={class:"num",style:{color:"#3b82f6"}},Ja=h(()=>s("div",{class:"label"},"ä»Šæ—¥å¤ä¹ ",-1)),Fa={class:"summary-item"},Xa={class:"num",style:{color:"#ef4444"}},Za=h(()=>s("div",{class:"label"},"ä»Šæ—¥æ–©æ€",-1)),qa={class:"chart-container"},Ya={class:"modal-box search-box-modal"},Qa={class:"search-header"},ei=["onKeydown"],ti={class:"search-results-list"},si={key:0,class:"empty-tip-text"},oi={key:1,class:"empty-tip-text"},ni=["onClick","onMouseenter"],li={class:"si-left"},ai={class:"si-en"},ii=["onClick"],ci={class:"si-zh"},ri={class:"si-right"},ui={class:"si-source"},di={class:"modal-box read-card-modal",style:{height:"80vh",display:"flex","flex-direction":"column",padding:"0"}},vi={class:"read-header"},hi={class:"read-title"},pi={class:"read-actions"},fi={style:{flex:"1",display:"flex",overflow:"hidden"}},_i={class:"story-sidebar"},gi=h(()=>s("div",{class:"sidebar-header"},"è¾¨æåˆ†ç»„",-1)),yi={class:"sidebar-list"},mi=["onClick"],bi={class:"item-icon"},ki={class:"item-title"},xi={class:"story-content-area"},wi={key:0,class:"markdown-body story-reader"},Ci={style:{"margin-top":"0","border-bottom":"1px solid #eee","padding-bottom":"10px"}},Si=["innerHTML"],$i={key:1,class:"empty-story-tip"},Ii=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ’¡",-1)),Mi=h(()=>s("div",null,[P("æ­¤åˆ†ç»„æš‚æ— å†…å®¹"),s("br"),P("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),P(" å¼€å§‹è®°å½•")],-1)),Ti=[Ii,Mi],Ai={key:1,class:"story-editor-layout"},Ei={style:{"margin-bottom":"10px"}},zi=h(()=>s("label",{style:{"font-size":"12px",color:"#666","font-weight":"bold"}},"åˆ†ç»„æ ‡é¢˜",-1)),Di={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},Li={style:{flex:"1",display:"flex","flex-direction":"column"}},Ni=h(()=>s("span",null,"Markdown å†…å®¹",-1)),Oi={class:"desktop-only preview-pane"},Pi=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),Wi=["innerHTML"],Ui={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},Ri={class:"modal-box read-card-modal",style:{height:"85vh",display:"flex","flex-direction":"column",padding:"0"}},Bi={class:"read-header"},Gi={class:"read-title"},Vi={class:"read-actions"},Ki={style:{flex:"1",display:"flex",overflow:"hidden"}},ji={class:"story-sidebar"},Hi=h(()=>s("div",{class:"sidebar-header"},"æ–‡ç« åˆ—è¡¨",-1)),Ji={class:"sidebar-list"},Fi=["onClick"],Xi=h(()=>s("span",{class:"item-icon"},"ğŸ“„",-1)),Zi={class:"item-title"},qi={class:"story-content-area"},Yi={key:0,class:"markdown-body story-reader"},Qi={class:"story-page-title"},ec=["innerHTML"],tc={key:1,class:"empty-story-tip"},sc=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ“",-1)),oc=h(()=>s("div",null,[P("æœ¬ç¯‡æ–‡ç« æš‚æ— å†…å®¹"),s("br"),P("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),P(" å¼€å§‹å†™ä½œ")],-1)),nc=[sc,oc],lc={key:1,class:"story-editor-layout"},ac={style:{"margin-bottom":"10px"}},ic={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},cc={style:{flex:"1",display:"flex","flex-direction":"column"}},rc=h(()=>s("span",null,"Markdown ç¼–è¾‘",-1)),uc={class:"desktop-only preview-pane"},dc=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),vc=["innerHTML"],hc={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},pc={class:"modal-box",style:{"max-width":"400px","text-align":"left"}},fc=h(()=>s("h3",{class:"modal-title"},"â˜ï¸ GitHub äº‘åŒæ­¥é…ç½®",-1)),_c=h(()=>s("p",{style:{"font-size":"12px",color:"#666","margin-bottom":"15px","line-height":"1.5"}},[P(" åˆ©ç”¨ GitHub Gist å®ç°å…è´¹ç§æœ‰äº‘åŒæ­¥ã€‚"),s("br"),P(" æ•°æ®å­˜å‚¨åœ¨æ‚¨è‡ªå·±çš„ GitHub è´¦å·ä¸­ï¼Œå®‰å…¨å¯æ§ã€‚ ")],-1)),gc={style:{"margin-bottom":"15px"}},yc=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"GitHub Token (å‹¾é€‰ gist æƒé™)",-1)),mc={style:{"margin-bottom":"20px"}},bc=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"Gist ID (æµè§ˆå™¨åœ°å€æ æœ€åä¸€æ®µ)",-1)),kc={class:"modal-actions"},xc=h(()=>s("div",{style:{"margin-top":"15px","font-size":"12px",color:"#999","text-align":"center"}}," é…ç½®ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚ ",-1)),wc="/my-ielts/timeout.mp3",Cc="/my-ielts/do.mp3",Sc={__name:"index",setup(Qe){const gs=e=>{new Audio(e).play().catch(o=>console.log("äº¤äº’å—é™:",o))},Pt=["#ef4444","#3b82f6","#f59e0b","#8b5cf6","#10b981","#ec4899","#06b6d4","#f97316","#6366f1","#84cc16","#d946ef"],ys=["#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6"],F=(e,t)=>{const o=p(t);return mt(()=>{try{const a=localStorage.getItem(e);a&&(o.value=JSON.parse(a))}catch{}}),fe(o,a=>localStorage.setItem(e,JSON.stringify(a)),{deep:!0}),o},bt=w?Object.keys(w):[],$=F("my_ielts_chapter",bt[0]||""),y=F("my_ielts_review",[]),W=F("my_ielts_killed",[]),T=F("my_ielts_mastered",[]),ae=F("my_ielts_completed_parts",{}),C=F("my_ielts_custom_dict",{}),Ue=F("my_ielts_audio_peek_history",[]),Z=F("my_ielts_group_notes",{}),E=p(!1),_=p(!1),z=p(0),Ie=$e({}),et=[5,30,720,1440,2880,5760],ye=p([]),D=$e(new Set),ie=$e(new Set),ms=e=>{ie.has(e)?ie.delete(e):ie.add(e)},bs=e=>{D.has(e)?D.delete(e):D.add(e)},Wt=e=>{const t=Array.from(document.querySelectorAll(".dictation-input")),o=t.indexOf(e.target);e.shiftKey?o>0&&(t[o-1].focus(),setTimeout(()=>t[o-1].select(),10)):o>-1&&o<t.length-1&&t[o+1].focus()},Re=F("my_ielts_page_stories",{}),tt=p(!1),L=p([]),me=p(0),q=p(!1),Ut=()=>`${$.value}_Part${z.value}`,ks=()=>{const e=Ut(),t=Re.value[e];t?t.content&&!Array.isArray(t)?L.value=[{title:"æ–‡ç«  1",content:t.content}]:Array.isArray(t)?L.value=JSON.parse(JSON.stringify(t)):L.value=[{title:"æ–‡ç«  1",content:""}]:L.value=[{title:"æ–‡ç«  1",content:""}],me.value=0,q.value=!L.value[0].content,tt.value=!0},Rt=e=>{me.value=e,q.value=!L.value[e].content},xs=()=>{const e=L.value.length;L.value.push({title:`æ–‡ç«  ${e+1}`,content:""}),Rt(e),q.value=!0},ws=()=>{if(L.value.length<=1){L.value[0].content="",L.value[0].title="æ–‡ç«  1",G("å·²æ¸…ç©ºå†…å®¹");return}confirm("ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿ")&&(L.value.splice(me.value,1),me.value>=L.value.length&&(me.value=L.value.length-1))},Cs=()=>{const e=Ut();Re.value={...Re.value,[e]:L.value},q.value=!1,G("æœ¬é¡µæ‰€æœ‰æ–‡ç« å·²ä¿å­˜ ğŸ’¾")},de=J(()=>L.value[me.value]||{title:"",content:""}),Ss=()=>{const e=[];if(ve.value.forEach(o=>{o.list&&o.list.forEach(a=>e.push(a.en))}),e.length===0)return;const t=`Please write a short, interesting story (about 150-200 words) using the following vocabulary. Highlight the vocabulary words in bold within the story.

Words: ${e.join(", ")}`;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{G("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),G("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")}},be=p(!1),V=$e(new Set),$s=()=>{be.value=!be.value,be.value||V.clear()},Is=e=>{V.has(e)?V.delete(e):V.add(e)};fe([$,z,_,E],()=>{D.clear(),ie.clear(),V.clear()}),fe([$,z,_,E],()=>{D.clear(),ie.clear()});const st=J(()=>{if(ve.value.length===0)return!1;const e=[];return ve.value.forEach(t=>t.list.forEach(o=>e.push(o.en))),e.length>0&&e.every(t=>D.has(t))}),Bt=()=>{const e=[];ve.value.forEach(o=>o.list.forEach(a=>e.push(a.en))),e.every(o=>D.has(o))?D.clear():e.forEach(o=>D.add(o))},Be=e=>e?Array.isArray(e)?Be(e[0]):String(e):"",ot=e=>{if(!e)return"";if(Array.isArray(e)){const o=[];return e[4]&&typeof e[4]=="string"&&e[4]!=="-"&&o.push(e[4]),e[5]&&typeof e[5]=="string"&&e[5]!=="-"&&o.push(e[5]),o.join("; ")}if(e.notation)return e.notation;if(e.phrase)return e.phrase;if(e.phrases)return e.phrases;if(e.collocation)return e.collocation;if(e.collocations)return e.collocations;if(e.extend)return e.extend;if(e.extension)return e.extension;if(e.note)return e.note;if(e.usage)return e.usage;if(e.æ‹“å±•)return e.æ‹“å±•;if(e.æ­é…)return e.æ­é…;if(e.çŸ­è¯­)return e.çŸ­è¯­;const t=Object.keys(e);for(const o of t){const a=o.toLowerCase();if((a.includes("not")||a.includes("phr")||a.includes("coll")||a.includes("ext"))&&typeof e[o]=="string"&&a!=="pronunciation"&&a!=="uk_audio"&&a!=="us_audio")return e[o]}return""},kt=e=>{if(C.value[e])return{en:e,zh:C.value[e].zh,pos:"è‡ªé€‰",example:"",notation:"æˆ‘çš„ç”Ÿè¯æœ¬",id:"â˜…",source:"ç”Ÿè¯æœ¬"};let t=0;for(const o in w){const a=w[o].words||w[o].list||[];let i=0,d=0;const n=35,u=45;for(let l=0;l<a.length;l++){const g=a[l];let S=0;for(const m of g)S++;const M=d+S;d>0&&(d>=n||M>u)&&(i++,d=0);for(const m of g){let k="",ee="",j="",pe="",yt="";Array.isArray(m)?(k=m[0],ee=m[1]||"",j=m[2]||"",pe=m[3]||"",yt=ot(m)):(k=m.word||m.en,ee=m.pos||"",j=m.meaning||m.trans||m.zh||"",pe=m.example||"",yt=ot(m));const hs=Be(k);if(t++,hs===e)return{en:hs,zh:j,pos:ee,example:pe,notation:yt,id:t,source:`${o} Part ${i+1}`}}d+=S}}return{en:e,zh:"æœªæ‰¾åˆ°é‡Šä¹‰",pos:"",example:"",notation:"",id:"-",source:"æœªçŸ¥"}},Ms=J(()=>{let e=0;for(const t in w)(w[t].words||w[t].list||[]).forEach(a=>e+=a.length);return e}),nt=J(()=>{const e=Ms.value,t=y.value.length,o=new Set([...W.value,...T.value]).size,a=Math.max(0,e-t-o);return{total:e,learning:t,learned:o,unlearned:a}}),Ts=J(()=>{const e={};let t=0;for(const o of bt){e[o]=t;const a=w[o];(a.words||a.list||[]).forEach(d=>d.forEach(n=>{t++}))}return e}),As=J(()=>{if(!$.value||!w[$.value])return[];const e=w[$.value].words||w[$.value].list||[];let t=[],o=Ts.value[$.value]||0;return e.forEach((a,i)=>{const d=Pt[i%Pt.length];let n=[];a.forEach(u=>{let l="",g="",S="",M="",m="";Array.isArray(u)?(l=u[0],g=u[1]||"",S=u[2]||"",M=u[3]||"",m=ot(u)):(l=u.word||u.en,g=u.pos||"",S=u.meaning||u.trans||u.zh||"",M=u.example||"",m=ot(u));const k=Be(l);o++;const ee=T.value.includes(k),j=W.value.includes(k);n.push({_id:o,en:k,zh:S,pos:g,example:M,notation:m,_color:d,_groupId:i,_isMastered:ee,_isKilled:j})}),n.length>0&&t.push(n)}),t}),Me=J(()=>{if(_.value)return[];const e=As.value,t=35,o=45;let a=[],i=[],d=0;return e.forEach(n=>{const u=d+n.length;d>0&&(d>=t||u>o)&&(a.push(i),i=[],d=0),i.push(...n),d+=n.length}),i.length>0&&a.push(i),a}),Es=J(()=>_.value?["å…¨éƒ¨é”™é¢˜"]:Me.value.map((e,t)=>{var n;if(!e||e.length===0)return`Part ${t+1}`;const o=e[0]._id,a=e[e.length-1]._id,i=e.length,d=(n=ae.value[$.value])==null?void 0:n.includes(t);return`Part ${t+1} (${o}-${a}) ${i}ä¸ª ${d?"âœ”":""}`})),zs=e=>{const t=w[e];if(!t)return 0;const o=t.words||t.list||[],a=35,i=45;let d=0,n=0;return o.forEach(u=>{const l=u.length,g=n+l;n>0&&(n>=a||g>i)&&(d++,n=0),n+=l}),n>0&&d++,d},Ds=J(()=>bt.map(e=>{const t=zs(e),a=(ae.value[e]||[]).length,i=t>0&&a>=t;return{value:e,label:e,isDone:i}})),ve=J(()=>{if(_.value){const i=ye.value.length>0?ye.value:y.value,d={5:[],4:[],3:[],2:[],1:[],0:[]};i.forEach((l,g)=>{const S=l.stage>=6?5:l.stage||0;d[S]&&d[S].push({...kt(l.w),_review:l,_id:g+1})});const n=[],u=["é˜¶æ®µ 1 - æ–°æ‰‹/é‡æ¥ (5åˆ†é’Ÿ)","é˜¶æ®µ 2 - å…¥é—¨ (30åˆ†é’Ÿ)","é˜¶æ®µ 3 - ç†Ÿæ‚‰ (12å°æ—¶)","é˜¶æ®µ 4 - æŒæ¡ (1å¤©)","é˜¶æ®µ 5 - ç‰¢å›º (2å¤©)","é˜¶æ®µ 6 - å¤§å¸ˆ (4å¤©+)"];for(let l=5;l>=0;l--)d[l].length>0&&n.push({color:ys[l],title:`ğŸ”¥ ${u[l]} [${d[l].length}ä¸ª]`,list:d[l]});return n}const e=Me.value[z.value]||[];if(e.length===0)return[];let t=[],o=null,a=-999;return e.forEach(i=>{i._groupId!==a&&(o={color:i._color,list:[],groupId:i._groupId},t.push(o),a=i._groupId),o.list.push(i)}),t});function xt(){if(!_.value)return;const e=y.value.filter(t=>t.time<=Date.now());ye.value=JSON.parse(JSON.stringify(e));for(const t in Ie)delete Ie[t];D.clear(),ie.clear(),V.clear(),Ye(()=>{document.querySelectorAll(".dictation-input").forEach(o=>{o.value="",o.classList.remove("correct","error")})})}fe(_,e=>{if(e){const t=y.value.filter(o=>o.time<=Date.now());ye.value=JSON.parse(JSON.stringify(t))}else ye.value=[]},{immediate:!0}),fe(y,e=>{if(_.value&&ye.value.length===0){const t=e.filter(o=>o.time<=Date.now());ye.value=JSON.parse(JSON.stringify(t))}});let Ge=!1;fe($,()=>{Ge||(z.value=0,_.value=!1)});const X=p(null),K=p(null),Ve=e=>{const t="Mywonn",o="my-ielts",a="master";if(D.has(e)&&!Ue.value.includes(e)&&Ue.value.push(e),K.value===e){X.value&&(X.value.pause(),X.value=null),window.speechSynthesis.cancel(),K.value=null;return}X.value&&(X.value.pause(),X.value=null),window.speechSynthesis.cancel();const i=()=>{K.value=e;const l=new SpeechSynthesisUtterance(e);l.lang="en-US",l.volume=1,l.rate=.85;const g=window.speechSynthesis.getVoices(),S=g.find(M=>M.name.includes("Google US"))||g.find(M=>M.lang.includes("en-US"));S&&(l.voice=S),l.onend=()=>{K.value=null},l.onerror=M=>{console.error("TTS Error:",M),K.value=null},window.speechSynthesis.speak(l)};if(C.value[e]){K.value=e,i();return}let d=$.value;if(_.value&&w){for(const l in w)if((w[l].words||w[l].list||[]).some(M=>M.some(m=>{const k=Array.isArray(m)?m[0]:m.word||m.en;return Be(k)===e}))){d=l;break}}const n=`https://cdn.jsdelivr.net/gh/${t}/${o}@${a}/public/vocabulary/audio/${d}/${e}.mp3`;console.log("CDNæ’­æ”¾:",n);const u=new Audio(n);X.value=u,K.value=e,u.onerror=()=>{console.warn("CDN èµ„æºæœªæ‰¾åˆ°æˆ–åŠ è½½å¤±è´¥ï¼Œè‡ªåŠ¨é™çº§ä¸º TTS"),X.value=null,i()},u.onended=()=>{K.value=null,X.value=null},u.play().catch(l=>{console.log("æ’­æ”¾è¢«æ‹¦æˆªæˆ–å¤±è´¥ï¼Œè½¬TTS",l),i()})},Ls=e=>{K.value!==e&&(D.has(e)||Ve(e))},Ns=e=>{if(!e)return console.warn("æ²¡æœ‰æ–‡æœ¬å¯è¯»");X.value&&(X.value.pause(),X.value=null),K.value=null,window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.9,t.volume=1;const o=window.speechSynthesis.getVoices(),a=o.find(i=>i.name.includes("Google US"))||o.find(i=>i.lang.includes("en-US"));a&&(t.voice=a),window._debug_utterance=t,t.onerror=i=>{console.error("æœ—è¯»æŠ¥é”™:",i),i.error!=="canceled"&&i.error!=="interrupted"&&alert("è¯­éŸ³æ’­æ”¾å‡ºé”™: "+i.error)},setTimeout(()=>{window.speechSynthesis.speak(t),console.log("æ­£åœ¨æ’­æ”¾:",e,"ä½¿ç”¨è¯­éŸ³:",a?a.name:"ç³»ç»Ÿé»˜è®¤")},10)};function Os(e,t){let o=t.target.value.trim().toLowerCase(),a=e.en.toLowerCase();const i=n=>n.replace(/[\u2018\u2019`]/g,"'").replace(/\s+/g," "),d=i(o)===i(a);if(Ie[e.en]=d?"correct":"error",d){if(D.has(e.en)||D.add(e.en),!_.value){ze("learn",1),T.value.includes(e.en)||(T.value.push(e.en),ze("kill",1));const u=y.value.findIndex(l=>l.w===e.en);u>-1&&y.value.splice(u,1);return}const n=y.value.findIndex(u=>u.w===e.en);if(n>-1){ze("review",1);const u=y.value[n];u.stage+=1,u.stage>=et.length?(y.value.splice(n,1),W.value.includes(e.en)||(W.value.push(e.en),ze("kill",1))):(u.time=Date.now()+et[u.stage]*6e4,y.value=[...y.value])}}else if(D.has(e.en)||D.add(e.en),!_.value)T.value.includes(e.en)&&(T.value=T.value.filter(u=>u!==e.en)),y.value.find(u=>u.w===e.en)||y.value.push({w:e.en,stage:0,time:Date.now()+et[0]*6e4});else{const n=y.value.findIndex(u=>u.w===e.en);n>-1&&(y.value[n].stage=0,y.value[n].time=Date.now()+et[0]*6e4)}}const Gt=e=>{if(W.value.includes(e)){if(!confirm(`ç¡®å®šè¦æ’¤é”€æ–©æ€ï¼Œæ¢å¤ "${e}" å—ï¼Ÿ`))return;W.value=W.value.filter(o=>o!==e),G(`"${e}" å·²æ¢å¤ ğŸº`);return}if(!confirm(`ç¡®å®šè¦æ–©æ€ "${e}" å—ï¼Ÿ
(å®ƒå°†å˜ä¸ºç´«è‰²å½’æ¡£çŠ¶æ€)`))return;W.value.push(e),ze("kill",1);const t=y.value.findIndex(o=>o.w===e);t>-1&&y.value.splice(t,1),T.value.includes(e)&&(T.value=T.value.filter(o=>o!==e))};function Ps(){const e={k:W.value,r:y.value,c:ae.value,m:T.value,d:C.value,s:U.value,n:Z.value},t=new Blob([JSON.stringify(e)],{type:"application/json"}),o=URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=`ielts_data_${new Date().toISOString().slice(0,10)}.json`,a.click()}const Ws=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{});else{const t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}};function Us(){document.getElementById("fileInput").click()}function Rs(e){const t=e.target.files[0];if(!t)return;const o=new FileReader;o.onload=a=>{try{const i=JSON.parse(a.target.result);(i.k||i.r||i.d)&&(i.k&&(W.value=i.k),i.r&&(y.value=i.r),i.c&&(ae.value=i.c),i.m&&(T.value=i.m),i.d&&(C.value=i.d),i.s&&(U.value=i.s),i.n&&(Z.value=i.n),alert("åŒæ­¥æˆåŠŸ"),location.reload())}catch{alert("æ–‡ä»¶æ ¼å¼é”™è¯¯")}},o.readAsText(t),e.target.value=""}const ke=p(!1),lt=p(""),Te=p(!1),at=p(""),it=p(""),wt=p(!1),Vt=p("");p(!1);const Ae=p(!1),Ct=p(null);let ct=null;const Ee=p("week"),U=F("my_ielts_stats_history",{}),Ke=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},ze=(e,t=1)=>{const o=Ke();U.value[o]||(U.value[o]={duration:0,review:0,kill:0,add:0}),typeof U.value[o][e]>"u"&&(U.value[o][e]=0),U.value[o][e]+=t,U.value={...U.value}},Kt=async()=>{if(Ct.value){ct&&(ct.destroy(),ct=null);try{const{Chart:e,registerables:t}=await Io(()=>import("https://cdn.jsdelivr.net/npm/chart.js/+esm"),[],import.meta.url);e.register(...t);const o=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark"),a=o?"#cbd5e1":"#666",i=o?"#334155":"#e5e7eb",d=Ee.value==="week"?7:30,n=[],u=[],l=[],g=[],S=[],M=new Date;for(let m=d-1;m>=0;m--){const k=new Date(M.getTime()-m*24*60*60*1e3),ee=`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-${String(k.getDate()).padStart(2,"0")}`;n.push(String(k.getDate())+"æ—¥");const j=U.value[ee]||{duration:0,review:0,learn:0,kill:0};u.push(Math.round(j.duration/60)),l.push(j.review||0),g.push(j.learn||0),S.push(j.kill||0)}ct=new e(Ct.value,{type:"bar",data:{labels:n,datasets:[{label:"æ–°å­¦ (ä¸ª)",data:g,backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"#10b981",borderWidth:1,yAxisID:"y",order:4,stack:"combined"},{label:"å¤ä¹  (ä¸ª)",data:l,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"#3b82f6",borderWidth:1,yAxisID:"y",order:3,stack:"combined"},{label:"æ–©æ€ (ä¸ª)",data:S,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"#ef4444",borderWidth:1,yAxisID:"y",order:2,stack:"combined"},{type:"line",label:"ä¸“æ³¨ (åˆ†)",data:u,borderColor:"#f59e0b",backgroundColor:"#f59e0b",borderWidth:2,pointRadius:3,tension:.3,yAxisID:"y1",order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:a}}},scales:{x:{ticks:{color:a},grid:{color:i}},y:{type:"linear",display:!0,position:"left",stacked:!0,title:{display:!0,text:"å•è¯é‡",color:a},ticks:{color:a},grid:{color:i}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"åˆ†é’Ÿ",color:a},ticks:{color:a}}}}})}catch(e){console.error("å›¾è¡¨åŠ è½½å¤±è´¥:",e)}}};fe(Ae,e=>{e&&setTimeout(Kt,100)}),fe(Ee,()=>{Ae.value&&Kt()});function Bs(){lt.value="",ke.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("custom-word-input"))==null?void 0:e.focus()},100)}function jt(){const e=lt.value;if(!e||!e.trim()){ke.value=!1;return}const t=e.trim();ke.value=!1,setTimeout(()=>{kt(t).zh==="æœªæ‰¾åˆ°é‡Šä¹‰"?(it.value=t,at.value="",Te.value=!0,setTimeout(()=>{var a;return(a=document.getElementById("custom-meaning-input"))==null?void 0:a.focus()},100)):Jt(t)},200)}function Ht(){const e=at.value.trim();e&&(Te.value=!1,C.value={...C.value,[it.value]:{zh:e}},Jt(it.value))}function Jt(e){ke.value=!1,Te.value=!1;const t=y.value.findIndex(o=>o.w===e);t>-1?(y.value[t].stage=0,y.value[t].time=Date.now(),G(`"${e}" å·²é‡ç½®å¤ä¹ è¿›åº¦ï¼ğŸ”„`)):(y.value.push({w:e,stage:0,time:Date.now()}),G(`"${e}" å·²åŠ å…¥å¤ä¹ ï¼âœ…`)),_.value&&xt()}function G(e){Vt.value=e,wt.value=!0,setTimeout(()=>{wt.value=!1},1500)}const je=p(!1),oe=$e({oldWord:"",newWord:"",newZh:""}),Gs=e=>{oe.oldWord=e.en,oe.newWord=e.en,oe.newZh=e.zh,je.value=!0},Vs=()=>{const e=oe.oldWord,t=oe.newWord.trim(),o=oe.newZh.trim();if(!t)return alert("å•è¯ä¸èƒ½ä¸ºç©º");if(e===t)C.value[e]?C.value[e].zh=o:C.value={...C.value,[e]:{zh:o}},G("é‡Šä¹‰å·²æ›´æ–°");else{if(C.value[e]){const i={...C.value};delete i[e],i[t]={zh:o},C.value=i}else C.value={...C.value,[t]:{zh:o}};const a=y.value.findIndex(i=>i.w===e);a>-1&&(y.value[a].w=t),W.value.includes(e)&&(W.value=W.value.filter(i=>i!==e),W.value.push(t)),T.value.includes(e)&&(T.value=T.value.filter(i=>i!==e),T.value.push(t)),G(`å·²ä¿®æ­£: ${e} -> ${t}`)}_.value&&xt(),je.value=!1},xe=p(!1),rt=p(window.innerWidth-320-5),St=p(window.innerHeight*.26),ne=p(null);let I=null,$t=!1,It=!1,Ft=0,Xt=0,De=null;const Zt=e=>{const t=ne.value;if(!t)return{x:0,y:0};const o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}},Mt=()=>{if(!ne.value)return;const e=ne.value,t=e.getBoundingClientRect(),o=Math.ceil(t.width),a=Math.ceil(t.height);o<1||a<1||(e.width!==o||e.height!==a?(e.width=o,e.height=a,I=e.getContext("2d"),I&&(I.strokeStyle="#ffffff",I.lineWidth=3,I.lineCap="round",I.lineJoin="round")):I||(I=e.getContext("2d")))},Ks=e=>{if(we.value||(e.cancelable&&e.preventDefault(),!ne.value)||(I||Mt(),!I))return;if($t=!0,e.target.setPointerCapture&&e.pointerId)try{e.target.setPointerCapture(e.pointerId)}catch{}I.strokeStyle="#ffffff",I.lineWidth=3,I.beginPath();const{x:o,y:a}=Zt(e);I.moveTo(o,a)},js=e=>{if(!$t||!I)return;e.cancelable&&e.preventDefault();const{x:t,y:o}=Zt(e);I.lineTo(t,o),I.stroke()},qt=e=>{if($t=!1,e&&e.target.releasePointerCapture&&e.pointerId)try{e.target.releasePointerCapture(e.pointerId)}catch{}},Tt=()=>{!ne.value||!I||I.clearRect(0,0,ne.value.width,ne.value.height)},Hs=e=>{e.target.tagName!=="BUTTON"&&(It=!0,Ft=e.clientX-rt.value,Xt=e.clientY-St.value,window.addEventListener("mousemove",Yt),window.addEventListener("mouseup",Qt))},Yt=e=>{It&&(rt.value=e.clientX-Ft,St.value=e.clientY-Xt)},Qt=()=>{It=!1,window.removeEventListener("mousemove",Yt),window.removeEventListener("mouseup",Qt)},es=()=>{xe.value=!xe.value,xe.value?(Ye(()=>{Mt(),ne.value&&!De&&(De=new ResizeObserver(()=>{Mt()}),De.observe(ne.value))}),window.addEventListener("keydown",ts)):(De&&(De.disconnect(),De=null),window.removeEventListener("keydown",ts))},ts=e=>{xe.value&&e.code==="Space"&&(e.preventDefault(),Tt())};function Js(){if(y.value.length===0){alert("å½“å‰æ²¡æœ‰é”™é¢˜è®°å½•");return}let e=`My IELTS Mistakes

`;[...y.value].sort((d,n)=>d.time-n.time).forEach((d,n)=>{const u=kt(d.w);e+=`${n+1}. ${u.en} ${u.pos}
   [ä¹‰] ${u.zh}
`,u.example&&(e+=`   [ä¾‹] ${u.example}
`),u.notation&&(e+=`   [æ³¨] ${u.notation}
`),e+=`
`});const o=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download="mistakes.txt",i.click(),URL.revokeObjectURL(a)}const ss=J(()=>(ae.value[$.value]||[]).includes(z.value)),Fs=()=>{const e=$.value,t=z.value,o={...ae.value};o[e]||(o[e]=[]),o[e].includes(t)?o[e]=o[e].filter(a=>a!==t):o[e].push(t),ae.value=o},os=e=>{const t=z.value+e;t>=0&&t<Me.value.length&&(z.value=t,window.scrollTo({top:0,behavior:"smooth"}))},Xs=[.0834,10,15,25,30,45,60],ut=F("my_ielts_focus_dur",30),Le=()=>Math.round(ut.value*60),we=p(!1),At=p(!1),N=p(Le()),le=p("idle"),R=p(!1);let H=null;const ns=e=>{const t=Math.floor(e/60),o=e%60;return`${t<10?"0"+t:t}:${o<10?"0"+o:o}`},He=()=>{localStorage.setItem("my_ielts_pomo",JSON.stringify({seconds:N.value,isBreak:R.value,state:le.value,timestamp:Date.now()}))},Zs=()=>{H&&clearInterval(H),H=null,le.value="paused",He()},Ne=e=>{R.value=!0,N.value=Math.round(e*60),we.value=!1,dt()},qs=()=>{R.value=!1,N.value=Le(),we.value=!1,dt()},Ys=()=>{le.value==="idle"&&!R.value&&(N.value=Le())},Qs=()=>{we.value=!1,He()},dt=()=>{le.value!=="running"&&(H&&clearInterval(H),N.value<=0&&(N.value=R.value?5*60:Le()),le.value="running",He(),H=setInterval(()=>{if(N.value>0){N.value--;const e=R.value?"â˜•":"ğŸ…",t=R.value?"ä¼‘æ¯":"ä¸“æ³¨";document.title=`${ns(N.value)} ${e} ${t}`,R.value||ze("duration",1),He()}else{Et(!1);const e=R.value;At.value=e,gs(e?Cc:wc),we.value=!0,document.title="ğŸ”” æ—¶é—´åˆ°ï¼",R.value=!e,N.value=R.value?5*60:Le(),He()}},1e3))},Et=(e=!0)=>{H&&(clearInterval(H),H=null),le.value="idle",localStorage.removeItem("my_ielts_pomo"),e&&(N.value=R.value?5*60:Le(),document.title="MyIELTS")},ls=p(!1),as=()=>{ls.value=window.scrollY>300},eo=()=>{window.scrollTo({top:0,behavior:"smooth"})};mt(()=>{window.addEventListener("resize",zt),window.addEventListener("scroll",as)}),ps(()=>{H&&clearInterval(H),qe&&clearTimeout(qe),window.removeEventListener("resize",zt),window.removeEventListener("scroll",as)}),ps(()=>{H&&clearInterval(H)}),mt(()=>{const e=localStorage.getItem("my_ielts_pomo");if(e)try{const d=JSON.parse(e);if(R.value=d.isBreak,d.state==="paused")N.value=d.seconds,le.value="paused";else if(d.state==="running"){const n=Date.now(),u=Math.floor((n-d.timestamp)/1e3),l=d.seconds-u;l>0?(N.value=l,dt()):(N.value=0,Et(!1))}}catch(d){console.error("ç•ªèŒ„é’Ÿæ¢å¤å¤±è´¥",d)}window.speechSynthesis.getVoices();const t=new URLSearchParams(window.location.search),o=t.get("chap"),a=t.get("part"),i=t.get("anchor");o&&a&&(Ge=!0,_.value=!1,$.value=decodeURIComponent(o),z.value=parseInt(a),Ye(()=>{Ge=!1}),setTimeout(()=>{let d=null;if(i){const u="word-row-"+decodeURIComponent(i).replace(/\s+/g,"_");d=document.getElementById(u)}d||(d=document.querySelector(".row-item")),d&&(d.scrollIntoView({behavior:"smooth",block:"center"}),d.classList.add("highlight-flash"),setTimeout(()=>d.classList.remove("highlight-flash"),2500))},600))}),document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"&&le.value==="running"){const e=localStorage.getItem("my_ielts_pomo");if(e)try{const t=JSON.parse(e),o=Date.now(),a=Math.floor((o-t.timestamp)/1e3);if(a>1){console.log(`åå°è¿è¡Œäº† ${a} ç§’ï¼Œæ­£åœ¨æ ¡å‡†...`);const i=t.seconds-a;i>0?N.value=i:N.value=0}}catch(t){console.error("æ ¡å‡†æ—¶é—´å¤±è´¥",t)}}});const Je=p(!1),Oe=p(""),Y=p([]),to=()=>{Oe.value="",Y.value=[],Je.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("global-search-input"))==null?void 0:e.focus()},100)},ce=p(-1),is=e=>{if(Y.value.length===0)return;const t=Y.value.length;ce.value===-1?ce.value=e>0?0:t-1:ce.value=(ce.value+e+t)%t,Ye(()=>{const o=document.querySelector(".search-item.selected");o&&o.scrollIntoView({block:"nearest",behavior:"smooth"})})},so=()=>{ce.value=-1;const e=Oe.value.trim().toLowerCase();if(!e){Y.value=[];return}const t=[],o=new Set;for(const a in C.value)a.toLowerCase().includes(e)&&(t.push({en:a,zh:C.value[a].zh,source:"æˆ‘çš„ç”Ÿè¯æœ¬",isCustom:!0}),o.add(a));if(w)for(const a in w){const i=w[a].words||w[a].list||[];let d=0,n=0;const u=35,l=45;for(let g=0;g<i.length;g++){const S=i[g];let M=0;for(const k of S)M++;const m=n+M;n>0&&(n>=u||m>l)&&(d++,n=0);for(const k of S){let ee="",j="";Array.isArray(k)?(ee=k[0],j=k[2]||""):(ee=k.word||k.en,j=k.meaning||k.trans||k.zh||"");const pe=Be(ee);pe.toLowerCase().includes(e)&&!o.has(pe)&&(t.push({en:pe,zh:j,source:`${a} Â· Part ${d+1}`,chapter:a,partIdx:d,isCustom:!1}),o.add(pe))}n+=M}if(t.length>100)break}t.sort((a,i)=>{const d=a.en.toLowerCase(),n=i.en.toLowerCase();if(d===e&&n!==e)return-1;if(n===e&&d!==e)return 1;const u=d.startsWith(e),l=n.startsWith(e);return u&&!l?-1:l&&!u?1:d.length-n.length}),Y.value=t.slice(0,50)},oo=()=>{const e=Oe.value.trim().toLowerCase();if(!e||Y.value.length===0)return;if(ce.value!==-1){const o=Y.value[ce.value];if(o){Fe(o);return}}const t=Y.value.find(o=>o.en.toLowerCase()===e);Fe(t||Y.value[0])},no=e=>{if(!e.source||e.source==="ç”Ÿè¯æœ¬"||e.source==="æœªçŸ¥"){G("è¯¥è¯å±äºè‡ªå®šä¹‰ç”Ÿè¯ï¼Œæ— å›ºå®šç« èŠ‚ä½ç½®");return}const t=" Part ",o=e.source.lastIndexOf(t);if(o===-1){console.warn("æ— æ³•è§£æå‡ºå¤„æ ¼å¼:",e.source);return}const a=e.source.substring(0,o),i=e.source.substring(o+t.length),d=parseInt(i)-1,n={en:e.en,chapter:a,partIdx:d,isCustom:!1};Fe(n)},Fe=e=>{e.isCustom||e.partIdx===void 0||(Je.value=!1,_.value=!1,Ge=!0,$.value=e.chapter,z.value=e.partIdx,Ye(()=>{Ge=!1}),setTimeout(()=>{const t="word-row-"+e.en.replace(/\s+/g,"_"),o=document.getElementById(t);o?(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("highlight-flash"),setTimeout(()=>o.classList.remove("highlight-flash"),2e3)):console.warn("æœªæ‰¾åˆ°å…ƒç´ :",t)},400))},cs=e=>{const t=typeof e=="string"?e:e.source,o=typeof e=="string"?"":e.en;if(!t||t==="ç”Ÿè¯æœ¬"||t==="æœªçŸ¥")return"#";const a=" Part ",i=t.lastIndexOf(a);if(i===-1)return"#";const d=t.substring(0,i),n=t.substring(i+a.length),u=parseInt(n)-1;let l=`?chap=${encodeURIComponent(d)}&part=${u}`;o&&(l+=`&anchor=${encodeURIComponent(o)}`);const g=window.location.hash;return`${window.location.pathname}${l}${g}`},vt=$e({}),lo=e=>{vt[e]=!vt[e]},Xe=e=>!e||!e.list||e.list.length===0?!1:e.list.every(t=>V.has(t.en)),ao=e=>{const t=Xe(e);e.list.forEach(o=>{t?V.delete(o.en):V.add(o.en)})},io=()=>{const e=[];if(ve.value.forEach(o=>{o.list&&o.list.forEach(a=>e.push(a.en))}),e.length===0)return G("å½“å‰æ²¡æœ‰å•è¯å¯å¤åˆ¶");const t=e.join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{G(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),G(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)}},co=e=>{if(!e||!e.list||e.list.length===0)return;const t=e.list.map(o=>o.en).join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{G(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),G(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)}},rs=p(window.innerWidth),zt=()=>rs.value=window.innerWidth;mt(()=>window.addEventListener("resize",zt));const ro=J(()=>xe.value?rt.value>rs.value/2-100:!1),ht=p(!1),Dt=p(""),B=p([]),Ce=p(0),Q=p(!1),Lt=e=>`${$.value}_${e}`,pt=e=>{if(!e)return"";try{return Mo.parse(e)}catch{return e}},us=(e,t="read")=>{const o=Lt(e);Dt.value=o;const a=Z.value[o];a?a.content!==void 0&&!Array.isArray(a)?B.value=[{title:a.title||"è¾¨æç‚¹ 1",content:a.content}]:Array.isArray(a)?B.value=JSON.parse(JSON.stringify(a)):B.value=[{title:"è¾¨æç‚¹ 1",content:""}]:(B.value=[{title:"è¾¨æç‚¹ 1",content:""}],t="edit"),Ce.value=0,Q.value=t==="edit",ht.value=!0},ds=e=>{Ce.value=e,Q.value=!B.value[e].content},uo=()=>{const e=B.value.length;B.value.push({title:`è¾¨æç‚¹ ${e+1}`,content:""}),ds(e),Q.value=!0},vo=()=>{if(B.value.length<=1){B.value[0].content="",B.value[0].title="è¾¨æç‚¹ 1";return}confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è¾¨æå—ï¼Ÿ")&&(B.value.splice(Ce.value,1),Ce.value>=B.value.length&&(Ce.value=B.value.length-1))},ho=()=>{const e=B.value.filter(t=>t.title.trim()||t.content.trim());if(e.length===0){const t={...Z.value};delete t[Dt.value],Z.value=t}else Z.value={...Z.value,[Dt.value]:e};Q.value=!1},he=J(()=>B.value[Ce.value]||{title:"",content:""}),po=e=>{const t=Lt(e),o=Z.value[t];if(!o)return"";if(!Array.isArray(o))return o.title&&o.title.trim()?o.title.trim():o.content?"ğŸ“ è¯ä¹‰è¾¨æ":"";if(o.length>0){const a=o[0];return a.title&&a.title!=="è¾¨æç‚¹ 1"?a.title:`ğŸ“ è¯ä¹‰è¾¨æ (${o.length})`}return""},ft=e=>{const t=Lt(e),o=Z.value[t];return o?Array.isArray(o)?o.length>0:o.title&&o.title.trim()||o.content&&o.content.trim():!1},Ze=p(!1),A=$e({token:localStorage.getItem("my_ielts_gh_token")||"",gistId:localStorage.getItem("my_ielts_gh_gist_id")||""}),Se=p(!1),Pe=p(!1);let qe=null;const _t=F("my_ielts_last_sync_time",""),vs=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");_t.value=`${t}/${o} ${a}:${i}`},gt=p(""),We=p(!1),Nt=p(!1),fo=async()=>{if(!(!A.token||!A.gistId)){Nt.value=!0;try{const e=await fetch(`https://api.github.com/gists/${A.gistId}`,{headers:{Authorization:`token ${A.token}`}});if(e.ok){const t=await e.json(),o=new Date(t.updated_at),a=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0"),d=String(o.getHours()).padStart(2,"0"),n=String(o.getMinutes()).padStart(2,"0");gt.value=`${a}/${i} ${d}:${n}`,_t.value&&gt.value>_t.value?We.value=!0:We.value=!1}}catch(e){console.error("æ£€æµ‹äº‘ç«¯å¤±è´¥",e)}finally{Nt.value=!1}}},_o=()=>{qe&&clearTimeout(qe),Pe.value=!Pe.value,Pe.value&&(fo(),qe=setTimeout(()=>{Pe.value=!1},5e3))},go=()=>{localStorage.setItem("my_ielts_gh_token",A.token.trim()),localStorage.setItem("my_ielts_gh_gist_id",A.gistId.trim()),alert("é…ç½®å·²ä¿å­˜ï¼âœ…"),Ze.value=!1},yo=async()=>{if(!A.token||!A.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("ç¡®å®šè¦è¦†ç›–äº‘ç«¯æ•°æ®å—ï¼Ÿ(äº‘ç«¯æ—§æ•°æ®å°†ä¸¢å¤±)")){Se.value=!0;try{const e={k:W.value,r:y.value,c:ae.value,m:T.value,d:C.value,s:U.value,n:Z.value,st:Re.value,ap:Ue.value},t=JSON.stringify(e),o=`https://api.github.com/gists/${A.gistId}`,a=await fetch(o,{method:"PATCH",headers:{Authorization:`token ${A.token}`,"Content-Type":"application/json"},body:JSON.stringify({files:{"data.json":{content:t}}})});if(a.ok)vs(),alert("â˜ï¸ ä¸Šä¼ æˆåŠŸï¼æ•°æ®å·²å®‰å…¨ä¿å­˜åˆ° Gistã€‚");else throw new Error(a.statusText)}catch(e){alert("ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ Token æˆ–ç½‘ç»œ: "+e.message),console.error(e)}finally{Se.value=!1}}},mo=async()=>{if(!A.token||!A.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("âš ï¸ è­¦å‘Šï¼šè¿™å°†ç”¨äº‘ç«¯æ•°æ®è¦†ç›–å½“å‰æœ¬åœ°è¿›åº¦ï¼ç¡®å®šå—ï¼Ÿ")){Se.value=!0;try{const e=`https://api.github.com/gists/${A.gistId}`,t=await fetch(e,{method:"GET",headers:{Authorization:`token ${A.token}`}});if(!t.ok)throw new Error(t.statusText);const a=(await t.json()).files["data.json"].content,i=JSON.parse(a);i.k&&(W.value=i.k),i.r&&(y.value=i.r),i.c&&(ae.value=i.c),i.m&&(T.value=i.m),i.d&&(C.value=i.d),i.s&&(U.value=i.s),i.n&&(Z.value=i.n),i.st&&(Re.value=i.st),i.ap&&(Ue.value=i.ap),vs(),alert("â˜ï¸ åŒæ­¥æˆåŠŸï¼æœ¬åœ°è¿›åº¦å·²æ›´æ–°ã€‚"),location.reload()}catch(e){alert("ä¸‹è½½å¤±è´¥: "+e.message),console.error(e)}finally{Se.value=!1}}};return(e,t)=>{var o,a,i,d;return r(),c(ue,null,[s("div",To,[s("div",Ao,[s("div",Eo,[s("div",zo,[s("div",Do,[s("button",{class:x(["tab-btn",{active:!_.value}]),onClick:t[0]||(t[0]=n=>_.value=!1)},"ğŸ“– å­¦ä¹ ",2),s("button",{class:x(["tab-btn review-tab",{active:_.value}]),onClick:t[1]||(t[1]=n=>_.value=!0)},[P(" ğŸ”¥ å¤ä¹ "),re(y).filter(n=>n.time<Date.now()).length>0?(r(),c("span",Lo)):f("",!0)],2)]),s("label",No,[O(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>E.value=n)},null,512),[[ko,E.value]]),s("span",null,v(E.value?"ğŸ™ï¸ ":"ğŸ‘€ "),1)]),E.value?(r(),c("button",{key:0,class:"mobile-only tool-btn-simple",onClick:Bt,style:{"margin-left":"10px","font-size":"20px"},title:st.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(st.value?"ğŸ“–":"ğŸ™ˆ"),9,Oo)):f("",!0)]),s("div",Po,[_.value?f("",!0):(r(),c("div",Wo,[O(s("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>fs($)?$.value=n:null),class:"sel-chap"},[(r(!0),c(ue,null,_e(Ds.value,n=>(r(),c("option",{key:n.value,value:n.value},v(n.label)+v(n.isDone?"âœ…":""),9,Uo))),128))],512),[[Ot,re($)]]),O(s("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>z.value=n),class:"sel-part"},[(r(!0),c(ue,null,_e(Es.value,(n,u)=>(r(),c("option",{key:u,value:u},v(n),9,Ro))),128))],512),[[Ot,z.value]])])),s("div",{class:x(["stats-bar",{"compact-mode":!_.value}])},[_.value?(r(),c("span",Bo,"ğŸ“š "+v(nt.value.total),1)):f("",!0),s("span",Go,"ğŸ”¥ "+v(nt.value.learning),1),s("span",Vo,"âœ… "+v(nt.value.learned),1),s("span",Ko,"ğŸŒ‘ "+v(nt.value.unlearned),1)],2)]),s("div",jo,[_.value?(r(),c("button",{key:0,onClick:t[5]||(t[5]=n=>Ae.value=!0),class:"btn action-btn",title:"å­¦ä¹ ç»Ÿè®¡"},"ğŸ“Š")):f("",!0),s("button",{onClick:es,class:x(["btn action-btn desktop-only",{"active-pad":xe.value}]),title:"æ‰“å¼€/å…³é—­è‰ç¨¿æ¿"},"ğŸ–Šï¸",2),_.value?(r(),c("button",{key:1,onClick:Js,class:"btn action-btn special-btn desktop-only",title:"å¯¼å‡ºé”™é¢˜æ–‡æœ¬ (TXT)"},"ğŸ“¥ ")):f("",!0),s("button",{onClick:Ps,class:"btn action-btn",title:"å¯¼å‡º/å¤‡ä»½è¿›åº¦ (JSON)"},"â¬‡ï¸ "),s("button",{onClick:Us,class:"btn action-btn",style:{"margin-left":"8px"},title:"å¯¼å…¥/æ¢å¤è¿›åº¦"},"â¬†ï¸ "),s("input",{type:"file",id:"fileInput",hidden:"",onChange:Rs},null,32),s("div",{class:x(["pomo-compact",{"break-mode":R.value}])},[!R.value&&le.value==="idle"?O((r(),c("select",{key:0,"onUpdate:modelValue":t[6]||(t[6]=n=>fs(ut)?ut.value=n:null),onChange:Ys,class:"pomo-select",title:"ç‚¹å‡»è°ƒæ•´ä¸“æ³¨æ—¶é•¿"},[(r(),c(ue,null,_e(Xs,n=>s("option",{key:n,value:n},v(n<1?"âš¡ 05s":(n<10?"0"+n:n)+":00"),9,Ho)),64))],544)),[[Ot,re(ut)]]):(r(),c("span",Jo,v(ns(N.value)),1)),le.value!=="running"?(r(),c("button",{key:2,onClick:dt,class:"pomo-btn-small play-btn"},"â–¶")):(r(),c("button",{key:3,onClick:Zs,class:"pomo-btn-small pause-btn"},"â¸")),s("button",{onClick:t[7]||(t[7]=n=>Et(!0)),class:"pomo-btn-small stop-btn"},"â¹")],2)])])]),we.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:b(Qs,["self"])},[s("div",Xo,[s("button",{class:"modal-close-icon",onClick:t[8]||(t[8]=n=>we.value=!1)},"âœ•"),s("div",Zo,v(R.value?"ğŸ”‹":"ğŸ‰"),1),s("h2",qo,v(At.value?"å……ç”µå®Œæ¯•":"ä¸“æ³¨å®Œæˆ"),1),At.value?(r(),c("div",Qo,[s("button",{onClick:qs,class:"modal-btn focus-btn"},"å¼€å§‹ä¸“æ³¨")])):(r(),c("div",Yo,[s("button",{onClick:t[9]||(t[9]=n=>Ne(3)),class:"modal-btn break-btn"},"3m"),s("button",{onClick:t[10]||(t[10]=n=>Ne(5)),class:"modal-btn break-btn"},"5m"),s("button",{onClick:t[11]||(t[11]=n=>Ne(10)),class:"modal-btn break-btn"},"10m"),s("button",{onClick:t[12]||(t[12]=n=>Ne(15)),class:"modal-btn break-btn"},"15m"),s("button",{onClick:t[13]||(t[13]=n=>Ne(25)),class:"modal-btn long-break-btn"},"25m"),s("button",{onClick:t[14]||(t[14]=n=>Ne(.05)),class:"modal-btn focus-btn"},"âš¡ 03s (æµ‹è¯•)")]))])],8,Fo)):f("",!0),ve.value.length>0?(r(),c("div",en,[s("div",tn,[sn,s("div",on,[P(" å•è¯ "),_.value?(r(),c("button",{key:0,class:"toggle-source-btn",onClick:$s,title:be.value?"éšè—å…¨éƒ¨å‡ºå¤„":"æ˜¾ç¤ºå…¨éƒ¨å‡ºå¤„"},[be.value?(r(),c("svg",ln,rn)):(r(),c("svg",un,hn))],8,nn)):f("",!0),_.value?f("",!0):(r(),c("button",{key:1,class:"toggle-source-btn",onClick:io,title:"å¤åˆ¶æœ¬é¡µæ‰€æœ‰å•è¯",style:{"margin-left":"4px"}}," ğŸ“‹ "))]),pn,s("div",fn,[P(" è¯ä¹‰ "),E.value?(r(),c("button",{key:0,class:"toggle-all-btn",onClick:Bt,title:st.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(st.value?"ğŸ“–":"ğŸ™ˆ"),9,_n)):f("",!0)]),E.value?f("",!0):(r(),c("div",gn,"ä¾‹å¥")),E.value?f("",!0):(r(),c("div",yn,"æ‹“å±•")),mn])])):f("",!0),s("div",bn,[ve.value.length===0?(r(),c("div",kn,v(_.value?"æš‚æ— é”™é¢˜ ğŸ‰":"æœ¬ç« æ•°æ®åŠ è½½ä¸­"),1)):f("",!0),(r(!0),c(ue,null,_e(ve.value,(n,u)=>(r(),c("div",{key:u,class:"vocab-block",style:te({borderLeftColor:n.color})},[_.value?f("",!0):(r(),c("div",{key:0,class:x(["group-note-bar",{"has-note":ft(n.groupId)}]),style:te({backgroundColor:ft(n.groupId)?n.color+"15":"transparent",borderBottom:ft(n.groupId)?"1px solid "+n.color+"20":"none"})},[s("div",{class:"note-title",onClick:l=>us(n.groupId,"read")},[ft(n.groupId)?(r(),c("span",{key:0,class:"note-exist-text",style:te({color:n.color})},[wn,P(" "+v(po(n.groupId)),1)],4)):(r(),c("span",Cn," â• æ·»åŠ è¾¨æç¬”è®° "))],8,xn),s("div",Sn,[s("button",{class:"note-action-btn copy-group-btn",onClick:b(l=>co(n),["stop"]),title:"å¤åˆ¶æœ¬ç»„å•è¯"}," ğŸ“‹ ",8,$n),s("button",{class:"note-action-btn",onClick:b(l=>us(n.groupId,"edit"),["stop"]),title:"ç¼–è¾‘ç¬”è®°"}," âš™ï¸ ",8,In)])],6)),_.value&&n.title?(r(),c("div",{key:1,class:"group-title",style:te([{color:n.color,backgroundColor:n.color+"15"},{cursor:"pointer",display:"flex","align-items":"center","user-select":"none"}]),onClick:l=>lo(n.title)},[s("span",Tn,v(n.title),1),s("button",{class:"stage-source-btn",onClick:b(l=>ao(n),["stop"]),title:Xe(n)?"éšè—æœ¬é˜¶æ®µå‡ºå¤„":"æ˜¾ç¤ºæœ¬é˜¶æ®µå‡ºå¤„",style:te({color:Xe(n)?n.color:"#9ca3af",opacity:Xe(n)?1:.5})},[(r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:Xe(n)?"currentColor":"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ln,8,En))],12,An),Nn,s("button",{class:"collapse-btn",style:te({color:n.color,borderColor:n.color})},v(vt[n.title]?"ğŸ”½ å±•å¼€":"ğŸ”¼ æ”¶èµ·"),5)],12,Mn)):f("",!0),O(s("div",null,[(r(!0),c(ue,null,_e(n.list,l=>(r(),c("div",{key:l.en,class:x(["grid-layout row-item",{"mastered-row":l._isMastered&&!l._isKilled&&!_.value,"killed-row":l._isKilled&&!_.value}]),id:"word-row-"+l.en.replace(/\s+/g,"_")},[s("div",Pn,[P(v(_.value?l.id:l._id)+" ",1),(l._isMastered||l._isKilled)&&!_.value?(r(),c("span",{key:0,class:"status-icon",style:te({color:l._isKilled?"#a855f7":"#10b981",fontWeight:"bold"})}," âœ” ",4)):f("",!0)]),s("div",Wn,[s("div",Un,[E.value?(r(),c("div",cl,[s("span",{class:x(["speaker",{playing:K.value===l.en}]),onClick:b(g=>Ve(l.en),["stop"])},v(K.value===l.en?"â¸ï¸":"ğŸ”Š"),11,rl),s("div",ul,[s("input",{type:"text",class:x(["dictation-input",[Ie[l.en],{"mastered-input":l._isMastered&&!_.value}]]),placeholder:"è¾“å…¥...",onChange:g=>Os(l,g),onInput:g=>Ie[l.en]="",onFocus:g=>Ls(l.en),onKeydown:[t[15]||(t[15]=ge(b(()=>{},["stop"]),["space"])),ge(b(Wt,["prevent"]),["tab"]),ge(b(Wt,["prevent"]),["enter"])],autocomplete:"off"},null,42,dl),Ie[l.en]==="error"?(r(),c("div",vl,"âŒ "+v(l.en),1)):f("",!0),ie.has(l.en)?(r(),c("div",hl,"ğŸ‘€ "+v(l.en),1)):f("",!0)]),s("button",{class:"peek-btn",onClick:b(g=>ms(l.en),["stop"]),title:ie.has(l.en)?"éšè—ç­”æ¡ˆ":"å·çœ‹ç­”æ¡ˆ"},v(ie.has(l.en)?"ğŸ™ˆ":"ğŸ‘ï¸"),9,pl)])):(r(),c("div",Rn,[s("div",Bn,[s("span",{class:"en-text",onClick:b(g=>Ve(l.en),["stop"]),style:{cursor:"pointer"},title:"ç‚¹å‡»å‘éŸ³"},v(l.en),9,Gn),s("span",{class:x(["speaker",{playing:K.value===l.en}]),onClick:b(g=>Ve(l.en),["stop"])},v(K.value===l.en?"â¸ï¸":"ğŸ”Š"),11,Vn),re(Ue).includes(l.en)?(r(),c("span",{key:0,onClick:b(g=>e.removeAudioTag(l.en),["stop"]),title:"è¯¥è¯æ›¾ä¾èµ–å¬éŸ³å›å¿† (å¬è§‰å°è®°)",style:{"font-size":"14px","margin-left":"6px",cursor:"help"}}," ğŸ‘‚ ",8,Kn)):f("",!0),l.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:1,class:"copy-btn",onClick:b(g=>Ws(l.en),["stop"]),title:"ç‚¹å‡»å¤åˆ¶"},"ğŸ“‹",8,jn)):f("",!0),_.value&&l.notation==="æˆ‘çš„ç”Ÿè¯æœ¬"?(r(),c("button",{key:2,class:"copy-btn edit-btn",onClick:b(g=>Gs(l),["stop"]),title:"ä¿®æ”¹å•è¯/é‡Šä¹‰"},"âœ",8,Hn)):f("",!0),_.value&&!be.value&&l.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:3,class:"copy-btn location-btn",onClick:b(g=>Is(l.en),["stop"]),title:V.has(l.en)?"éšè—å‡ºå¤„":"æŸ¥çœ‹å‡ºå¤„",style:te({color:V.has(l.en)?"#3b82f6":"",opacity:V.has(l.en)?"1":""})},[V.has(l.en)?(r(),c("svg",Fn,qn)):(r(),c("svg",Yn,tl))],12,Jn)):f("",!0)]),be.value||V.has(l.en)?(r(),c("div",sl,[s("a",{href:cs(l),class:"word-source-row clickable-source",onClick:b(g=>no(l),["prevent"]),title:"ç‚¹å‡»åœ¨å½“å‰é¡µè·³è½¬"}," ğŸ“ "+v(l.source),9,ol),s("a",{href:cs(l),class:"word-source-row icon-only",target:"_blank",title:"æ–°æ ‡ç­¾é¡µæ‰“å¼€å¹¶è‡ªåŠ¨åˆ‡æ¢ ğŸš€"}," ğŸš€ ",8,nl)])):f("",!0),_.value&&l._review?(r(),c("div",ll,[l._review.time<Date.now()?(r(),c("span",al,"å¾…å¤ä¹ ")):(r(),c("span",il,v(Math.round((l._review.time-Date.now())/6e4))+"m",1))])):f("",!0)]))]),s("div",fl,v(l.pos),1),s("button",{class:"mobile-only mobile-kill",onClick:g=>Gt(l.en),style:te(E.value?{top:"auto",bottom:"10px",right:"10px",background:"#fff",border:"1px solid #eee",borderRadius:"50%",width:"30px",height:"30px"}:{})},v(l._isKilled?"â†º":"âœ•"),13,_l)]),s("div",gl,v(l.pos),1),s("div",{class:x(["col-zh",{"interactive-zh":E.value}]),onClick:g=>E.value?bs(l.en):null},[s("div",{class:x(["zh-text",{"blur-zh":E.value&&!D.has(l.en)&&l.pos!=="è‡ªé€‰"}])},v(l.zh),3),l.notation&&!E.value?(r(),c("div",ml,v(l.notation),1)):f("",!0)],10,yl),E.value?f("",!0):(r(),c("div",bl,[s("div",kl,[s("span",null,v(l.example),1),l.example?(r(),c("span",{key:0,class:"speaker-small",onClick:b(g=>Ns(l.example),["stop"]),title:"è¯»ä¾‹å¥"},"ğŸ”‰",8,xl)):f("",!0)])])),E.value?f("",!0):(r(),c("div",wl,v(l.notation||""),1)),s("div",Cl,[s("button",{class:"kill-btn",onClick:g=>Gt(l.en),title:l._isKilled?"æ¢å¤/æ’¤é”€æ–©æ€":"æ–©æ€/å½’æ¡£",style:te({color:l._isKilled?"#a855f7":""})},v(l._isKilled?"â†º":"âœ•"),13,Sl)])],10,On))),128))],512),[[_s,!vt[n.title]]])],4))),128)),!_.value&&Me.value.length>1?(r(),c("div",$l,[s("button",{class:"page-btn big-btn",disabled:z.value===0,onClick:t[16]||(t[16]=n=>os(-1))},"â¬…ï¸ ä¸Šä¸€é¡µ",8,Il),s("div",Ml,[s("span",Tl,v(z.value+1)+" / "+v(Me.value.length),1),s("button",{class:x(["finish-btn",{done:ss.value}]),onClick:Fs,title:"æ ‡è®°æœ¬é¡µä¸ºå·²å®Œæˆ"},v(ss.value?"âœ… å·²å®Œæˆ":"â­• æ ‡è®°å®Œæˆ"),3)]),s("button",{class:"page-btn big-btn",disabled:z.value===Me.value.length-1,onClick:t[17]||(t[17]=n=>os(1))},"ä¸‹ä¸€é¡µ â¡ï¸",8,Al)])):f("",!0),El]),xe.value?(r(),c("div",{key:2,class:"scratchpad-window",style:te({left:rt.value+"px",top:St.value+"px"})},[s("div",{class:"pad-header",onMousedown:Hs},[zl,s("button",{class:"pad-close",onClick:es},"âœ•")],32),s("canvas",{ref_key:"canvasRef",ref:ne,class:"pad-canvas",style:{"touch-action":"none",display:"block"},onPointerdown:Ks,onPointermove:js,onPointerup:qt,onPointerleave:qt,onDblclick:Tt},null,544),s("div",{class:"pad-footer"},[Dl,s("button",{class:"pad-btn-clear",onClick:Tt},"ğŸ—‘ï¸ (Space)")])],4)):f("",!0),s("div",{class:x(["floating-action-group",{"pos-left":ro.value}])},[_.value?(r(),c("button",{key:0,onClick:xt,class:"floating-btn refresh-btn",title:"åˆ·æ–°æ•°æ®"},"ğŸ”„")):f("",!0),_.value?f("",!0):(r(),c("button",{key:1,onClick:ks,class:"floating-btn story-btn",title:"æœ¬é¡µåŠ©è®°æ–‡ç« /æ•…äº‹"},"ğŸ“œ")),s("button",{onClick:Bs,class:"floating-btn add-btn",title:"æ‰‹åŠ¨åŠ å…¥ç”Ÿè¯"},"â•"),s("button",{onClick:to,class:"floating-btn search-btn",title:"æœç´¢å•è¯/è¯æ ¹"},"ğŸ”"),O(s("button",{onClick:eo,class:"floating-btn top-btn",title:"å›åˆ°é¡¶éƒ¨"},Nl,512),[[_s,ls.value]]),s("div",Ol,[s("button",{onClick:_o,class:x(["floating-btn sync-btn main-cloud-trigger",{active:Pe.value}]),title:"äº‘åŒæ­¥èœå•"},[Se.value?(r(),c("svg",Pl,Ul)):(r(),c("svg",Rl,Vl))],2),xo(Co,{name:"cloud-pop"},{default:wo(()=>[Pe.value?(r(),c("div",Kl,[s("div",{class:x(["sync-dashboard",{"has-update":We.value}])},[s("div",jl,[Hl,Nt.value?(r(),c("span",Jl,[Fl,P(" æ£€æµ‹ä¸­... ")])):f("",!0)]),s("div",Xl,[s("div",Zl,[ql,s("div",Yl,v(re(_t)||"--/-- --:--"),1)]),s("div",Ql,[We.value?(r(),c("div",ea,"â¬…ï¸")):(r(),c("div",ta,"â˜ï¸"))]),s("div",{class:x(["dash-item cloud",{highlight:We.value}])},[sa,s("div",oa,v(gt.value||"å¾…æ£€æµ‹"),1)],2)]),We.value?(r(),c("div",na,"âœ¨ äº‘ç«¯æœ‰æ–°è¿›åº¦ï¼Œå»ºè®®ä¸‹è½½")):gt.value?(r(),c("div",la,"âœ… å½“å‰å·²æ˜¯æœ€æ–°")):f("",!0)],2),s("button",{onClick:yo,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:"ä¸Šä¼ è¿›åº¦åˆ°äº‘ç«¯",disabled:Se.value},ca,8,aa),s("button",{onClick:mo,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:"ä»äº‘ç«¯ä¸‹è½½è¿›åº¦",disabled:Se.value},da,8,ra),s("button",{onClick:t[18]||(t[18]=n=>Ze.value=!0),class:"floating-btn sync-btn sub-btn",title:"é…ç½®äº‘åŒæ­¥",style:{"font-size":"20px"}},"âš™ï¸")])):f("",!0)]),_:1})])],2),ke.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[21]||(t[21]=b(n=>ke.value=!1,["self"]))},[s("div",va,[ha,s("div",pa,[O(s("input",{id:"custom-word-input",type:"text","onUpdate:modelValue":t[19]||(t[19]=n=>lt.value=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥å•è¯...",onKeydown:ge(jt,["enter"]),autocomplete:"off"},null,40,fa),[[se,lt.value]])]),s("div",_a,[s("button",{onClick:t[20]||(t[20]=n=>ke.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:jt,class:"modal-btn",style:{background:"#2563eb",color:"white"}},"ç¡®å®š")])])])):f("",!0),Te.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[24]||(t[24]=b(n=>Te.value=!1,["self"]))},[s("div",ga,[ya,s("p",ma,[P(' è¯åº“ä¸­æœªæ‰¾åˆ° "'),s("strong",null,v(it.value),1),P('"ï¼Œè¯·å¡«å†™ä¸­æ–‡æ„æ€ï¼š ')]),s("div",ba,[O(s("input",{id:"custom-meaning-input",type:"text","onUpdate:modelValue":t[22]||(t[22]=n=>at.value=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šå¼€é˜”çœ¼ç•Œ...",onKeydown:ge(Ht,["enter"]),autocomplete:"off"},null,40,ka),[[se,at.value]])]),s("div",xa,[s("button",{onClick:t[23]||(t[23]=n=>Te.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Ht,class:"modal-btn",style:{background:"#10b981",color:"white"}},"ä¿å­˜å¹¶æ·»åŠ ")])])])):f("",!0),wt.value?(r(),c("div",wa,[s("div",Ca,[Sa,s("h3",$a,v(Vt.value),1)])])):f("",!0)]),je.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:t[28]||(t[28]=b(n=>je.value=!1,["self"]))},[s("div",Ia,[Ma,s("div",Ta,[Aa,O(s("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=n=>oe.newWord=n),class:"modal-input-field"},null,512),[[se,oe.newWord]])]),s("div",Ea,[za,O(s("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=n=>oe.newZh=n),class:"modal-input-field"},null,512),[[se,oe.newZh]])]),s("div",Da,[s("button",{onClick:t[27]||(t[27]=n=>je.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Vs,class:"modal-btn",style:{background:"#3b82f6",color:"white"}},"ä¿å­˜ä¿®æ”¹")])])])):f("",!0),Ae.value?(r(),c("div",{key:1,class:"modal-overlay",onClick:t[32]||(t[32]=b(n=>Ae.value=!1,["self"]))},[s("div",La,[s("div",Na,[Oa,s("div",Pa,[s("button",{class:x({active:Ee.value==="week"}),onClick:t[29]||(t[29]=n=>Ee.value="week")},"è¿‘7å¤©",2),s("button",{class:x({active:Ee.value==="month"}),onClick:t[30]||(t[30]=n=>Ee.value="month")},"è¿‘30å¤©",2)])]),s("div",Wa,[s("div",Ua,[s("div",Ra,v(Math.round((((o=re(U)[Ke()])==null?void 0:o.duration)||0)/60)),1),Ba]),s("div",Ga,[s("div",Va,v(((a=re(U)[Ke()])==null?void 0:a.learn)||0),1),Ka]),s("div",ja,[s("div",Ha,v(((i=re(U)[Ke()])==null?void 0:i.review)||0),1),Ja]),s("div",Fa,[s("div",Xa,v(((d=re(U)[Ke()])==null?void 0:d.kill)||0),1),Za])]),s("div",qa,[s("canvas",{ref_key:"statsChartCanvas",ref:Ct},null,512)]),s("button",{class:"modal-close",onClick:t[31]||(t[31]=n=>Ae.value=!1),style:{"margin-top":"15px"}},"å…³é—­")])])):f("",!0),Je.value?(r(),c("div",{key:2,class:"modal-overlay",onClick:t[37]||(t[37]=b(n=>Je.value=!1,["self"]))},[s("div",Ya,[s("div",Qa,[O(s("input",{id:"global-search-input",type:"text","onUpdate:modelValue":t[33]||(t[33]=n=>Oe.value=n),onInput:so,onKeydown:[ge(b(oo,["prevent"]),["enter"]),t[34]||(t[34]=ge(b(n=>is(-1),["prevent"]),["up"])),t[35]||(t[35]=ge(b(n=>is(1),["prevent"]),["down"]))],placeholder:"è¾“å…¥è¯æ ¹ (æ”¯æŒé”®ç›˜ â†‘â†“ é€‰æ‹©)...",class:"modal-input-field search-input",autocomplete:"off"},null,40,ei),[[se,Oe.value]]),s("button",{class:"modal-close-icon static-pos",onClick:t[36]||(t[36]=n=>Je.value=!1)},"âœ•")]),s("div",ti,[Oe.value?Y.value.length===0?(r(),c("div",oi,"æœªæ‰¾åˆ°åŒ¹é…å•è¯")):(r(!0),c(ue,{key:2},_e(Y.value,(n,u)=>(r(),c("div",{key:n.en,class:x(["search-item",{"clickable-item":!n.isCustom,selected:u===ce.value}]),onClick:l=>Fe(n),onMouseenter:l=>ce.value=u},[s("div",li,[s("div",ai,[P(v(n.en)+" ",1),s("span",{class:"speaker-small",onClick:b(l=>Ve(n.en),["stop"])},"ğŸ”Š",8,ii)]),s("div",ci,v(n.zh),1)]),s("div",ri,[s("span",ui,v(n.source),1)])],42,ni))),128)):(r(),c("div",si,"è¾“å…¥å­—æ¯æŸ¥æ‰¾åŒ…å«è¯¥è¯æ ¹çš„å•è¯"))])])])):f("",!0),ht.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[44]||(t[44]=b(n=>ht.value=!1,["self"]))},[s("div",di,[s("div",vi,[s("h3",hi,v(Q.value?"âœï¸ ç¼–è¾‘è¾¨æç¬”è®°":"ğŸ“– è¯ä¹‰è¾¨æ"),1),s("div",pi,[Q.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[39]||(t[39]=n=>Q.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[38]||(t[38]=n=>Q.value=!0),title:"ç¼–è¾‘"}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[40]||(t[40]=n=>ht.value=!1)},"âœ•")])]),s("div",fi,[s("div",_i,[gi,s("div",yi,[(r(!0),c(ue,null,_e(B.value,(n,u)=>(r(),c("div",{key:u,class:x(["sidebar-item",{active:Ce.value===u}]),onClick:l=>ds(u)},[s("span",bi,v(n.content?"ğŸ“":"âšª"),1),s("span",ki,v(n.title||"æ— æ ‡é¢˜"),1)],10,mi))),128))]),s("button",{class:"sidebar-add-btn",onClick:uo}," + æ–°å¢åˆ†ç»„ ")]),s("div",xi,[Q.value?(r(),c("div",Ai,[s("div",Ei,[zi,O(s("input",{type:"text","onUpdate:modelValue":t[41]||(t[41]=n=>he.value.title=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šmerchant vs businessman...",style:{"font-weight":"bold"}},null,512),[[se,he.value.title]])]),s("div",Di,[s("div",Li,[s("div",{class:"editor-toolbar"},[Ni,s("button",{class:"tiny-btn delete-btn",onClick:vo},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç»„")]),O(s("textarea",{"onUpdate:modelValue":t[42]||(t[42]=n=>he.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0","line-height":"1.6"},placeholder:"åœ¨æ­¤è®°å½•è¯¦ç»†è¾¨æ..."},null,512),[[se,he.value.content]])]),s("div",Oi,[Pi,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:pt(he.value.content)},null,8,Wi)])])])):(r(),c("div",wi,[s("h2",Ci,v(he.value.title),1),he.value.content?(r(),c("div",{key:0,innerHTML:pt(he.value.content)},null,8,Si)):(r(),c("div",$i,Ti))]))])]),Q.value?(r(),c("div",Ui,[s("button",{onClick:t[43]||(t[43]=n=>Q.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:ho,class:"modal-btn",style:{background:"#8b5cf6",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),tt.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[51]||(t[51]=b(n=>tt.value=!1,["self"]))},[s("div",Ri,[s("div",Bi,[s("h3",Gi,v(q.value?"âœï¸ ç¼–è¾‘æ¨¡å¼":"ğŸ“œ æœ¬é¡µåŠ©è®°æ–‡ç«  (Part "+(z.value+1)+")"),1),s("div",Vi,[q.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[46]||(t[46]=n=>q.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[45]||(t[45]=n=>q.value=!0),title:"ç¼–è¾‘å½“å‰æ–‡ç« "}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[47]||(t[47]=n=>tt.value=!1)},"âœ•")])]),s("div",Ki,[s("div",ji,[Hi,s("div",Ji,[(r(!0),c(ue,null,_e(L.value,(n,u)=>(r(),c("div",{key:u,class:x(["sidebar-item",{active:me.value===u}]),onClick:l=>Rt(u)},[Xi,s("span",Zi,v(n.title||"æ— æ ‡é¢˜æ–‡ç« "),1)],10,Fi))),128))]),s("button",{class:"sidebar-add-btn",onClick:xs}," + æ–°å¢æ–‡ç«  ")]),s("div",qi,[q.value?(r(),c("div",lc,[s("div",ac,[O(s("input",{type:"text","onUpdate:modelValue":t[48]||(t[48]=n=>de.value.title=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜...",style:{"font-weight":"bold"}},null,512),[[se,de.value.title]])]),s("div",ic,[s("div",cc,[s("div",{class:"editor-toolbar"},[rc,s("button",{class:"tiny-btn",onClick:Ss},"ğŸ¤– å¤åˆ¶ AI Prompt"),s("button",{class:"tiny-btn delete-btn",onClick:ws},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç¯‡")]),O(s("textarea",{"onUpdate:modelValue":t[49]||(t[49]=n=>de.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0"},placeholder:"åœ¨æ­¤ç²˜è´´æ•…äº‹å†…å®¹..."},null,512),[[se,de.value.content]])]),s("div",uc,[dc,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:pt(de.value.content)},null,8,vc)])])])):(r(),c("div",Yi,[s("h1",Qi,v(de.value.title),1),de.value.content?(r(),c("div",{key:0,innerHTML:pt(de.value.content)},null,8,ec)):(r(),c("div",tc,nc))]))])]),q.value?(r(),c("div",hc,[s("button",{onClick:t[50]||(t[50]=n=>q.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Cs,class:"modal-btn",style:{background:"#f59e0b",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),Ze.value?(r(),c("div",{key:5,class:"modal-overlay",onClick:t[55]||(t[55]=b(n=>Ze.value=!1,["self"]))},[s("div",pc,[fc,_c,s("div",gc,[yc,O(s("input",{type:"password","onUpdate:modelValue":t[52]||(t[52]=n=>A.token=n),class:"modal-input-field",placeholder:"ghp_xxxxxxxxxxxx..."},null,512),[[se,A.token]])]),s("div",mc,[bc,O(s("input",{type:"text","onUpdate:modelValue":t[53]||(t[53]=n=>A.gistId=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚: e5a3c..."},null,512),[[se,A.gistId]])]),s("div",kc,[s("button",{onClick:t[54]||(t[54]=n=>Ze.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:go,class:"modal-btn",style:{background:"#a855f7",color:"white"}},"ğŸ’¾ ä¿å­˜é…ç½®")]),xc])])):f("",!0)],64)}}},Tc=bo(Sc,[["__scopeId","data-v-c82f1515"]]);export{Tc as default};
