import{_ as qo,d as p,e as $e,f as E,w as ge,g as zt,h as Bs,n as Et,c,a as s,i as y,j as M,u as _e,k as f,l as S,v as Zo,t as v,m as es,p as Us,F as q,r as me,q as b,s as Q,x as Oe,y as Rs,z as Gs,T as Hs,A as le,B as ye,o as r,C as Xo,D as Yo,E as Qo}from"./index-8a0da542.js";import I from"./vocabulary-2de9ea18.js";import{marked as en}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";const h=dt=>(Xo("data-v-e1c9488a"),dt=dt(),Yo(),dt),tn={class:"app-root"},sn={class:"tools-bar sticky-toolbar"},on={class:"bar-inner"},nn={class:"left-tools"},ln={class:"mode-switch"},an={key:0,class:"dot"},cn={class:"toggle-label"},rn=["title"],un={class:"middle-tools"},dn={key:0,class:"selectors"},vn=["value"],hn=["value"],pn={key:0,title:"å…¨ä¹¦æ€»è¯æ±‡é‡"},fn={class:"s-learn",title:"å¤ä¹ é˜Ÿåˆ—ä¸­"},gn={class:"s-done",title:"å·²æ–©æ€+å·²é€šå…³"},_n={class:"s-new",title:"å‰©ä½™å•è¯"},mn={class:"right-tools"},yn={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",fill:"currentColor"}},bn=h(()=>s("path",{d:"M821.339582 0H202.660418C138.073033 0 85.483304 52.589729 85.483304 117.377075v789.24585c0 64.787346 52.589729 117.377075 117.377075 117.377075h618.479203c64.787346 0 117.377075-52.589729 117.377075-117.377075V117.377075C938.516696 52.589729 885.926967 0 821.339582 0zM182.064441 449.512205l105.579379-105.579379L182.064441 238.553408 244.652216 175.965632l105.579379 105.579379L455.611013 175.965632l62.587776 62.587776-105.579379 105.579379 105.579379 105.579379-62.587776 62.587775-105.579379-105.579379-105.579379 105.579379L182.064441 449.512205zM791.945323 781.847295H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993751s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993751z m0-127.975004H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993752s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993752z m2.599492-127.975005h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993752s14.397188-31.993751 31.993751-31.993751h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993751s-14.197227 31.993751-31.993752 31.993752z m0-117.377075h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993751s14.397188-31.993751 31.993751-31.993752h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993752 0 17.796524-14.197227 31.993751-31.993752 31.993751z m0-117.177114h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993751s14.397188-31.993751 31.993751-31.993751h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993751s-14.197227 31.993751-31.993752 31.993751zM791.945323 923.819566H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993751s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993751z","p-id":"1775"},null,-1)),kn=[bn],xn=["value"],wn={key:1,class:"pomo-time"},Cn=["onClick"],Sn={class:"modal-box"},$n={class:"modal-icon"},In={class:"modal-title"},Mn={key:0,class:"modal-actions"},Tn={key:1,class:"modal-actions"},An={key:1,class:"header-table-row desktop-only"},zn={class:"grid-layout"},En=h(()=>s("div",{class:"col-idx text-center"},"#",-1)),Dn={class:"col-word header-word-col"},Ln=["title"],Pn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Nn=h(()=>s("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1)),On=h(()=>s("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)),Wn=[Nn,On],Bn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Un=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Rn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Gn=[Un,Rn],Hn=h(()=>s("div",{class:"col-pos text-center"},"è¯æ€§",-1)),Vn={class:"col-zh header-zh-col"},jn=["title"],Fn={key:0,class:"col-ex"},Kn={key:1,class:"col-note"},Jn=h(()=>s("div",{class:"col-del text-center"},"åˆ ",-1)),qn={class:"content-container"},Zn={key:0,class:"empty-tip"},Xn=["onClick"],Yn=h(()=>s("span",{style:{"font-weight":"800","margin-right":"4px"}},"P.",-1)),Qn={key:1,class:"note-placeholder",style:{color:"#9ca3af"}},el={class:"group-actions"},tl=["onClick"],sl=["onClick"],ol=["onClick"],nl={style:{"font-weight":"bold","margin-right":"10px"}},ll=["onClick","title"],al=["fill"],il=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),cl=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),rl=[il,cl],ul=h(()=>s("div",{style:{flex:"1"}},null,-1)),dl=["id"],vl={class:"col-idx text-center index-num desktop-only"},hl={class:"col-word"},pl={class:"word-wrapper"},fl={key:0,class:"word-cell-container"},gl={class:"word-row-top"},_l=["onClick"],ml=["title"],yl=["onClick"],bl=["onClick"],kl=["onClick"],xl=["onClick"],wl=["onClick","title"],Cl={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Sl=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),$l=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Il=[Sl,$l],Ml={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Tl=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Al=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),zl=[Tl,Al],El={key:0,class:"source-container"},Dl=["href","onClick"],Ll=["href"],Pl={key:1,class:"review-meta desktop-only"},Nl={key:0,class:"tag-due"},Ol={key:1,class:"tag-wait"},Wl={key:1,class:"input-cell"},Bl=["onClick"],Ul={class:"input-col"},Rl=["onChange","onInput","onFocus","onKeydown"],Gl={key:0,class:"error-hint"},Hl={key:1,class:"peek-hint"},Vl=["onClick","title"],jl={class:"mobile-only mobile-pos"},Fl=["onClick"],Kl={class:"col-pos text-center italic desktop-only"},Jl=["onClick"],ql={key:0,class:"mobile-only mobile-notation"},Zl={key:0,class:"col-ex example-cell"},Xl={class:"ex-content"},Yl=["onClick"],Ql={key:1,class:"col-note notation-cell desktop-only"},ea={class:"col-del text-center desktop-only"},ta=["onClick","title"],sa={key:1,class:"pagination-area"},oa=["disabled"],na={class:"finish-control"},la={class:"page-info"},aa=["disabled"],ia=h(()=>s("div",{style:{height:"40px"}},null,-1)),ca=h(()=>s("span",{class:"pad-title"},":: æ‹–æ‹½ ::",-1)),ra=h(()=>s("span",{class:"hint-text"},"â†˜ï¸å³ä¸‹è§’æ‹–åŠ¨è°ƒæ•´å¤§å°",-1)),ua=["title"],da=h(()=>s("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"svg-icon"},[s("path",{d:"M512 64C264.512 64 64 264.576 64 512s200.512 448 448 448c247.424 0 448-200.576 448-448S759.424 64 512 64zM712.448 664.512c-11.776 0-22.784-3.072-32.448-8.384l-1.984 1.984L511.936 512l-162.112 145.472-1.344-1.344c-9.6 5.248-20.544 8.32-32.192 8.32-36.736 0-66.496-29.76-66.496-66.432 0-11.712 3.072-22.656 8.32-32.192L255.936 563.584l10.752-9.664c3.328-3.712 7.04-7.104 11.136-9.984l188.544-169.216 1.28 0C479.296 363.456 495.168 356.544 512.64 356.544s33.408 6.912 45.12 18.176l0.768 0 191.872 168.832c4.032 2.816 7.68 6.08 11.072 9.728l11.392 10.048-2.368 2.304c5.376 9.6 8.448 20.672 8.448 32.448C778.88 634.752 749.12 664.512 712.448 664.512z",fill:"currentColor"})],-1)),va=[da],ha={class:"cloud-wrapper"},pa={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fa=h(()=>s("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"},null,-1)),ga=[fa],_a={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 1024 1024",fill:"currentColor"},ma=h(()=>s("path",{d:"M395.776 641.664a19.392 19.392 0 0 0-6.368-12.384l-36.672-32.416a190.496 190.496 0 0 1 87.328-70.88c47.52-19.2 99.776-18.72 146.944 1.28s83.776 57.28 103.008 104.8a31.936 31.936 0 0 0 41.632 17.696 31.936 31.936 0 0 0 17.696-41.632 254.208 254.208 0 0 0-137.312-139.776 254.56 254.56 0 0 0-195.936-1.728 253.984 253.984 0 0 0-111.552 87.616l-37.408-33.088a19.168 19.168 0 0 0-31.808 16.384l12.576 119.68a19.2 19.2 0 0 0 21.088 17.088l109.696-11.52a19.2 19.2 0 0 0 17.088-21.12zM757.92 729.088l-109.216 15.36a19.2 19.2 0 0 0-9.536 33.856l34.496 28.416a190.816 190.816 0 0 1-236.672 74.016 190.592 190.592 0 0 1-102.976-104.768 32 32 0 1 0-59.36 23.936 254.272 254.272 0 0 0 137.344 139.776 255.232 255.232 0 0 0 100 20.48 255.744 255.744 0 0 0 95.904-18.752 254.592 254.592 0 0 0 115.872-93.408l41.408 34.112a19.2 19.2 0 0 0 31.2-17.472l-16.736-119.168a19.264 19.264 0 0 0-21.728-16.384z"},null,-1)),ya=h(()=>s("path",{d:"M808.192 262.592a320.16 320.16 0 0 0-592.352 0A238.592 238.592 0 0 0 32 496a240.32 240.32 0 0 0 130.976 213.888 32 32 0 1 0 29.12-57.024A176.192 176.192 0 0 1 96 496a175.04 175.04 0 0 1 148.48-173.888l19.04-2.976 6.24-18.24C305.248 197.472 402.592 128 512 128a256 256 0 0 1 242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 0 1 928 496a176.128 176.128 0 0 1-96.128 156.896 32.064 32.064 0 0 0 29.12 57.024A240.416 240.416 0 0 0 992 496a238.592 238.592 0 0 0-183.808-233.408z"},null,-1)),ba=[ma,ya],ka={key:0,class:"cloud-sub-menu"},xa={class:"dash-header"},wa=h(()=>s("span",{class:"dash-title"},"æ•°æ®åŒæ­¥çŠ¶æ€",-1)),Ca={key:0,class:"dash-loading"},Sa=h(()=>s("svg",{class:"animate-spin",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[s("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})],-1)),$a={class:"dash-grid"},Ia={class:"dash-item local"},Ma=h(()=>s("div",{class:"item-label"},"ğŸ’» æœ¬åœ°ç‰ˆæœ¬",-1)),Ta={class:"item-time"},Aa={class:"dash-connector"},za={key:0,class:"icon-update"},Ea={key:1,class:"icon-idle"},Da=h(()=>s("div",{class:"item-label"},"Github Gist",-1)),La={class:"item-time"},Pa={key:0,class:"dash-footer update-mode"},Na={key:1,class:"dash-footer safe-mode"},Oa=["disabled"],Wa=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),Ba=[Wa],Ua=["title","disabled"],Ra=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM12 17l-5-5h3V8h4v4h3l-5 5z"})],-1)),Ga=[Ra],Ha={class:"modal-box",style:{"max-width":"360px"}},Va=h(()=>s("h3",{class:"modal-title"},"âœï¸ æ·»åŠ æ–°è¯",-1)),ja={style:{margin:"20px 0"}},Fa=["onKeydown"],Ka={class:"modal-actions"},Ja={class:"modal-box",style:{"max-width":"360px"}},qa=h(()=>s("h3",{class:"modal-title"},"ğŸ“– è¡¥å……é‡Šä¹‰",-1)),Za={style:{color:"#666","font-size":"14px","margin-bottom":"10px"}},Xa={style:{margin:"15px 0"}},Ya=["onKeydown"],Qa={class:"modal-actions"},ei={key:5,class:"modal-overlay",style:{background:"rgba(0,0,0,0.3)","z-index":"3000"}},ti={class:"modal-box",style:{"max-width":"300px",padding:"30px 20px"}},si=h(()=>s("div",{style:{"font-size":"40px","margin-bottom":"10px"}},"ğŸ‰",-1)),oi={style:{margin:"0",color:"#374151"}},ni={class:"modal-box",style:{"max-width":"360px","text-align":"left"}},li=h(()=>s("h3",{class:"modal-title",style:{"text-align":"center"}},"ğŸ› ï¸ ä¿®æ”¹å•è¯",-1)),ai={style:{"margin-bottom":"15px"}},ii=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"è‹±æ–‡æ‹¼å†™",-1)),ci={style:{"margin-bottom":"20px"}},ri=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"ä¸­æ–‡é‡Šä¹‰",-1)),ui={class:"modal-actions"},di={class:"modal-box stats-box"},vi={class:"stats-header"},hi=h(()=>s("h3",null,"ğŸ“ˆ å­¦ä¹ æ•°æ®çœ‹æ¿",-1)),pi={class:"stats-switcher"},fi={class:"stats-summary"},gi={class:"summary-item"},_i={class:"num"},mi=h(()=>s("div",{class:"label"},"ä¸“æ³¨(åˆ†)",-1)),yi={class:"summary-item"},bi={class:"num",style:{color:"#10b981"}},ki=h(()=>s("div",{class:"label"},"ä»Šæ—¥å­¦ä¹ ",-1)),xi={class:"summary-item"},wi={class:"num",style:{color:"#3b82f6"}},Ci=h(()=>s("div",{class:"label"},"ä»Šæ—¥å¤ä¹ ",-1)),Si={class:"summary-item"},$i={class:"num",style:{color:"#ef4444"}},Ii=h(()=>s("div",{class:"label"},"ä»Šæ—¥æ–©æ€",-1)),Mi={class:"chart-container"},Ti={class:"modal-box search-box-modal"},Ai={class:"search-header"},zi=["onKeydown"],Ei={class:"search-results-list"},Di={key:0,class:"empty-tip-text"},Li={key:1,class:"empty-tip-text"},Pi=["onClick","onMouseenter"],Ni={class:"si-left"},Oi={class:"si-en"},Wi=["onClick"],Bi={class:"si-zh"},Ui={class:"si-right"},Ri={class:"si-source"},Gi={class:"modal-box read-card-modal",style:{height:"80vh",display:"flex","flex-direction":"column",padding:"0"}},Hi={class:"read-header"},Vi={class:"read-title"},ji={class:"read-actions"},Fi={style:{flex:"1",display:"flex",overflow:"hidden"}},Ki={class:"story-sidebar"},Ji=h(()=>s("div",{class:"sidebar-header"},"è¾¨æåˆ†ç»„",-1)),qi={class:"sidebar-list"},Zi=["onClick"],Xi={class:"item-icon"},Yi={class:"item-title"},Qi={class:"story-content-area"},ec={key:0,class:"markdown-body story-reader"},tc={style:{"margin-top":"0","border-bottom":"1px solid #eee","padding-bottom":"10px"}},sc=["innerHTML"],oc={key:1,class:"empty-story-tip"},nc=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ’¡",-1)),lc=h(()=>s("div",null,[M("æ­¤åˆ†ç»„æš‚æ— å†…å®¹"),s("br"),M("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),M(" å¼€å§‹è®°å½•")],-1)),ac=[nc,lc],ic={key:1,class:"story-editor-layout"},cc={style:{"margin-bottom":"10px"}},rc=h(()=>s("label",{style:{"font-size":"12px",color:"#666","font-weight":"bold"}},"åˆ†ç»„æ ‡é¢˜",-1)),uc={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},dc={style:{flex:"1",display:"flex","flex-direction":"column"}},vc=h(()=>s("span",null,"Markdown å†…å®¹",-1)),hc={class:"desktop-only preview-pane"},pc=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),fc=["innerHTML"],gc={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},_c={class:"modal-box read-card-modal",style:{height:"85vh",display:"flex","flex-direction":"column",padding:"0"}},mc={class:"read-header"},yc={class:"read-title"},bc={class:"read-actions"},kc={style:{flex:"1",display:"flex",overflow:"hidden"}},xc={class:"story-sidebar"},wc=h(()=>s("div",{class:"sidebar-header"},"æ–‡ç« åˆ—è¡¨",-1)),Cc={class:"sidebar-list"},Sc=["onClick"],$c=h(()=>s("span",{class:"item-icon"},"ğŸ“„",-1)),Ic={class:"item-title"},Mc={class:"story-content-area"},Tc={key:0,class:"markdown-body story-reader"},Ac={class:"story-page-title"},zc=["innerHTML"],Ec={key:1,class:"empty-story-tip"},Dc=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ“",-1)),Lc=h(()=>s("div",null,[M("æœ¬ç¯‡æ–‡ç« æš‚æ— å†…å®¹"),s("br"),M("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),M(" å¼€å§‹å†™ä½œ")],-1)),Pc=[Dc,Lc],Nc={key:1,class:"story-editor-layout"},Oc={style:{"margin-bottom":"10px"}},Wc={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},Bc={style:{flex:"1",display:"flex","flex-direction":"column"}},Uc=h(()=>s("span",null,"Markdown ç¼–è¾‘",-1)),Rc={class:"desktop-only preview-pane"},Gc=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),Hc=["innerHTML"],Vc={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},jc={class:"modal-box",style:{"max-width":"400px","text-align":"left"}},Fc=h(()=>s("h3",{class:"modal-title"},"â˜ï¸ GitHub äº‘åŒæ­¥é…ç½®",-1)),Kc=h(()=>s("p",{style:{"font-size":"12px",color:"#666","margin-bottom":"15px","line-height":"1.5"}},[M(" åˆ©ç”¨ GitHub Gist å®ç°å…è´¹ç§æœ‰äº‘åŒæ­¥ã€‚"),s("br"),M(" æ•°æ®å­˜å‚¨åœ¨æ‚¨è‡ªå·±çš„ GitHub è´¦å·ä¸­ï¼Œå®‰å…¨å¯æ§ã€‚ ")],-1)),Jc={style:{"margin-bottom":"15px"}},qc=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"GitHub Token (å‹¾é€‰ gist æƒé™)",-1)),Zc={style:{"margin-bottom":"20px"}},Xc=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"Gist ID (æµè§ˆå™¨åœ°å€æ æœ€åä¸€æ®µ)",-1)),Yc={class:"modal-actions"},Qc=h(()=>s("div",{style:{"margin-top":"15px","font-size":"12px",color:"#999","text-align":"center"}}," é…ç½®ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚ ",-1)),er={class:"modal-box",style:{"max-width":"600px",height:"80vh",padding:"0",display:"flex","flex-direction":"column"}},tr={class:"mistake-header"},sr={style:{display:"flex","align-items":"center",gap:"10px"}},or={class:"mistake-modal-title"},nr={style:{display:"flex","align-items":"center",gap:"15px"}},lr={class:"toggle-pill-group"},ar={style:{flex:"1","overflow-y":"auto",padding:"0"}},ir={class:"mistake-table"},cr=h(()=>s("thead",{class:"mistake-thead"},[s("tr",null,[s("th",{style:{width:"45%"}},"å•è¯ / é‡Šä¹‰"),s("th",{style:{width:"25%","text-align":"center"}},"ç´¯è®¡é”™è¯¯"),s("th",{style:{width:"30%","text-align":"right"}},"æ“ä½œ")])],-1)),rr={style:{"font-size":"12px",color:"#6b7280","margin-top":"2px"}},ur={style:{"text-align":"center"}},dr={style:{"text-align":"right"}},vr=["onClick"],hr={key:0},pr={colspan:"3",style:{"text-align":"center",padding:"60px 20px",color:"#9ca3af"}},fr={style:{"font-size":"40px","margin-bottom":"10px"}},gr={key:0},_r=h(()=>s("br",null,null,-1)),mr=h(()=>s("span",{style:{"font-size":"12px"}},"(å¿«å»çœ‹çœ‹â€œå·²æ”»å…‹â€é‡Œæœ‰æ²¡æœ‰ä½ çš„æˆ˜åˆ©å“)",-1)),yr={key:1},br=h(()=>s("br",null,null,-1)),kr=h(()=>s("span",{style:{"font-size":"12px"}},"(åŠ æ²¹ï¼ŒæŠŠé‚£äº›é”™è¯éƒ½â€œæ–©æ€â€æ‰ï¼)",-1)),xr={class:"mistake-footer"},wr=["disabled"],Cr={style:{"font-size":"14px",color:"#374151","font-weight":"bold"},class:y({"dark-text-white":!0})},Sr=["disabled"],$r="/my-ielts/timeout.mp3",Ir="/my-ielts/do.mp3",ts=20,Mr={__name:"index",setup(dt){const Vs=e=>{new Audio(e).play().catch(o=>console.log("äº¤äº’å—é™:",o))},ss=["#ef4444","#3b82f6","#f59e0b","#8b5cf6","#10b981","#ec4899","#06b6d4","#f97316","#6366f1","#84cc16","#d946ef"],os=["#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6"],K=(e,t)=>{const o=p(t);return zt(()=>{try{const l=localStorage.getItem(e);l&&(o.value=JSON.parse(l))}catch{}}),ge(o,l=>localStorage.setItem(e,JSON.stringify(l)),{deep:!0}),o},Dt=I?Object.keys(I):[],T=K("my_ielts_chapter",Dt[0]||""),m=K("my_ielts_review",[]),B=K("my_ielts_killed",[]),D=K("my_ielts_mastered",[]),Z=K("my_ielts_completed_parts",{}),$=K("my_ielts_custom_dict",{}),ue=K("my_ielts_fail_history",{}),Ze=K("my_ielts_audio_peek_history",[]),ee=K("my_ielts_group_notes",{}),x=p(!1),ns=p(0),g=p(!1),N=p(0),We=$e({}),Xe=[5,30,720,1440,2880,5760],Be=p([]),L=$e(new Set),ae=$e(new Set),js=e=>{ae.has(e)?ae.delete(e):ae.add(e)},Fs=e=>{L.has(e)?L.delete(e):L.add(e)},ls=e=>{const t=Array.from(document.querySelectorAll(".dictation-input")),o=t.indexOf(e.target);e.shiftKey?o>0&&(t[o-1].focus(),setTimeout(()=>t[o-1].select(),10)):o>-1&&o<t.length-1?t[o+1].focus():(e.target.blur(),g.value&&x.value&&(Ye.value=!0,x.value=!1,L.clear(),ae.clear(),ft(),A("æœ¬ç»„å¬å†™å®Œæˆï¼å·²è‡ªåŠ¨åˆ·æ–° ğŸ‰")))},Ue=K("my_ielts_page_stories",{}),vt=p(!1),U=p([]),Ie=p(0),Ye=p(!1),te=p(!1),Lt=()=>`${T.value}_Part${N.value}`,Ks=()=>{const e=Lt(),t=Ue.value[e];t?t.content&&!Array.isArray(t)?U.value=[{title:"æ–‡ç«  1",content:t.content}]:Array.isArray(t)?U.value=JSON.parse(JSON.stringify(t)):U.value=[{title:"æ–‡ç«  1",content:""}]:U.value=[{title:"æ–‡ç«  1",content:""}],Ie.value=0,te.value=!U.value[0].content,vt.value=!0},as=e=>{Ie.value=e,te.value=!U.value[e].content},Js=()=>{const e=U.value.length;U.value.push({title:`æ–‡ç«  ${e+1}`,content:""}),as(e),te.value=!0},qs=()=>{if(U.value.length<=1){U.value[0].content="",U.value[0].title="æ–‡ç«  1",A("å·²æ¸…ç©ºå†…å®¹");return}confirm("ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿ")&&(U.value.splice(Ie.value,1),Ie.value>=U.value.length&&(Ie.value=U.value.length-1))},Zs=()=>{const e=Lt();Ue.value={...Ue.value,[e]:U.value},te.value=!1,A("æœ¬é¡µæ‰€æœ‰æ–‡ç« å·²ä¿å­˜ ğŸ’¾")},is=E(()=>{const e=Lt(),t=Ue.value[e];return t?Array.isArray(t)?t.some(o=>o.content&&o.content.trim().length>0):t.content&&t.content.trim().length>0:!1}),be=E(()=>U.value[Ie.value]||{title:"",content:""}),Xs=()=>{const e=[];if(de.value.forEach(o=>{o.list&&o.list.forEach(l=>e.push(l.en))}),e.length===0)return;const t=`Please write a short, interesting story (about 150-200 words) using the following vocabulary. Highlight the vocabulary words in bold within the story.

Words: ${e.join(", ")}`;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{A("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),A("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")}},Me=p(!1),F=$e(new Set),Ys=()=>{Me.value=!Me.value,Me.value||F.clear()},Qs=e=>{F.has(e)?F.delete(e):F.add(e)};ge([T,N,g,x],()=>{L.clear(),ae.clear(),F.clear(),Ye.value=!1}),ge([T,N,g,x],()=>{L.clear(),ae.clear()});const Qe=E(()=>{if(de.value.length===0)return!1;const e=[];return de.value.forEach(t=>t.list.forEach(o=>e.push(o.en))),e.length>0&&e.every(t=>L.has(t))}),cs=()=>{const e=[];de.value.forEach(o=>o.list.forEach(l=>e.push(l.en))),e.every(o=>L.has(o))?L.clear():e.forEach(o=>L.add(o))},et=e=>e?Array.isArray(e)?et(e[0]):String(e):"",ht=e=>{if(!e)return"";if(Array.isArray(e)){const o=[];return e[4]&&typeof e[4]=="string"&&e[4]!=="-"&&o.push(e[4]),e[5]&&typeof e[5]=="string"&&e[5]!=="-"&&o.push(e[5]),o.join("; ")}if(e.notation)return e.notation;if(e.phrase)return e.phrase;if(e.phrases)return e.phrases;if(e.collocation)return e.collocation;if(e.collocations)return e.collocations;if(e.extend)return e.extend;if(e.extension)return e.extension;if(e.note)return e.note;if(e.usage)return e.usage;if(e.æ‹“å±•)return e.æ‹“å±•;if(e.æ­é…)return e.æ­é…;if(e.çŸ­è¯­)return e.çŸ­è¯­;const t=Object.keys(e);for(const o of t){const l=o.toLowerCase();if((l.includes("not")||l.includes("phr")||l.includes("coll")||l.includes("ext"))&&typeof e[o]=="string"&&l!=="pronunciation"&&l!=="uk_audio"&&l!=="us_audio")return e[o]}return""},Pt=e=>{if($.value[e])return{en:e,zh:$.value[e].zh,pos:"è‡ªé€‰",example:"",notation:"æˆ‘çš„ç”Ÿè¯æœ¬",id:"â˜…",source:"ç”Ÿè¯æœ¬"};let t=0;for(const o in I){const l=I[o].words||I[o].list||[];let a=0,u=0;const n=35,d=45;for(let i=0;i<l.length;i++){const _=l[i];let W=0;for(const k of _)W++;const V=u+W;u>0&&(u>=n||V>d)&&(a++,u=0);for(const k of _){let C="",ne="",j="",Se="",At="";Array.isArray(k)?(C=k[0],ne=k[1]||"",j=k[2]||"",Se=k[3]||"",At=ht(k)):(C=k.word||k.en,ne=k.pos||"",j=k.meaning||k.trans||k.zh||"",Se=k.example||"",At=ht(k));const Ws=et(C);if(t++,Ws===e)return{en:Ws,zh:j,pos:ne,example:Se,notation:At,id:t,source:`${o} Part ${a+1}`}}u+=W}}return{en:e,zh:"æœªæ‰¾åˆ°é‡Šä¹‰",pos:"",example:"",notation:"",id:"-",source:"æœªçŸ¥"}},eo=E(()=>{let e=0;for(const t in I)(I[t].words||I[t].list||[]).forEach(l=>e+=l.length);return e}),pt=E(()=>{const e=eo.value,t=m.value.length,o=new Set([...B.value,...D.value]).size,l=Math.max(0,e-t-o);return{total:e,learning:t,learned:o,unlearned:l}}),to=E(()=>{const e={};let t=0;for(const o of Dt){e[o]=t;const l=I[o];(l.words||l.list||[]).forEach(u=>u.forEach(n=>{t++}))}return e}),so=E(()=>{if(!T.value||!I[T.value])return[];const e=I[T.value].words||I[T.value].list||[];let t=[],o=to.value[T.value]||0;return e.forEach((l,a)=>{const u=ss[a%ss.length];let n=[];l.forEach(d=>{let i="",_="",W="",V="",k="";Array.isArray(d)?(i=d[0],_=d[1]||"",W=d[2]||"",V=d[3]||"",k=ht(d)):(i=d.word||d.en,_=d.pos||"",W=d.meaning||d.trans||d.zh||"",V=d.example||"",k=ht(d));const C=et(i);o++;const ne=D.value.includes(C),j=B.value.includes(C);n.push({_id:o,en:C,zh:W,pos:_,example:V,notation:k,_color:u,_groupId:a,_isMastered:ne,_isKilled:j})}),n.length>0&&t.push(n)}),t}),Re=E(()=>{if(g.value)return[];const e=so.value,t=35,o=45;let l=[],a=[],u=0;return e.forEach(n=>{const d=u+n.length;u>0&&(u>=t||d>o)&&(l.push(a),a=[],u=0),a.push(...n),u+=n.length}),a.length>0&&l.push(a),l}),oo=E(()=>g.value?["å…¨éƒ¨é”™é¢˜"]:Re.value.map((e,t)=>{var n;if(!e||e.length===0)return`Part ${t+1}`;const o=e[0]._id,l=e[e.length-1]._id,a=e.length,u=(n=Z.value[T.value])==null?void 0:n.includes(t);return`Part ${t+1} (${o}-${l}) ${a}ä¸ª ${u?"âœ”":""}`})),rs=e=>{const t=I[e];if(!t)return 0;const o=t.words||t.list||[],l=35,a=45;let u=0,n=0;return o.forEach(d=>{const i=d.length,_=n+i;n>0&&(n>=l||_>a)&&(u++,n=0),n+=i}),n>0&&u++,u},no=E(()=>Dt.map(e=>{const t=rs(e),l=(Z.value[e]||[]).length,a=t>0&&l>=t;return{value:e,label:e,isDone:a}})),de=E(()=>{if(g.value){const a=Be.value,u={5:[],4:[],3:[],2:[],1:[],0:[]};a.forEach((i,_)=>{const W=i.stage>=6?5:i.stage||0;u[W]&&u[W].push({...Pt(i.w),_review:i,_id:_+1})});const n=[],d=["é˜¶æ®µ 1 - æ–°æ‰‹/é‡æ¥ (5åˆ†é’Ÿ)","é˜¶æ®µ 2 - å…¥é—¨ (30åˆ†é’Ÿ)","é˜¶æ®µ 3 - ç†Ÿæ‚‰ (12å°æ—¶)","é˜¶æ®µ 4 - æŒæ¡ (1å¤©)","é˜¶æ®µ 5 - ç‰¢å›º (2å¤©)","é˜¶æ®µ 6 - å¤§å¸ˆ (4å¤©+)"];for(let i=5;i>=0;i--)u[i].length>0&&n.push({color:os[i],title:`ğŸ”¥ ${d[i]} [${u[i].length}ä¸ª]`,list:u[i]});return n}const e=Re.value[N.value]||[];if(e.length===0)return[];let t=[],o=null,l=-999;return e.forEach(a=>{a._groupId!==l&&(o={color:a._color,list:[],groupId:a._groupId},t.push(o),l=a._groupId),o.list.push(a)}),t});function ft(){if(!g.value)return;Nt();const e=m.value.filter(t=>t.time<=Date.now());Be.value=JSON.parse(JSON.stringify(e));for(const t in We)delete We[t];L.clear(),ae.clear(),F.clear(),Ye.value=!1,ns.value++,A("çŠ¶æ€å·²é‡ç½®ï¼Œè¯·é‡æ–°å¬å†™ âš¡ï¸")}function lo(){x.value=!1,L.clear(),Ye.value=!1,Nt()}const ie=$e({});function Nt(){Object.keys(ie).forEach(e=>{clearTimeout(ie[e]),delete ie[e]})}function ao(e){L.has(e.en)||L.add(e.en);const t=ue.value[e.en]||0;if(ue.value={...ue.value,[e.en]:t+1},g.value){const o=m.value.findIndex(l=>l.w===e.en);o>-1&&(m.value[o].stage=0,m.value[o].time=Date.now()+Xe[0]*6e4,m.value[o].failCount=(m.value[o].failCount||0)+1)}else{D.value.includes(e.en)&&(D.value=D.value.filter(l=>l!==e.en));const o=m.value.find(l=>l.w===e.en);o?(o.failCount=(o.failCount||0)+1,o.stage=0,o.time=Date.now()+Xe[0]*6e4):m.value.push({w:e.en,stage:0,time:Date.now()+Xe[0]*6e4,failCount:1})}}ge(g,e=>{if(e){const t=m.value.filter(o=>o.time<=Date.now());Be.value=JSON.parse(JSON.stringify(t))}else Be.value=[],x.value=!1,Nt()},{immediate:!0}),ge(m,e=>{if(g.value&&Be.value.length===0){const t=e.filter(o=>o.time<=Date.now());Be.value=JSON.parse(JSON.stringify(t))}});let tt=!1;ge(T,()=>{tt||(N.value=0,g.value=!1)});const ve=p(null),R=p(null),ke=p(!1),st=new Map,us=(e,t=null)=>{const o="Mywonn",l="my-ielts",a="master";let u=t||T.value;if(!t&&I){for(const d in I)if((I[d].words||I[d].list||[]).some(W=>W.some(V=>{const k=Array.isArray(V)?V[0]:V.word||V.en;return et(k)===e}))){u=d;break}}const n=encodeURIComponent(e);return`https://cdn.jsdelivr.net/gh/${o}/${l}@${a}/public/vocabulary/audio/${u}/${n}.mp3`},io=()=>{de.value.forEach(e=>{e.list&&e.list.forEach(t=>{const o=t.en;if(!st.has(o)&&!$.value[o]){const l=us(o),a=new Audio;a.preload="auto",a.src=l,st.set(o,a)}})})};ge([T,N,g],()=>{setTimeout(io,1e3)},{immediate:!0});const ot=e=>{if(L.has(e)&&!Ze.value.includes(e)&&Ze.value.push(e),ve.value&&(ve.value.pause(),ve.value.currentTime=0,ve.value=null),window.speechSynthesis.cancel(),R.value===e){R.value=null,ke.value=!1;return}R.value=e,ke.value=!0;const t=()=>{if(R.value!==e)return;console.log("æ’­æ”¾ TTS å…œåº•:",e),ke.value=!1;const n=new SpeechSynthesisUtterance(e);n.lang="en-US",n.rate=.85;const d=window.speechSynthesis.getVoices(),i=d.find(_=>_.name.includes("Google US"))||d.find(_=>_.lang.includes("en-US"));i&&(n.voice=i),n.onend=()=>{R.value=null},n.onerror=()=>{R.value=null},window.speechSynthesis.speak(n)};if($.value[e]){t();return}let o=st.get(e);if(!o||o.error){const n=us(e);o=new Audio(n),st.set(e,o)}o.currentTime=0,ve.value=o;const l=setTimeout(()=>{R.value===e&&ke.value&&(console.warn("CDN è¶…æ—¶ï¼Œå¼ºåˆ¶ææ–­åŸéŸ³ï¼Œåˆ‡æ¢ TTS"),o.pause(),o.src="",t())},3e3),a=()=>{clearTimeout(l),ke.value=!1};o.onplay=a,o.oncanplaythrough=a,o.onended=()=>{R.value=null,ve.value=null},o.onerror=n=>{console.warn("åŸéŸ³åŠ è½½å¤±è´¥ (404æˆ–ç½‘ç»œæ–­å¼€)",n),clearTimeout(l),st.delete(e),t()};const u=o.play();u!==void 0&&u.catch(n=>{n.name!=="AbortError"&&(console.warn("æ’­æ”¾è¢«é˜»æ–­:",n),clearTimeout(l),t())})},co=e=>{R.value!==e&&(L.has(e)||ot(e))},ro=e=>{if(!e)return console.warn("æ²¡æœ‰æ–‡æœ¬å¯è¯»");ve.value&&(ve.value.pause(),ve.value=null),R.value=null,window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.9,t.volume=1;const o=window.speechSynthesis.getVoices(),l=o.find(a=>a.name.includes("Google US"))||o.find(a=>a.lang.includes("en-US"));l&&(t.voice=l),window._debug_utterance=t,t.onerror=a=>{console.error("æœ—è¯»æŠ¥é”™:",a),a.error!=="canceled"&&a.error!=="interrupted"&&alert("è¯­éŸ³æ’­æ”¾å‡ºé”™: "+a.error)},setTimeout(()=>{window.speechSynthesis.speak(t),console.log("æ­£åœ¨æ’­æ”¾:",e,"ä½¿ç”¨è¯­éŸ³:",l?l.name:"ç³»ç»Ÿé»˜è®¤")},10)};function uo(e,t){if(t.type==="keydown"&&t.key==="Enter"&&!t.target.value.trim())return;let o=t.target.value.trim().toLowerCase(),l=e.en.toLowerCase();const a=n=>n.replace(/[\u2018\u2019`]/g,"'").replace(/\s+/g," "),u=a(o)===a(l);if(We[e.en]=u?"correct":"error",u){if(ie[e.en]&&(clearTimeout(ie[e.en]),delete ie[e.en]),L.has(e.en)||L.add(e.en),!g.value){je("learn",1),D.value.includes(e.en)||(D.value.push(e.en),je("kill",1));const d=m.value.findIndex(i=>i.w===e.en);d>-1&&m.value.splice(d,1);return}const n=m.value.findIndex(d=>d.w===e.en);if(n>-1){je("review",1);const d=m.value[n];d.stage+=1,d.stage>=Xe.length?(m.value.splice(n,1),B.value.includes(e.en)||(B.value.push(e.en),je("kill",1))):(d.time=Date.now()+Xe[d.stage]*6e4,m.value=[...m.value])}}else ie[e.en]&&clearTimeout(ie[e.en]),ie[e.en]=setTimeout(()=>{ao(e),delete ie[e.en]},3e4)}const ds=e=>{if(B.value.includes(e)){if(!confirm(`ç¡®å®šè¦æ’¤é”€æ–©æ€ï¼Œæ¢å¤ "${e}" å—ï¼Ÿ`))return;B.value=B.value.filter(o=>o!==e),A(`"${e}" å·²æ¢å¤ ğŸº`);return}if(!confirm(`ç¡®å®šè¦æ–©æ€ "${e}" å—ï¼Ÿ
(å®ƒå°†å˜ä¸ºç´«è‰²å½’æ¡£çŠ¶æ€)`))return;B.value.push(e),je("kill",1);const t=m.value.findIndex(o=>o.w===e);t>-1&&m.value.splice(t,1),D.value.includes(e)&&(D.value=D.value.filter(o=>o!==e))};function vo(){const e={k:B.value,r:m.value,c:Z.value,m:D.value,d:$.value,s:G.value,n:ee,f:ue.value},t=new Blob([JSON.stringify(e)],{type:"application/json"}),o=URL.createObjectURL(t),l=document.createElement("a");l.href=o,l.download=`ielts_data_${new Date().toISOString().slice(0,10)}.json`,l.click()}const ho=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{});else{const t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}};function po(){document.getElementById("fileInput").click()}function fo(e){const t=e.target.files[0];if(!t)return;const o=new FileReader;o.onload=l=>{try{const a=JSON.parse(l.target.result);(a.k||a.r||a.d)&&(a.k&&(B.value=a.k),a.r&&(m.value=a.r),a.c&&(Z.value=a.c),a.m&&(D.value=a.m),a.d&&($.value=a.d),a.s&&(G.value=a.s),a.n&&(ee.value=a.n),a.f&&(ue.value=a.f),alert("åŒæ­¥æˆåŠŸ"),location.reload())}catch{alert("æ–‡ä»¶æ ¼å¼é”™è¯¯")}},o.readAsText(t),e.target.value=""}const Te=p(!1),gt=p(""),Ge=p(!1),_t=p(""),mt=p(""),Ot=p(!1),vs=p("");p(!1);const He=p(!1),Wt=p(null);let yt=null;const Ve=p("week"),G=K("my_ielts_stats_history",{}),nt=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},je=(e,t=1)=>{const o=nt();G.value[o]||(G.value[o]={duration:0,review:0,kill:0,add:0}),typeof G.value[o][e]>"u"&&(G.value[o][e]=0),G.value[o][e]+=t,G.value={...G.value}},hs=async()=>{if(Wt.value){yt&&(yt.destroy(),yt=null);try{const{Chart:e,registerables:t}=await Qo(()=>import("https://cdn.jsdelivr.net/npm/chart.js/+esm"),[],import.meta.url);e.register(...t);const o=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark"),l=o?"#cbd5e1":"#666",a=o?"#334155":"#e5e7eb",u=Ve.value==="week"?7:30,n=[],d=[],i=[],_=[],W=[],V=new Date;for(let k=u-1;k>=0;k--){const C=new Date(V.getTime()-k*24*60*60*1e3),ne=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}-${String(C.getDate()).padStart(2,"0")}`;n.push(String(C.getDate())+"æ—¥");const j=G.value[ne]||{duration:0,review:0,learn:0,kill:0};d.push(Math.round(j.duration/60)),i.push(j.review||0),_.push(j.learn||0),W.push(j.kill||0)}yt=new e(Wt.value,{type:"bar",data:{labels:n,datasets:[{label:"æ–°å­¦ (ä¸ª)",data:_,backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"#10b981",borderWidth:1,yAxisID:"y",order:4,stack:"combined"},{label:"å¤ä¹  (ä¸ª)",data:i,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"#3b82f6",borderWidth:1,yAxisID:"y",order:3,stack:"combined"},{label:"æ–©æ€ (ä¸ª)",data:W,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"#ef4444",borderWidth:1,yAxisID:"y",order:2,stack:"combined"},{type:"line",label:"ä¸“æ³¨ (åˆ†)",data:d,borderColor:"#f59e0b",backgroundColor:"#f59e0b",borderWidth:2,pointRadius:3,tension:.3,yAxisID:"y1",order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:l},grid:{color:a}},y:{type:"linear",display:!0,position:"left",stacked:!0,title:{display:!0,text:"å•è¯é‡",color:l},ticks:{color:l},grid:{color:a}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"åˆ†é’Ÿ",color:l},ticks:{color:l}}}}})}catch(e){console.error("å›¾è¡¨åŠ è½½å¤±è´¥:",e)}}};ge(He,e=>{e&&setTimeout(hs,100)}),ge(Ve,()=>{He.value&&hs()});function go(){gt.value="",Te.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("custom-word-input"))==null?void 0:e.focus()},100)}function ps(){const e=gt.value;if(!e||!e.trim()){Te.value=!1;return}const t=e.trim();Te.value=!1,setTimeout(()=>{Pt(t).zh==="æœªæ‰¾åˆ°é‡Šä¹‰"?(mt.value=t,_t.value="",Ge.value=!0,setTimeout(()=>{var l;return(l=document.getElementById("custom-meaning-input"))==null?void 0:l.focus()},100)):gs(t)},200)}function fs(){const e=_t.value.trim();e&&(Ge.value=!1,$.value={...$.value,[mt.value]:{zh:e}},gs(mt.value))}function gs(e){Te.value=!1,Ge.value=!1;const t=m.value.findIndex(o=>o.w===e);t>-1?(m.value[t].stage=0,m.value[t].time=Date.now(),A(`"${e}" å·²é‡ç½®å¤ä¹ è¿›åº¦ï¼ğŸ”„`)):(m.value.push({w:e,stage:0,time:Date.now()}),A(`"${e}" å·²åŠ å…¥å¤ä¹ ï¼âœ…`)),g.value&&ft()}function A(e){vs.value=e,Ot.value=!0,setTimeout(()=>{Ot.value=!1},800)}const lt=p(!1),ce=$e({oldWord:"",newWord:"",newZh:""}),_o=e=>{ce.oldWord=e.en,ce.newWord=e.en,ce.newZh=e.zh,lt.value=!0},mo=()=>{const e=ce.oldWord,t=ce.newWord.trim(),o=ce.newZh.trim();if(!t)return alert("å•è¯ä¸èƒ½ä¸ºç©º");if(e===t)$.value[e]?$.value[e].zh=o:$.value={...$.value,[e]:{zh:o}},A("é‡Šä¹‰å·²æ›´æ–°");else{if($.value[e]){const a={...$.value};delete a[e],a[t]={zh:o},$.value=a}else $.value={...$.value,[t]:{zh:o}};const l=m.value.findIndex(a=>a.w===e);l>-1&&(m.value[l].w=t),B.value.includes(e)&&(B.value=B.value.filter(a=>a!==e),B.value.push(t)),D.value.includes(e)&&(D.value=D.value.filter(a=>a!==e),D.value.push(t)),A(`å·²ä¿®æ­£: ${e} -> ${t}`)}g.value&&ft(),lt.value=!1},Ae=p(!1),bt=p(window.innerWidth-320-5),Bt=p(window.innerHeight*.26),re=p(null);let P=null,Ut=!1,Rt=!1,_s=0,ms=0,Fe=null;const ys=e=>{const t=re.value;if(!t)return{x:0,y:0};const o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}},Gt=()=>{if(!re.value)return;const e=re.value,t=e.getBoundingClientRect(),o=Math.ceil(t.width),l=Math.ceil(t.height);o<1||l<1||(e.width!==o||e.height!==l?(e.width=o,e.height=l,P=e.getContext("2d"),P&&(P.strokeStyle="#ffffff",P.lineWidth=3,P.lineCap="round",P.lineJoin="round")):P||(P=e.getContext("2d")))},yo=e=>{if(ze.value||(e.cancelable&&e.preventDefault(),!re.value)||(P||Gt(),!P))return;if(Ut=!0,e.target.setPointerCapture&&e.pointerId)try{e.target.setPointerCapture(e.pointerId)}catch{}P.strokeStyle="#ffffff",P.lineWidth=3,P.beginPath();const{x:o,y:l}=ys(e);P.moveTo(o,l)},bo=e=>{if(!Ut||!P)return;e.cancelable&&e.preventDefault();const{x:t,y:o}=ys(e);P.lineTo(t,o),P.stroke()},bs=e=>{if(Ut=!1,e&&e.target.releasePointerCapture&&e.pointerId)try{e.target.releasePointerCapture(e.pointerId)}catch{}},Ht=()=>{!re.value||!P||P.clearRect(0,0,re.value.width,re.value.height)},ko=e=>{e.target.tagName!=="BUTTON"&&(Rt=!0,_s=e.clientX-bt.value,ms=e.clientY-Bt.value,window.addEventListener("mousemove",ks),window.addEventListener("mouseup",xs))},ks=e=>{Rt&&(bt.value=e.clientX-_s,Bt.value=e.clientY-ms)},xs=()=>{Rt=!1,window.removeEventListener("mousemove",ks),window.removeEventListener("mouseup",xs)},ws=()=>{Ae.value=!Ae.value,Ae.value?(Et(()=>{Gt(),re.value&&!Fe&&(Fe=new ResizeObserver(()=>{Gt()}),Fe.observe(re.value))}),window.addEventListener("keydown",Cs)):(Fe&&(Fe.disconnect(),Fe=null),window.removeEventListener("keydown",Cs))},Cs=e=>{Ae.value&&e.code==="Space"&&(e.preventDefault(),Ht())},at=p(!1),he=p(1),X=p(!1),Vt=E(()=>Object.keys(ue.value).map(o=>({w:o,count:ue.value[o]})).filter(o=>o.count>0).filter(o=>{const l=B.value.includes(o.w)||D.value.includes(o.w);return X.value?l:!l}).map(o=>{const l=Pt(o.w);return{en:o.w,count:o.count,zh:l.zh,source:l.source,rawInfo:l}}).sort((o,l)=>l.count-o.count)),xo=E(()=>{const e=(he.value-1)*ts,t=e+ts;return Vt.value.slice(e,t)}),Ss=E(()=>Math.ceil(Vt.value.length/ts)||1),wo=()=>{he.value=1,X.value=!1,at.value=!0},Co=e=>{const t=Kt(e.rawInfo);if(!t||t==="#"){alert("è¯¥å•è¯æ¥è‡ªè‡ªå®šä¹‰ç”Ÿè¯æœ¬ï¼Œæš‚æ— å›ºå®šç« èŠ‚ä½ç½®");return}if(window.innerWidth<768)at.value=!1,Es({en:e.en,source:e.source});else{const l=window.location.origin+t;window.open(l,"_blank")}},$s=e=>{const t=N.value+e;t>=0&&t<Re.value.length&&(N.value=t,window.scrollTo({top:0,behavior:"smooth"}))},So=[.0834,10,15,25,30,45,60],kt=K("my_ielts_focus_dur",30),xe=()=>Math.round(kt.value*60),ze=p(!1),jt=p(!1),z=p(xe()),Y=p("idle"),w=p(!1),xt=p(0);let J=null;const Ft=e=>{const t=Math.floor(e/60),o=e%60;return`${t<10?"0"+t:t}:${o<10?"0"+o:o}`},it=()=>{localStorage.setItem("my_ielts_pomo",JSON.stringify({seconds:z.value,endTime:xt.value,isBreak:w.value,state:Y.value,timestamp:Date.now()}))},$o=()=>{J&&clearInterval(J),J=null,Y.value="paused",it()},Ke=e=>{w.value=!0,z.value=Math.round(e*60),ze.value=!1,wt()},Io=()=>{w.value=!1,z.value=xe(),ze.value=!1,wt()},Mo=()=>{Y.value==="idle"&&!w.value&&(z.value=xe())},To=()=>{ze.value=!1,it()},wt=e=>{const t=e===!0;if(Y.value!=="running"){if(J&&clearInterval(J),!t&&Y.value==="idle"&&!w.value&&(z.value=xe()),z.value<=0&&(z.value=w.value?5*60:xe()),!t){const o=Date.now();xt.value=o+z.value*1e3}Y.value="running",it(),J=setInterval(()=>{const o=Date.now(),l=Math.ceil((xt.value-o)/1e3);if(l>0){z.value=l;const a=w.value?"â˜•":"ğŸ…",u=w.value?"ä¼‘æ¯":"ä¸“æ³¨";document.title=`${Ft(z.value)} ${a} ${u}`,w.value||je("duration",1),it()}else{z.value=0,Is(!1);const a=w.value;jt.value=a,Vs(a?Ir:$r),ze.value=!0,document.title="ğŸ”” æ—¶é—´åˆ°ï¼",w.value=!a,z.value=w.value?5*60:xe(),it()}},1e3)}},Is=(e=!0)=>{J&&(clearInterval(J),J=null),Y.value="idle",localStorage.removeItem("my_ielts_pomo"),e&&(w.value&&(w.value=!1),z.value=xe(),document.title="MyIELTS")},Ms=p(!1),Ts=p(!0),As=()=>{const e=window.scrollY,t=window.innerHeight,o=document.documentElement.scrollHeight;Ms.value=window.scrollY>300;const l=e<50,u=o-(e+t)<20,n=o<t*1.2;Ts.value=l||u||n},Ao=()=>{window.scrollTo({top:0,behavior:"smooth"})};zt(()=>{window.addEventListener("resize",qt),window.addEventListener("scroll",As)}),Bs(()=>{J&&clearInterval(J),fe&&clearTimeout(fe),window.removeEventListener("resize",qt),window.removeEventListener("scroll",As)}),Bs(()=>{J&&clearInterval(J)}),zt(()=>{const e=localStorage.getItem("my_ielts_pomo");if(e)try{const u=JSON.parse(e);if(u.state==="paused"){console.log("æ¢å¤æš‚åœçŠ¶æ€ï¼Œæ—¶é—´å†»ç»“"),w.value=u.isBreak,z.value=u.seconds,Y.value="paused";const n=w.value?"â˜•":"ğŸ…",d=w.value?"ä¼‘æ¯":"ä¸“æ³¨";document.title=`â¸ ${Ft(z.value)} ${n} ${d}`}else if(u.endTime){const n=Date.now(),d=Math.ceil((u.endTime-n)/1e3);d>0?(w.value=u.isBreak,z.value=d,xt.value=u.endTime,wt(!0)):(console.log("æ£€æµ‹åˆ°åå°å€’è®¡æ—¶å·²è¿‡æœŸï¼Œè‡ªåŠ¨é‡ç½®"),localStorage.removeItem("my_ielts_pomo"),w.value=!1,Y.value="idle",z.value=xe())}}catch(u){console.error("ç•ªèŒ„é’Ÿæ¢å¤å¤±è´¥",u),localStorage.removeItem("my_ielts_pomo")}window.speechSynthesis.getVoices();const t=new URLSearchParams(window.location.search),o=t.get("chap"),l=t.get("part"),a=t.get("anchor");o&&l&&(tt=!0,g.value=!1,T.value=decodeURIComponent(o),N.value=parseInt(l),Et(()=>{tt=!1}),setTimeout(()=>{let u=null;if(a){const d="word-row-"+decodeURIComponent(a).replace(/\s+/g,"_");u=document.getElementById(d)}u||(u=document.querySelector(".row-item")),u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),u.classList.add("highlight-flash"),setTimeout(()=>u.classList.remove("highlight-flash"),2500))},600))}),document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"&&Y.value==="running"){const e=localStorage.getItem("my_ielts_pomo");if(e)try{const t=JSON.parse(e),o=Date.now(),l=Math.floor((o-t.timestamp)/1e3);if(l>1){console.log(`åå°è¿è¡Œäº† ${l} ç§’ï¼Œæ­£åœ¨æ ¡å‡†...`);const a=t.seconds-l;a>0?z.value=a:z.value=0}}catch(t){console.error("æ ¡å‡†æ—¶é—´å¤±è´¥",t)}}});const Je=p(!1),qe=p(""),se=p([]),zo=()=>{qe.value="",se.value=[],Je.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("global-search-input"))==null?void 0:e.focus()},100)},pe=p(-1),zs=e=>{if(se.value.length===0)return;const t=se.value.length;pe.value===-1?pe.value=e>0?0:t-1:pe.value=(pe.value+e+t)%t,Et(()=>{const o=document.querySelector(".search-item.selected");o&&o.scrollIntoView({block:"nearest",behavior:"smooth"})})},Eo=()=>{pe.value=-1;const e=qe.value.trim().toLowerCase();if(!e){se.value=[];return}const t=[],o=new Set;for(const l in $.value){const a=$.value[l].zh||"";(l.toLowerCase().includes(e)||a.includes(e))&&(t.push({en:l,zh:a,source:"æˆ‘çš„ç”Ÿè¯æœ¬",isCustom:!0}),o.add(l))}if(I)for(const l in I){const a=I[l].words||I[l].list||[];let u=0,n=0;const d=35,i=45;for(let _=0;_<a.length;_++){const W=a[_];let V=0;for(const C of W)V++;const k=n+V;n>0&&(n>=d||k>i)&&(u++,n=0);for(const C of W){let ne="",j="";Array.isArray(C)?(ne=C[0],j=C[2]||""):(ne=C.word||C.en,j=C.meaning||C.trans||C.zh||"");const Se=et(ne);(Se.toLowerCase().includes(e)||j.includes(e))&&!o.has(Se)&&(t.push({en:Se,zh:j,source:`${l} Â· Part ${u+1}`,chapter:l,partIdx:u,isCustom:!1}),o.add(Se))}n+=V}if(t.length>100)break}t.sort((l,a)=>{const u=l.en.toLowerCase(),n=a.en.toLowerCase();if(u===e&&n!==e)return-1;if(n===e&&u!==e)return 1;const d=u.startsWith(e),i=n.startsWith(e);return d&&!i?-1:i&&!d?1:u.length-n.length}),se.value=t.slice(0,50)},Do=()=>{const e=qe.value.trim().toLowerCase();if(!e||se.value.length===0)return;if(pe.value!==-1){const o=se.value[pe.value];if(o){ct(o);return}}const t=se.value.find(o=>o.en.toLowerCase()===e);ct(t||se.value[0])},Es=e=>{if(!e.source||e.source==="ç”Ÿè¯æœ¬"||e.source==="æœªçŸ¥"){A("è¯¥è¯å±äºè‡ªå®šä¹‰ç”Ÿè¯ï¼Œæ— å›ºå®šç« èŠ‚ä½ç½®");return}const t=" Part ",o=e.source.lastIndexOf(t);if(o===-1){console.warn("æ— æ³•è§£æå‡ºå¤„æ ¼å¼:",e.source);return}const l=e.source.substring(0,o),a=e.source.substring(o+t.length),u=parseInt(a)-1,n={en:e.en,chapter:l,partIdx:u,isCustom:!1};ct(n)},ct=e=>{e.isCustom||e.partIdx===void 0||(Je.value=!1,g.value=!1,tt=!0,T.value=e.chapter,N.value=e.partIdx,Et(()=>{tt=!1}),setTimeout(()=>{const t="word-row-"+e.en.replace(/\s+/g,"_"),o=document.getElementById(t);o?(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("highlight-flash"),setTimeout(()=>o.classList.remove("highlight-flash"),2e3)):console.warn("æœªæ‰¾åˆ°å…ƒç´ :",t)},400))},Kt=e=>{const t=typeof e=="string"?e:e.source,o=typeof e=="string"?"":e.en;if(!t||t==="ç”Ÿè¯æœ¬"||t==="æœªçŸ¥")return"#";const l=" Part ",a=t.lastIndexOf(l);if(a===-1)return"#";const u=t.substring(0,a),n=t.substring(a+l.length),d=parseInt(n)-1;let i=`?chap=${encodeURIComponent(u)}&part=${d}`;o&&(i+=`&anchor=${encodeURIComponent(o)}`);const _=window.location.hash;return`${window.location.pathname}${i}${_}`},Ct=$e({}),Lo=e=>{Ct[e]=!Ct[e]},rt=e=>!e||!e.list||e.list.length===0?!1:e.list.every(t=>F.has(t.en)),Po=e=>{const t=rt(e);e.list.forEach(o=>{t?F.delete(o.en):F.add(o.en)})},Ds=()=>{const e=[];if(de.value.forEach(o=>{o.list&&o.list.forEach(l=>e.push(l.en))}),e.length===0)return A("å½“å‰æ²¡æœ‰å•è¯å¯å¤åˆ¶");const t=e.join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{A(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),A(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)}},No=e=>{if(!e||!e.list||e.list.length===0)return;const t=e.list.map(o=>o.en).join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{A(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),A(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)}},Jt=p(window.innerWidth),qt=()=>Jt.value=window.innerWidth;zt(()=>window.addEventListener("resize",qt));const Oo=E(()=>Ae.value?bt.value>Jt.value/2-100:!1),St=p(!1),Zt=p(""),H=p([]),Ee=p(0),oe=p(!1),Xt=e=>`${T.value}_${e}`,$t=e=>{if(!e)return"";try{return en.parse(e)}catch{return e}},Ls=(e,t="read")=>{const o=Xt(e);Zt.value=o;const l=ee.value[o];l?l.content!==void 0&&!Array.isArray(l)?H.value=[{title:l.title||"è¾¨æç‚¹ 1",content:l.content}]:Array.isArray(l)?H.value=JSON.parse(JSON.stringify(l)):H.value=[{title:"è¾¨æç‚¹ 1",content:""}]:(H.value=[{title:"è¾¨æç‚¹ 1",content:""}],t="edit"),Ee.value=0,oe.value=t==="edit",St.value=!0},Ps=e=>{Ee.value=e,oe.value=!H.value[e].content},Wo=()=>{const e=H.value.length;H.value.push({title:`è¾¨æç‚¹ ${e+1}`,content:""}),Ps(e),oe.value=!0},Bo=()=>{if(H.value.length<=1){H.value[0].content="",H.value[0].title="è¾¨æç‚¹ 1";return}confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è¾¨æå—ï¼Ÿ")&&(H.value.splice(Ee.value,1),Ee.value>=H.value.length&&(Ee.value=H.value.length-1))},Uo=()=>{const e=H.value.filter(t=>t.title.trim()||t.content.trim());if(e.length===0){const t={...ee.value};delete t[Zt.value],ee.value=t}else ee.value={...ee.value,[Zt.value]:e};oe.value=!1},we=E(()=>H.value[Ee.value]||{title:"",content:""}),Ro=e=>{const t=Xt(e),o=ee.value[t];if(!o)return"";if(!Array.isArray(o))return o.title&&o.title.trim()?o.title.trim():o.content?"ğŸ“ è¯ä¹‰è¾¨æ":"";if(o.length>0){const l=o[0];return l.title&&l.title!=="è¾¨æç‚¹ 1"?l.title:`ğŸ“ è¯ä¹‰è¾¨æ (${o.length})`}return""},It=e=>{const t=Xt(e),o=ee.value[t];return o?Array.isArray(o)?o.length>0:o.title&&o.title.trim()||o.content&&o.content.trim():!1},ut=p(!1),O=$e({token:localStorage.getItem("my_ielts_gh_token")||"",gistId:localStorage.getItem("my_ielts_gh_gist_id")||""}),De=p(!1),Yt=E(()=>!!(De.value||!Pe.value||Le.value&&Le.value>=Pe.value)),Ce=p(!1);let fe=null;const Le=K("my_ielts_last_sync_time",""),Ns=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");Le.value=`${t}/${o} ${l}:${a}`},Pe=p(""),Ne=p(!1),Qt=p(!1),Go=async()=>{if(!(!O.token||!O.gistId)){fe&&clearTimeout(fe),Qt.value=!0;try{const e=await fetch(`https://api.github.com/gists/${O.gistId}`,{headers:{Authorization:`token ${O.token}`}});if(e.ok){const t=await e.json(),o=new Date(t.updated_at),l=String(o.getMonth()+1).padStart(2,"0"),a=String(o.getDate()).padStart(2,"0"),u=String(o.getHours()).padStart(2,"0"),n=String(o.getMinutes()).padStart(2,"0");Pe.value=`${l}/${a} ${u}:${n}`,Le.value&&Pe.value>Le.value?(Ne.value=!0,console.log("æœ‰æ›´æ–°ï¼Œå¼¹çª—åœç•™ 10s"),fe=setTimeout(()=>{Ce.value=!1},1e4)):(Ne.value=!1,console.log("æ— æ›´æ–°ï¼Œå¼¹çª—åœç•™ 2s"),fe=setTimeout(()=>{Ce.value=!1},2e3))}}catch(e){console.error("æ£€æµ‹äº‘ç«¯å¤±è´¥",e),fe=setTimeout(()=>{Ce.value=!1},3e3)}finally{Qt.value=!1}}},Ho=()=>{fe&&clearTimeout(fe),Ce.value=!Ce.value,Ce.value&&Go()},Vo=()=>{localStorage.setItem("my_ielts_gh_token",O.token.trim()),localStorage.setItem("my_ielts_gh_gist_id",O.gistId.trim()),alert("é…ç½®å·²ä¿å­˜ï¼âœ…"),ut.value=!1},jo=async()=>{if(!O.token||!O.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("ç¡®å®šè¦è¦†ç›–äº‘ç«¯æ•°æ®å—ï¼Ÿ(äº‘ç«¯æ—§æ•°æ®å°†ä¸¢å¤±)")){De.value=!0;try{const e={k:B.value,r:m.value,c:Z.value,m:D.value,d:$.value,s:G.value,n:ee.value,st:Ue.value,ap:Ze.value,f:ue.value},t=JSON.stringify(e),o=`https://api.github.com/gists/${O.gistId}`,l=await fetch(o,{method:"PATCH",headers:{Authorization:`token ${O.token}`,"Content-Type":"application/json"},body:JSON.stringify({files:{"data.json":{content:t}}})});if(l.ok)Ns(),Pe.value=Le.value,Ne.value=!1,alert("â˜ï¸ ä¸Šä¼ æˆåŠŸï¼æ•°æ®å·²å®‰å…¨ä¿å­˜åˆ° Gistã€‚");else throw new Error(l.statusText)}catch(e){alert("ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ Token æˆ–ç½‘ç»œ: "+e.message),console.error(e)}finally{De.value=!1}}},Fo=async()=>{if(!O.token||!O.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("âš ï¸ è­¦å‘Šï¼šè¿™å°†ç”¨äº‘ç«¯æ•°æ®è¦†ç›–å½“å‰æœ¬åœ°è¿›åº¦ï¼ç¡®å®šå—ï¼Ÿ")){De.value=!0;try{const e=`https://api.github.com/gists/${O.gistId}`,t=await fetch(e,{method:"GET",headers:{Authorization:`token ${O.token}`}});if(!t.ok)throw new Error(t.statusText);const l=(await t.json()).files["data.json"].content,a=JSON.parse(l);a.k&&(B.value=a.k),a.r&&(m.value=a.r),a.c&&(Z.value=a.c),a.m&&(D.value=a.m),a.d&&($.value=a.d),a.s&&(G.value=a.s),a.n&&(ee.value=a.n),a.st&&(Ue.value=a.st),a.ap&&(Ze.value=a.ap),a.f&&(ue.value=a.f),Ns(),alert("â˜ï¸ åŒæ­¥æˆåŠŸï¼æœ¬åœ°è¿›åº¦å·²æ›´æ–°ã€‚"),location.reload()}catch(e){alert("ä¸‹è½½å¤±è´¥: "+e.message),console.error(e)}finally{De.value=!1}}},Mt=e=>{const t=m.value.find(o=>o.w===e);return t?(t.stage||0)+1:null},Ko=E(()=>!0),Os=E(()=>(Z.value[T.value]||[]).includes(N.value)),Jo=()=>{const e=T.value,t=N.value,o=Z.value[e]||[];if(o.includes(t)){const l=o.filter(a=>a!==t);Z.value={...Z.value,[e]:l},A("å·²æ’¤é”€å®Œæˆæ ‡è®° â­•")}else{const l=[...o,t].sort((u,n)=>u-n);Z.value={...Z.value,[e]:l};const a=rs(e);l.length>=a?A(`å¤ªå¼ºäº†ï¼æœ¬ç«  ${e} å…¨éƒ¨é€šå…³ï¼ğŸ†`):A("æœ¬é¡µå·²æ ‡è®°å®Œæˆï¼ğŸ‰")}},Tt=E(()=>Jt.value<768&&g.value&&x.value&&Qe.value?Ye.value:!0);return(e,t)=>{var o,l,a,u;return r(),c(q,null,[s("div",tn,[s("div",sn,[s("div",on,[s("div",nn,[s("div",ln,[s("button",{class:y(["tab-btn",{active:!g.value}]),onClick:t[0]||(t[0]=n=>g.value=!1)},"ğŸ“– å­¦ä¹ ",2),s("button",{class:y(["tab-btn review-tab",{active:g.value}]),onClick:t[1]||(t[1]=n=>g.value=!0)},[M(" ğŸ”¥ å¤ä¹ "),_e(m).filter(n=>n.time<Date.now()).length>0?(r(),c("span",an)):f("",!0)],2)]),s("label",cn,[S(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>x.value=n)},null,512),[[Zo,x.value]]),s("span",null,v(x.value?"ğŸ™ï¸ ":"ğŸ‘€ "),1)]),x.value?(r(),c("button",{key:0,class:"mobile-only tool-btn-simple",onClick:cs,style:{"margin-left":"10px","font-size":"20px"},title:Qe.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(Qe.value?"ğŸ“–":"ğŸ™ˆ"),9,rn)):f("",!0)]),s("div",un,[g.value?f("",!0):(r(),c("div",dn,[S(s("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>Us(T)?T.value=n:null),class:"sel-chap"},[(r(!0),c(q,null,me(no.value,n=>(r(),c("option",{key:n.value,value:n.value},v(n.label)+v(n.isDone?"âœ…":""),9,vn))),128))],512),[[es,_e(T)]]),S(s("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>N.value=n),class:"sel-part"},[(r(!0),c(q,null,me(oo.value,(n,d)=>(r(),c("option",{key:d,value:d},v(n),9,hn))),128))],512),[[es,N.value]])])),s("div",{class:y(["stats-bar",{"compact-mode":!g.value}])},[g.value?(r(),c("span",pn,"ğŸ“š "+v(pt.value.total),1)):f("",!0),s("span",fn,"ğŸ”¥ "+v(pt.value.learning),1),s("span",gn,"âœ… "+v(pt.value.learned),1),s("span",_n,"ğŸŒ‘ "+v(pt.value.unlearned),1)],2)]),s("div",mn,[g.value?(r(),c("button",{key:0,onClick:t[5]||(t[5]=n=>He.value=!0),class:"btn action-btn",title:"å­¦ä¹ ç»Ÿè®¡"},"ğŸ“Š")):f("",!0),s("button",{onClick:ws,class:y(["btn action-btn desktop-only",{"active-pad":Ae.value}]),title:"æ‰“å¼€/å…³é—­è‰ç¨¿æ¿"},"ğŸ–Šï¸",2),g.value?(r(),c("button",{key:1,onClick:wo,class:"btn action-btn",title:"æ˜“é”™å•è¯æ’è¡Œæ¦œ",style:{width:"46px",height:"46px",padding:"0",display:"inline-flex","align-items":"center","justify-content":"center"}},[(r(),c("svg",yn,kn))])):f("",!0),s("button",{onClick:vo,class:y(["btn action-btn",{"desktop-only":g.value}]),title:"å¯¼å‡º/å¤‡ä»½è¿›åº¦ (JSON)"},"â¬‡ï¸",2),s("button",{onClick:po,class:y(["btn action-btn",{"desktop-only":g.value}]),title:"å¯¼å…¥/æ¢å¤è¿›åº¦"},"â¬†ï¸",2),s("input",{type:"file",id:"fileInput",hidden:"",onChange:fo},null,32),s("div",{class:y(["pomo-compact",{"break-mode":w.value}])},[!w.value&&Y.value==="idle"?S((r(),c("select",{key:0,"onUpdate:modelValue":t[6]||(t[6]=n=>Us(kt)?kt.value=n:null),onChange:Mo,class:"pomo-select",title:"ç‚¹å‡»è°ƒæ•´ä¸“æ³¨æ—¶é•¿"},[(r(),c(q,null,me(So,n=>s("option",{key:n,value:n},v(n<1?"âš¡ 05s":(n<10?"0"+n:n)+":00"),9,xn)),64))],544)),[[es,_e(kt)]]):(r(),c("span",wn,v(Ft(z.value)),1)),Y.value!=="running"?(r(),c("button",{key:2,onClick:wt,class:"pomo-btn-small play-btn"},"â–¶")):(r(),c("button",{key:3,onClick:$o,class:"pomo-btn-small pause-btn"},"â¸")),s("button",{onClick:t[7]||(t[7]=n=>Is(!0)),class:"pomo-btn-small stop-btn"},"â¹")],2)])])]),ze.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:b(To,["self"])},[s("div",Sn,[s("button",{class:"modal-close-icon",onClick:t[8]||(t[8]=n=>ze.value=!1)},"âœ•"),s("div",$n,v(w.value?"ğŸ”‹":"ğŸ‰"),1),s("h2",In,v(jt.value?"å……ç”µå®Œæ¯•":"ä¸“æ³¨å®Œæˆ"),1),jt.value?(r(),c("div",Tn,[s("button",{onClick:Io,class:"modal-btn focus-btn"},"å¼€å§‹ä¸“æ³¨")])):(r(),c("div",Mn,[s("button",{onClick:t[9]||(t[9]=n=>Ke(3)),class:"modal-btn break-btn"},"3m"),s("button",{onClick:t[10]||(t[10]=n=>Ke(5)),class:"modal-btn break-btn"},"5m"),s("button",{onClick:t[11]||(t[11]=n=>Ke(10)),class:"modal-btn break-btn"},"10m"),s("button",{onClick:t[12]||(t[12]=n=>Ke(15)),class:"modal-btn break-btn"},"15m"),s("button",{onClick:t[13]||(t[13]=n=>Ke(25)),class:"modal-btn long-break-btn"},"25m"),s("button",{onClick:t[14]||(t[14]=n=>Ke(.05)),class:"modal-btn focus-btn"},"âš¡ 03s (æµ‹è¯•)")]))])],8,Cn)):f("",!0),de.value.length>0?(r(),c("div",An,[s("div",zn,[En,s("div",Dn,[M(" å•è¯ "),g.value?(r(),c("button",{key:0,class:"toggle-source-btn",onClick:Ys,title:Me.value?"éšè—å…¨éƒ¨å‡ºå¤„":"æ˜¾ç¤ºå…¨éƒ¨å‡ºå¤„"},[Me.value?(r(),c("svg",Pn,Wn)):(r(),c("svg",Bn,Gn))],8,Ln)):f("",!0),g.value?f("",!0):(r(),c("button",{key:1,class:"toggle-source-btn",onClick:Ds,title:"å¤åˆ¶æœ¬é¡µæ‰€æœ‰å•è¯",style:{"margin-left":"4px"}}," ğŸ“‹ "))]),Hn,s("div",Vn,[M(" è¯ä¹‰ "),x.value?(r(),c("button",{key:0,class:"toggle-all-btn",onClick:cs,title:Qe.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(Qe.value?"ğŸ“–":"ğŸ™ˆ"),9,jn)):f("",!0)]),x.value?f("",!0):(r(),c("div",Fn,"ä¾‹å¥")),x.value?f("",!0):(r(),c("div",Kn,"æ‹“å±•")),Jn])])):f("",!0),s("div",qn,[de.value.length===0?(r(),c("div",Zn,v(g.value?"æš‚æ— é”™é¢˜ ğŸ‰":"æœ¬ç« æ•°æ®åŠ è½½ä¸­"),1)):f("",!0),(r(!0),c(q,null,me(de.value,(n,d)=>(r(),c("div",{key:d,class:"vocab-block",style:Q({borderLeftColor:n.color})},[g.value?f("",!0):(r(),c("div",{key:0,class:y(["group-note-bar",{"has-note":It(n.groupId)}]),style:Q({backgroundColor:It(n.groupId)?n.color+"15":"transparent",borderBottom:It(n.groupId)?"1px solid "+n.color+"20":"none"})},[s("div",{class:"note-title",onClick:i=>Ls(n.groupId,"read")},[It(n.groupId)?(r(),c("span",{key:0,class:"note-exist-text",style:Q({color:n.color})},[Yn,M(" "+v(Ro(n.groupId)),1)],4)):(r(),c("span",Qn," â• æ·»åŠ è¾¨æç¬”è®° "))],8,Xn),s("div",el,[s("button",{class:"note-action-btn copy-group-btn",onClick:b(i=>No(n),["stop"]),title:"å¤åˆ¶æœ¬ç»„å•è¯"}," ğŸ“‹ ",8,tl),s("button",{class:"note-action-btn",onClick:b(i=>Ls(n.groupId,"edit"),["stop"]),title:"ç¼–è¾‘ç¬”è®°"}," âš™ï¸ ",8,sl)])],6)),g.value&&n.title?(r(),c("div",{key:1,class:"group-title",style:Q([{color:n.color,backgroundColor:n.color+"15"},{cursor:"pointer",display:"flex","align-items":"center","user-select":"none"}]),onClick:i=>Lo(n.title)},[s("span",nl,v(n.title),1),s("button",{class:"stage-source-btn",onClick:b(i=>Po(n),["stop"]),title:rt(n)?"éšè—æœ¬é˜¶æ®µå‡ºå¤„":"æ˜¾ç¤ºæœ¬é˜¶æ®µå‡ºå¤„",style:Q({color:rt(n)?n.color:"#9ca3af",opacity:rt(n)?1:.5})},[(r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:rt(n)?"currentColor":"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},rl,8,al))],12,ll),ul,s("button",{class:"collapse-btn",style:Q({color:n.color,borderColor:n.color})},v(Ct[n.title]?"ğŸ”½ å±•å¼€":"ğŸ”¼ æ”¶èµ·"),5)],12,ol)):f("",!0),S(s("div",null,[(r(!0),c(q,null,me(n.list,i=>(r(),c("div",{key:i.en+"_"+ns.value,class:y(["grid-layout row-item",{"mastered-row":i._isMastered&&!i._isKilled&&!g.value,"killed-row":i._isKilled&&!g.value}]),id:"word-row-"+i.en.replace(/\s+/g,"_")},[s("div",vl,v(g.value?i.id:i._id),1),s("div",hl,[s("div",pl,[x.value?(r(),c("div",Wl,[s("span",{class:y(["speaker",{playing:R.value===i.en}]),onClick:b(_=>ot(i.en),["stop"])},v(R.value===i.en?"â¸ï¸":"ğŸ”Š"),11,Bl),s("div",Ul,[s("input",{type:"text",class:y(["dictation-input",[We[i.en],{"mastered-input":i._isMastered&&!g.value}]]),placeholder:"è¾“å…¥...",onChange:_=>uo(i,_),onInput:_=>We[i.en]="",onFocus:_=>co(i.en),onKeydown:[t[15]||(t[15]=ye(b(()=>{},["stop"]),["space"])),ye(b(ls,["prevent"]),["tab"]),ye(b(ls,["prevent"]),["enter"])],autocomplete:"off"},null,42,Rl),We[i.en]==="error"?(r(),c("div",Gl,"âŒ "+v(i.en),1)):f("",!0),ae.has(i.en)?(r(),c("div",Hl,"ğŸ‘€ "+v(i.en),1)):f("",!0)]),s("button",{class:"peek-btn",onClick:b(_=>js(i.en),["stop"]),title:ae.has(i.en)?"éšè—ç­”æ¡ˆ":"å·çœ‹ç­”æ¡ˆ"},v(ae.has(i.en)?"ğŸ™ˆ":"ğŸ‘ï¸"),9,Vl)])):(r(),c("div",fl,[s("div",gl,[s("span",{class:"en-text",onClick:b(_=>ot(i.en),["stop"])},v(i.en),9,_l),Mt(i.en)&&!g.value?(r(),c("span",{key:0,class:"review-stage-tag",style:Q({backgroundColor:os[Mt(i.en)-1]}),title:"å½“å‰å¤„äºå¤ä¹ é˜¶æ®µ "+Mt(i.en)},v(Mt(i.en)),13,ml)):f("",!0),s("span",{class:y(["speaker",{playing:R.value===i.en&&!ke.value,loading:R.value===i.en&&ke.value}]),onClick:b(_=>ot(i.en),["stop"])},[R.value===i.en&&ke.value?(r(),c(q,{key:0},[M("â³")],64)):R.value===i.en?(r(),c(q,{key:1},[M("â¸ï¸")],64)):(r(),c(q,{key:2},[M("ğŸ”Š")],64))],10,yl),_e(Ze).includes(i.en)?(r(),c("span",{key:1,onClick:b(_=>e.removeAudioTag(i.en),["stop"]),title:"è¯¥è¯æ›¾ä¾èµ–å¬éŸ³å›å¿† (å¬è§‰å°è®°)",style:{"font-size":"14px","margin-left":"6px",cursor:"help"}}," ğŸ‘‚ ",8,bl)):f("",!0),i.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:2,class:"copy-btn",onClick:b(_=>ho(i.en),["stop"]),title:"ç‚¹å‡»å¤åˆ¶"},"ğŸ“‹",8,kl)):f("",!0),g.value&&i.notation==="æˆ‘çš„ç”Ÿè¯æœ¬"?(r(),c("button",{key:3,class:"copy-btn edit-btn",onClick:b(_=>_o(i),["stop"]),title:"ä¿®æ”¹å•è¯/é‡Šä¹‰"},"âœ",8,xl)):f("",!0),g.value&&!Me.value&&i.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:4,class:"copy-btn location-btn",onClick:b(_=>Qs(i.en),["stop"]),title:F.has(i.en)?"éšè—å‡ºå¤„":"æŸ¥çœ‹å‡ºå¤„",style:Q({color:F.has(i.en)?"#3b82f6":"",opacity:F.has(i.en)?"1":""})},[F.has(i.en)?(r(),c("svg",Cl,Il)):(r(),c("svg",Ml,zl))],12,wl)):f("",!0)]),Me.value||F.has(i.en)?(r(),c("div",El,[s("a",{href:Kt(i),class:"word-source-row clickable-source",onClick:b(_=>Es(i),["prevent"]),title:"ç‚¹å‡»åœ¨å½“å‰é¡µè·³è½¬"}," ğŸ“ "+v(i.source),9,Dl),s("a",{href:Kt(i),class:"word-source-row icon-only",target:"_blank",title:"æ–°æ ‡ç­¾é¡µæ‰“å¼€å¹¶è‡ªåŠ¨åˆ‡æ¢ ğŸš€"}," ğŸš€ ",8,Ll)])):f("",!0),g.value&&i._review?(r(),c("div",Pl,[i._review.time<Date.now()?(r(),c("span",Nl,"å¾…å¤ä¹ ")):(r(),c("span",Ol,v(Math.round((i._review.time-Date.now())/6e4))+"m",1))])):f("",!0)]))]),s("div",jl,v(i.pos),1),s("button",{class:"mobile-only mobile-kill",onClick:_=>ds(i.en),style:Q(x.value?{top:"auto",bottom:"10px",right:"10px",background:"#fff",border:"1px solid #eee",borderRadius:"50%",width:"30px",height:"30px"}:{})},v(i._isKilled?"â†º":"âœ•"),13,Fl)]),s("div",Kl,v(i.pos),1),s("div",{class:y(["col-zh",{"interactive-zh":x.value}]),onClick:_=>x.value?Fs(i.en):null},[s("div",{class:y(["zh-text",{"blur-zh":x.value&&!L.has(i.en)&&i.pos!=="è‡ªé€‰"}])},v(i.zh),3),i.notation&&!x.value?(r(),c("div",ql,v(i.notation),1)):f("",!0)],10,Jl),x.value?f("",!0):(r(),c("div",Zl,[s("div",Xl,[s("span",null,v(i.example),1),i.example?(r(),c("span",{key:0,class:"speaker-small",onClick:b(_=>ro(i.example),["stop"]),title:"è¯»ä¾‹å¥"},"ğŸ”‰",8,Yl)):f("",!0)])])),x.value?f("",!0):(r(),c("div",Ql,v(i.notation||""),1)),s("div",ea,[s("button",{class:"kill-btn",onClick:_=>ds(i.en),title:i._isKilled?"æ¢å¤/æ’¤é”€æ–©æ€":"æ–©æ€/å½’æ¡£",style:Q({color:i._isKilled?"#a855f7":""})},v(i._isKilled?"â†º":"âœ•"),13,ta)])],10,dl))),128))],512),[[Oe,!Ct[n.title]]])],4))),128)),!g.value&&Re.value.length>1?(r(),c("div",sa,[s("button",{class:"page-btn big-btn",disabled:N.value===0,onClick:t[16]||(t[16]=n=>$s(-1))},"â¬…ï¸ ä¸Šä¸€é¡µ",8,oa),s("div",na,[s("span",la,v(N.value+1)+" / "+v(Re.value.length),1),s("button",{class:y(["finish-btn",{done:Os.value}]),onClick:Jo,title:"æ ‡è®°æœ¬é¡µä¸ºå·²å®Œæˆ"},v(Os.value?"âœ… å·²å®Œæˆ":"â­• æ ‡è®°å®Œæˆ"),3)]),s("button",{class:"page-btn big-btn",disabled:N.value===Re.value.length-1,onClick:t[17]||(t[17]=n=>$s(1))},"ä¸‹ä¸€é¡µ â¡ï¸",8,aa)])):f("",!0),ia]),Ae.value?(r(),c("div",{key:2,class:"scratchpad-window",style:Q({left:bt.value+"px",top:Bt.value+"px"})},[s("div",{class:"pad-header",onMousedown:ko},[ca,s("button",{class:"pad-close",onClick:ws},"âœ•")],32),s("canvas",{ref_key:"canvasRef",ref:re,class:"pad-canvas",style:{"touch-action":"none",display:"block"},onPointerdown:yo,onPointermove:bo,onPointerup:bs,onPointerleave:bs,onDblclick:Ht},null,544),s("div",{class:"pad-footer"},[ra,s("button",{class:"pad-btn-clear",onClick:Ht},"ğŸ—‘ï¸ (Space)")])],4)):f("",!0),S(s("div",{class:y(["floating-action-group",{"pos-left":Oo.value}])},[Rs(Hs,{name:"fade-slide"},{default:Gs(()=>[!g.value&&Ts.value?(r(),c("button",{key:0,onClick:Ds,class:"floating-btn copy-page-btn mobile-only",title:"ä¸€é”®å¤åˆ¶æœ¬é¡µå•è¯"},"ğŸ“‹")):f("",!0)]),_:1}),g.value?(r(),c("button",{key:0,onClick:ft,class:"floating-btn refresh-btn",title:"åˆ·æ–°æ•°æ®"},"ğŸ”„")):f("",!0),x.value?(r(),c("button",{key:1,onClick:lo,class:"floating-btn exit-btn",title:"ä¸€é”®é€€å‡ºå¬å†™åŠæ±‰è¯­é‡Šä¹‰"},"ğŸšª")):f("",!0),g.value?f("",!0):S((r(),c("button",{key:2,onClick:Ks,class:y(["floating-btn story-btn",{"is-empty":!is.value}]),title:is.value?"é˜…è¯»æœ¬é¡µæ–‡ç« ":"ç‚¹å‡»åˆ›å»ºæ–‡ç« "}," ğŸ“œ ",10,ua)),[[Oe,Tt.value]]),S(s("button",{onClick:go,class:"floating-btn add-btn",title:"æ‰‹åŠ¨åŠ å…¥ç”Ÿè¯"},"â•",512),[[Oe,Tt.value]]),S(s("button",{onClick:zo,class:"floating-btn search-btn",title:"æœç´¢å•è¯/è¯æ ¹"},"ğŸ”",512),[[Oe,Tt.value]]),S(s("button",{onClick:Ao,class:"floating-btn top-btn",title:"å›åˆ°é¡¶éƒ¨"},va,512),[[Oe,Ms.value]]),S(s("div",ha,[s("button",{onClick:Ho,class:y(["floating-btn sync-btn main-cloud-trigger",{active:Ce.value}]),title:"äº‘åŒæ­¥èœå•"},[De.value?(r(),c("svg",pa,ga)):(r(),c("svg",_a,ba))],2),Rs(Hs,{name:"cloud-pop"},{default:Gs(()=>[Ce.value?(r(),c("div",ka,[s("div",{class:y(["sync-dashboard",{"has-update":Ne.value}])},[s("div",xa,[wa,Qt.value?(r(),c("span",Ca,[Sa,M(" æ£€æµ‹ä¸­... ")])):f("",!0)]),s("div",$a,[s("div",Ia,[Ma,s("div",Ta,v(_e(Le)||"--/-- --:--"),1)]),s("div",Aa,[Ne.value?(r(),c("div",za,"â¬…ï¸")):(r(),c("div",Ea,"â˜ï¸"))]),s("div",{class:y(["dash-item cloud",{highlight:Ne.value}])},[Da,s("div",La,v(Pe.value||"å¾…æ£€æµ‹"),1)],2)]),Ne.value?(r(),c("div",Pa,"âœ¨ äº‘ç«¯æœ‰æ–°è¿›åº¦ï¼Œå»ºè®®ä¸‹è½½")):Pe.value?(r(),c("div",Na,"âœ… å½“å‰å·²æ˜¯æœ€æ–°")):f("",!0)],2),s("button",{onClick:jo,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:"ä¸Šä¼ è¿›åº¦åˆ°äº‘ç«¯",disabled:De.value},Ba,8,Oa),s("button",{onClick:Fo,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:Yt.value?"æœ¬åœ°å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ (æ— éœ€ä¸‹è½½)":"ä»äº‘ç«¯ä¸‹è½½è¿›åº¦",disabled:Yt.value,style:Q(Yt.value?{opacity:.3,cursor:"not-allowed",filter:"grayscale(1)"}:{})},Ga,12,Ua),s("button",{onClick:t[18]||(t[18]=n=>ut.value=!0),class:"floating-btn sync-btn sub-btn",title:"é…ç½®äº‘åŒæ­¥",style:{"font-size":"20px"}},"âš™ï¸")])):f("",!0)]),_:1})],512),[[Oe,Tt.value]])],2),[[Oe,Ko.value]]),Te.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[21]||(t[21]=b(n=>Te.value=!1,["self"]))},[s("div",Ha,[Va,s("div",ja,[S(s("input",{id:"custom-word-input",type:"text","onUpdate:modelValue":t[19]||(t[19]=n=>gt.value=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥å•è¯...",onKeydown:ye(ps,["enter"]),autocomplete:"off"},null,40,Fa),[[le,gt.value]])]),s("div",Ka,[s("button",{onClick:t[20]||(t[20]=n=>Te.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:ps,class:"modal-btn",style:{background:"#2563eb",color:"white"}},"ç¡®å®š")])])])):f("",!0),Ge.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[24]||(t[24]=b(n=>Ge.value=!1,["self"]))},[s("div",Ja,[qa,s("p",Za,[M(' è¯åº“ä¸­æœªæ‰¾åˆ° "'),s("strong",null,v(mt.value),1),M('"ï¼Œè¯·å¡«å†™ä¸­æ–‡æ„æ€ï¼š ')]),s("div",Xa,[S(s("input",{id:"custom-meaning-input",type:"text","onUpdate:modelValue":t[22]||(t[22]=n=>_t.value=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šå¼€é˜”çœ¼ç•Œ...",onKeydown:ye(fs,["enter"]),autocomplete:"off"},null,40,Ya),[[le,_t.value]])]),s("div",Qa,[s("button",{onClick:t[23]||(t[23]=n=>Ge.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:fs,class:"modal-btn",style:{background:"#10b981",color:"white"}},"ä¿å­˜å¹¶æ·»åŠ ")])])])):f("",!0),Ot.value?(r(),c("div",ei,[s("div",ti,[si,s("h3",oi,v(vs.value),1)])])):f("",!0)]),lt.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:t[28]||(t[28]=b(n=>lt.value=!1,["self"]))},[s("div",ni,[li,s("div",ai,[ii,S(s("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=n=>ce.newWord=n),class:"modal-input-field"},null,512),[[le,ce.newWord]])]),s("div",ci,[ri,S(s("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=n=>ce.newZh=n),class:"modal-input-field"},null,512),[[le,ce.newZh]])]),s("div",ui,[s("button",{onClick:t[27]||(t[27]=n=>lt.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:mo,class:"modal-btn",style:{background:"#3b82f6",color:"white"}},"ä¿å­˜ä¿®æ”¹")])])])):f("",!0),He.value?(r(),c("div",{key:1,class:"modal-overlay",onClick:t[32]||(t[32]=b(n=>He.value=!1,["self"]))},[s("div",di,[s("div",vi,[hi,s("div",pi,[s("button",{class:y({active:Ve.value==="week"}),onClick:t[29]||(t[29]=n=>Ve.value="week")},"è¿‘7å¤©",2),s("button",{class:y({active:Ve.value==="month"}),onClick:t[30]||(t[30]=n=>Ve.value="month")},"è¿‘30å¤©",2)])]),s("div",fi,[s("div",gi,[s("div",_i,v(Math.round((((o=_e(G)[nt()])==null?void 0:o.duration)||0)/60)),1),mi]),s("div",yi,[s("div",bi,v(((l=_e(G)[nt()])==null?void 0:l.learn)||0),1),ki]),s("div",xi,[s("div",wi,v(((a=_e(G)[nt()])==null?void 0:a.review)||0),1),Ci]),s("div",Si,[s("div",$i,v(((u=_e(G)[nt()])==null?void 0:u.kill)||0),1),Ii])]),s("div",Mi,[s("canvas",{ref_key:"statsChartCanvas",ref:Wt},null,512)]),s("button",{class:"modal-close",onClick:t[31]||(t[31]=n=>He.value=!1),style:{"margin-top":"15px"}},"å…³é—­")])])):f("",!0),Je.value?(r(),c("div",{key:2,class:"modal-overlay",onClick:t[38]||(t[38]=b(n=>Je.value=!1,["self"]))},[s("div",Ti,[s("div",Ai,[S(s("input",{id:"global-search-input",type:"text","onUpdate:modelValue":t[33]||(t[33]=n=>qe.value=n),onInput:Eo,onKeydown:[ye(b(Do,["prevent"]),["enter"]),t[34]||(t[34]=ye(n=>Je.value=!1,["esc"])),t[35]||(t[35]=ye(b(n=>zs(-1),["prevent"]),["up"])),t[36]||(t[36]=ye(b(n=>zs(1),["prevent"]),["down"]))],placeholder:"è¾“å…¥è¯æ ¹ (æ”¯æŒé”®ç›˜ â†‘â†“ é€‰æ‹©)...",class:"modal-input-field search-input",autocomplete:"off"},null,40,zi),[[le,qe.value]]),s("button",{class:"modal-close-icon static-pos",onClick:t[37]||(t[37]=n=>Je.value=!1)},"âœ•")]),s("div",Ei,[qe.value?se.value.length===0?(r(),c("div",Li,"æœªæ‰¾åˆ°åŒ¹é…å•è¯")):(r(!0),c(q,{key:2},me(se.value,(n,d)=>(r(),c("div",{key:n.en,class:y(["search-item",{"clickable-item":!n.isCustom,selected:d===pe.value}]),onClick:i=>ct(n),onMouseenter:i=>pe.value=d},[s("div",Ni,[s("div",Oi,[M(v(n.en)+" ",1),s("span",{class:"speaker-small",onClick:b(i=>ot(n.en),["stop"])},"ğŸ”Š",8,Wi)]),s("div",Bi,v(n.zh),1)]),s("div",Ui,[s("span",Ri,v(n.source),1)])],42,Pi))),128)):(r(),c("div",Di,"è¾“å…¥å­—æ¯æŸ¥æ‰¾åŒ…å«è¯¥è¯æ ¹çš„å•è¯"))])])])):f("",!0),St.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[45]||(t[45]=b(n=>St.value=!1,["self"]))},[s("div",Gi,[s("div",Hi,[s("h3",Vi,v(oe.value?"âœï¸ ç¼–è¾‘è¾¨æç¬”è®°":"ğŸ“– è¯ä¹‰è¾¨æ"),1),s("div",ji,[oe.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[40]||(t[40]=n=>oe.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[39]||(t[39]=n=>oe.value=!0),title:"ç¼–è¾‘"}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[41]||(t[41]=n=>St.value=!1)},"âœ•")])]),s("div",Fi,[s("div",Ki,[Ji,s("div",qi,[(r(!0),c(q,null,me(H.value,(n,d)=>(r(),c("div",{key:d,class:y(["sidebar-item",{active:Ee.value===d}]),onClick:i=>Ps(d)},[s("span",Xi,v(n.content?"ğŸ“":"âšª"),1),s("span",Yi,v(n.title||"æ— æ ‡é¢˜"),1)],10,Zi))),128))]),s("button",{class:"sidebar-add-btn",onClick:Wo}," + æ–°å¢åˆ†ç»„ ")]),s("div",Qi,[oe.value?(r(),c("div",ic,[s("div",cc,[rc,S(s("input",{type:"text","onUpdate:modelValue":t[42]||(t[42]=n=>we.value.title=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šmerchant vs businessman...",style:{"font-weight":"bold"}},null,512),[[le,we.value.title]])]),s("div",uc,[s("div",dc,[s("div",{class:"editor-toolbar"},[vc,s("button",{class:"tiny-btn delete-btn",onClick:Bo},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç»„")]),S(s("textarea",{"onUpdate:modelValue":t[43]||(t[43]=n=>we.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0","line-height":"1.6"},placeholder:"åœ¨æ­¤è®°å½•è¯¦ç»†è¾¨æ..."},null,512),[[le,we.value.content]])]),s("div",hc,[pc,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:$t(we.value.content)},null,8,fc)])])])):(r(),c("div",ec,[s("h2",tc,v(we.value.title),1),we.value.content?(r(),c("div",{key:0,innerHTML:$t(we.value.content)},null,8,sc)):(r(),c("div",oc,ac))]))])]),oe.value?(r(),c("div",gc,[s("button",{onClick:t[44]||(t[44]=n=>oe.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Uo,class:"modal-btn",style:{background:"#8b5cf6",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),vt.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[52]||(t[52]=b(n=>vt.value=!1,["self"]))},[s("div",_c,[s("div",mc,[s("h3",yc,v(te.value?"âœï¸ ç¼–è¾‘æ¨¡å¼":"ğŸ“œ æœ¬é¡µåŠ©è®°æ–‡ç«  (Part "+(N.value+1)+")"),1),s("div",bc,[te.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[47]||(t[47]=n=>te.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[46]||(t[46]=n=>te.value=!0),title:"ç¼–è¾‘å½“å‰æ–‡ç« "}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[48]||(t[48]=n=>vt.value=!1)},"âœ•")])]),s("div",kc,[s("div",xc,[wc,s("div",Cc,[(r(!0),c(q,null,me(U.value,(n,d)=>(r(),c("div",{key:d,class:y(["sidebar-item",{active:Ie.value===d}]),onClick:i=>as(d)},[$c,s("span",Ic,v(n.title||"æ— æ ‡é¢˜æ–‡ç« "),1)],10,Sc))),128))]),s("button",{class:"sidebar-add-btn",onClick:Js}," + æ–°å¢æ–‡ç«  ")]),s("div",Mc,[te.value?(r(),c("div",Nc,[s("div",Oc,[S(s("input",{type:"text","onUpdate:modelValue":t[49]||(t[49]=n=>be.value.title=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜...",style:{"font-weight":"bold"}},null,512),[[le,be.value.title]])]),s("div",Wc,[s("div",Bc,[s("div",{class:"editor-toolbar"},[Uc,s("button",{class:"tiny-btn",onClick:Xs},"ğŸ¤– å¤åˆ¶ AI Prompt"),s("button",{class:"tiny-btn delete-btn",onClick:qs},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç¯‡")]),S(s("textarea",{"onUpdate:modelValue":t[50]||(t[50]=n=>be.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0"},placeholder:"åœ¨æ­¤ç²˜è´´æ•…äº‹å†…å®¹..."},null,512),[[le,be.value.content]])]),s("div",Rc,[Gc,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:$t(be.value.content)},null,8,Hc)])])])):(r(),c("div",Tc,[s("h1",Ac,v(be.value.title),1),be.value.content?(r(),c("div",{key:0,innerHTML:$t(be.value.content)},null,8,zc)):(r(),c("div",Ec,Pc))]))])]),te.value?(r(),c("div",Vc,[s("button",{onClick:t[51]||(t[51]=n=>te.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Zs,class:"modal-btn",style:{background:"#f59e0b",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),ut.value?(r(),c("div",{key:5,class:"modal-overlay",onClick:t[56]||(t[56]=b(n=>ut.value=!1,["self"]))},[s("div",jc,[Fc,Kc,s("div",Jc,[qc,S(s("input",{type:"password","onUpdate:modelValue":t[53]||(t[53]=n=>O.token=n),class:"modal-input-field",placeholder:"ghp_xxxxxxxxxxxx..."},null,512),[[le,O.token]])]),s("div",Zc,[Xc,S(s("input",{type:"text","onUpdate:modelValue":t[54]||(t[54]=n=>O.gistId=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚: e5a3c..."},null,512),[[le,O.gistId]])]),s("div",Yc,[s("button",{onClick:t[55]||(t[55]=n=>ut.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Vo,class:"modal-btn",style:{background:"#a855f7",color:"white"}},"ğŸ’¾ ä¿å­˜é…ç½®")]),Qc])])):f("",!0),at.value?(r(),c("div",{key:6,class:"modal-overlay",onClick:t[62]||(t[62]=b(n=>at.value=!1,["self"]))},[s("div",er,[s("div",tr,[s("div",sr,[s("h3",or,v(X.value?"ğŸ† è£èª‰æ®¿å ‚":"ğŸ“‰ æ˜“é”™æ”»åšæ¦œ"),1)]),s("div",nr,[s("div",lr,[s("button",{class:y(["pill-btn",{active:!X.value}]),onClick:t[57]||(t[57]=n=>{X.value=!1,he.value=1}),title:"æ˜¾ç¤ºè¿˜åœ¨èƒŒè¯µé˜Ÿåˆ—ä¸­çš„é”™è¯"}," æ­£åœ¨æ”»åš ",2),s("button",{class:y(["pill-btn",{active:X.value}]),onClick:t[58]||(t[58]=n=>{X.value=!0,he.value=1}),title:"æ˜¾ç¤ºå·²æ–©æ€/å·²æŒæ¡çš„å†å²é”™è¯"}," å·²æ”»å…‹ ",2)]),s("button",{class:"modal-close-icon static-pos",onClick:t[59]||(t[59]=n=>at.value=!1)},"âœ•")])]),s("div",ar,[s("table",ir,[cr,s("tbody",null,[(r(!0),c(q,null,me(xo.value,n=>(r(),c("tr",{key:n.en,class:y({"conquered-tr":X.value})},[s("td",null,[s("div",{class:y(["mistake-word",{"is-conquered":X.value}])},v(n.en),3),s("div",rr,v(n.zh),1)]),s("td",ur,[s("span",{class:y(["count-badge",{"purple-badge":X.value}])},v(n.count),3)]),s("td",dr,[s("button",{class:"jump-link-btn",onClick:d=>Co(n)}," è·³è½¬ ğŸš€ ",8,vr)])],2))),128)),Vt.value.length===0?(r(),c("tr",hr,[s("td",pr,[s("div",fr,v(X.value?"ğŸº":"ğŸ‰"),1),X.value?(r(),c("div",yr,[M(" ç©ºç©ºå¦‚ä¹Ÿ"),br,kr])):(r(),c("div",gr,[M(" å¤ªæ£’äº†ï¼å½“å‰é˜Ÿåˆ—ä¸­æš‚æ— æ˜“é”™è¯"),_r,mr]))])])):f("",!0)])])]),s("div",xr,[s("button",{class:"page-nav-btn",disabled:he.value===1,onClick:t[60]||(t[60]=n=>he.value--)},"ä¸Šä¸€é¡µ",8,wr),s("span",Cr,v(he.value)+" / "+v(Ss.value),1),s("button",{class:"page-nav-btn",disabled:he.value>=Ss.value,onClick:t[61]||(t[61]=n=>he.value++)},"ä¸‹ä¸€é¡µ",8,Sr)])])])):f("",!0)],64)}}},Er=qo(Mr,[["__scopeId","data-v-e1c9488a"]]);export{Er as default};
