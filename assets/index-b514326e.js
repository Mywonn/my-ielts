import{_ as Ys,d as h,e as re,f as K,w as ue,g as qs,h as St,c,a as s,n as S,i as Z,u as de,j as p,k as U,v as Qs,t as v,l as $t,m as qt,F as ve,r as ke,p as m,q as se,s as le,x as pe,y as it,o as r,z as en,A as tn,B as sn,C as nn}from"./index-bced02b2.js";import x from"./vocabulary-9de5e70b.js";const _=Fe=>(tn("data-v-39ef71d4"),Fe=Fe(),sn(),Fe),on={class:"app-root"},ln={class:"tools-bar sticky-toolbar"},an={class:"bar-inner"},cn={class:"left-tools"},rn={class:"mode-switch"},un={key:0,class:"dot"},dn={class:"toggle-label"},vn=["title"],pn={class:"middle-tools"},hn={key:0,class:"selectors"},fn=["value"],_n=["value"],yn={key:0,title:"å…¨ä¹¦æ€»è¯æ±‡é‡"},gn={class:"s-learn",title:"å¤ä¹ é˜Ÿåˆ—ä¸­"},mn={class:"s-done",title:"å·²æ–©æ€+å·²é€šå…³"},bn={class:"s-new",title:"å‰©ä½™å•è¯"},kn={class:"right-tools"},xn=["value"],Cn={key:1,class:"pomo-time"},wn=["onClick"],Sn={class:"modal-box"},$n={class:"modal-icon"},In={class:"modal-title"},Mn={key:0,class:"modal-actions"},En={key:1,class:"modal-actions"},An={key:1,class:"header-table-row desktop-only"},Dn={class:"grid-layout"},Tn=_(()=>s("div",{class:"col-idx text-center"},"#",-1)),Ln={class:"col-word header-word-col"},zn=["title"],Pn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},On=_(()=>s("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1)),Wn=_(()=>s("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)),Nn=[On,Wn],Rn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Un=_(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Bn=_(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Kn=[Un,Bn],Vn=_(()=>s("div",{class:"col-pos text-center"},"è¯æ€§",-1)),Fn={class:"col-zh header-zh-col"},Jn=["title"],jn={key:0,class:"col-ex"},Gn={key:1,class:"col-note"},Hn=_(()=>s("div",{class:"col-del text-center"},"åˆ ",-1)),Xn={class:"content-container"},Zn={key:0,class:"empty-tip"},Yn=["onClick"],qn=_(()=>s("span",{style:{"font-weight":"800","margin-right":"4px"}},"P.",-1)),Qn={key:1,class:"note-placeholder",style:{color:"#9ca3af"}},eo={class:"group-actions"},to=["onClick"],so=["onClick"],no=["onClick"],oo={style:{"font-weight":"bold","margin-right":"10px"}},lo=["onClick","title"],ao=["fill"],io=_(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),co=_(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),ro=[io,co],uo=_(()=>s("div",{style:{flex:"1"}},null,-1)),vo=["id"],po={class:"col-idx text-center index-num desktop-only"},ho={class:"col-word"},fo={class:"word-wrapper"},_o={key:0,class:"word-cell-container"},yo={class:"word-row-top"},go=["onClick"],mo=["onClick"],bo=["onClick"],ko=["onClick"],xo=["onClick"],Co=["onClick","title"],wo={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},So=_(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),$o=_(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Io=[So,$o],Mo={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Eo=_(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Ao=_(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Do=[Eo,Ao],To=["onClick"],Lo={key:1,class:"review-meta desktop-only"},zo={key:0,class:"tag-due"},Po={key:1,class:"tag-wait"},Oo={key:1,class:"input-cell"},Wo=["onClick"],No={class:"input-col"},Ro=["onChange","onInput","onFocus","onKeydown"],Uo={key:0,class:"error-hint"},Bo={key:1,class:"peek-hint"},Ko=["onClick","title"],Vo={class:"mobile-only mobile-pos"},Fo=["onClick"],Jo={class:"col-pos text-center italic desktop-only"},jo=["onClick"],Go={key:0,class:"mobile-only mobile-notation"},Ho={key:0,class:"col-ex example-cell"},Xo={class:"ex-content"},Zo=["onClick"],Yo={key:1,class:"col-note notation-cell desktop-only"},qo={class:"col-del text-center desktop-only"},Qo=["onClick","title"],el={key:1,class:"pagination-area"},tl=["disabled"],sl={class:"finish-control"},nl={class:"page-info"},ol=["disabled"],ll=_(()=>s("div",{style:{height:"40px"}},null,-1)),al=_(()=>s("span",{class:"pad-title"},":: æ‹–æ‹½ ::",-1)),il=_(()=>s("span",{class:"hint-text"},"â†˜ï¸å³ä¸‹è§’æ‹–åŠ¨è°ƒæ•´å¤§å°",-1)),cl={class:"modal-box",style:{"max-width":"360px"}},rl=_(()=>s("h3",{class:"modal-title"},"âœï¸ æ·»åŠ æ–°è¯",-1)),ul={style:{margin:"20px 0"}},dl=["onKeydown"],vl={class:"modal-actions"},pl={class:"modal-box",style:{"max-width":"360px"}},hl=_(()=>s("h3",{class:"modal-title"},"ğŸ“– è¡¥å……é‡Šä¹‰",-1)),fl={style:{color:"#666","font-size":"14px","margin-bottom":"10px"}},_l={style:{margin:"15px 0"}},yl=["onKeydown"],gl={class:"modal-actions"},ml={key:5,class:"modal-overlay",style:{background:"rgba(0,0,0,0.3)","z-index":"3000"}},bl={class:"modal-box",style:{"max-width":"300px",padding:"30px 20px"}},kl=_(()=>s("div",{style:{"font-size":"40px","margin-bottom":"10px"}},"ğŸ‰",-1)),xl={style:{margin:"0",color:"#374151"}},Cl={class:"modal-box",style:{"max-width":"360px","text-align":"left"}},wl=_(()=>s("h3",{class:"modal-title",style:{"text-align":"center"}},"ğŸ› ï¸ ä¿®æ”¹å•è¯",-1)),Sl={style:{"margin-bottom":"15px"}},$l=_(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"è‹±æ–‡æ‹¼å†™",-1)),Il={style:{"margin-bottom":"20px"}},Ml=_(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"ä¸­æ–‡é‡Šä¹‰",-1)),El={class:"modal-actions"},Al={class:"modal-box stats-box"},Dl={class:"stats-header"},Tl=_(()=>s("h3",null,"ğŸ“ˆ å­¦ä¹ æ•°æ®çœ‹æ¿",-1)),Ll={class:"stats-switcher"},zl={class:"stats-summary"},Pl={class:"summary-item"},Ol={class:"num"},Wl=_(()=>s("div",{class:"label"},"ä¸“æ³¨(åˆ†)",-1)),Nl={class:"summary-item"},Rl={class:"num",style:{color:"#10b981"}},Ul=_(()=>s("div",{class:"label"},"ä»Šæ—¥å­¦ä¹ ",-1)),Bl={class:"summary-item"},Kl={class:"num",style:{color:"#3b82f6"}},Vl=_(()=>s("div",{class:"label"},"ä»Šæ—¥å¤ä¹ ",-1)),Fl={class:"summary-item"},Jl={class:"num",style:{color:"#ef4444"}},jl=_(()=>s("div",{class:"label"},"ä»Šæ—¥æ–©æ€",-1)),Gl={class:"chart-container"},Hl={class:"modal-box search-box-modal"},Xl={class:"search-header"},Zl=["onKeydown"],Yl={class:"search-results-list"},ql={key:0,class:"empty-tip-text"},Ql={key:1,class:"empty-tip-text"},ea=["onClick","onMouseenter"],ta={class:"si-left"},sa={class:"si-en"},na=["onClick"],oa={class:"si-zh"},la={class:"si-right"},aa={class:"si-source"},ia={class:"modal-box",style:{"max-width":"600px","text-align":"left",height:"80vh",display:"flex","flex-direction":"column"}},ca=_(()=>s("h3",{class:"modal-title"},"ğŸ“ åˆ†ç»„è¾¨æç¬”è®°",-1)),ra={style:{"margin-bottom":"10px"}},ua=_(()=>s("label",{style:{"font-size":"12px",color:"#666","font-weight":"bold"}},"æ ‡é¢˜ (æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸Šæ–¹)",-1)),da={style:{flex:"1",display:"flex","flex-direction":"column","margin-bottom":"15px","min-height":"0"}},va=_(()=>s("label",{style:{"font-size":"12px",color:"#666","font-weight":"bold","margin-bottom":"5px"}},"è¯¦ç»†å†…å®¹ (æ”¯æŒæ¢è¡Œ/ç®€å•Markdown)",-1)),pa={class:"modal-actions"},ha={class:"modal-box read-card-modal"},fa={class:"read-header"},_a={class:"read-title"},ya={class:"read-actions"},ga=["innerHTML"],ma={class:"modal-box read-card-modal",style:{height:"85vh",display:"flex","flex-direction":"column",padding:"0"}},ba={class:"read-header"},ka={class:"read-title"},xa={class:"read-actions"},Ca={style:{flex:"1",display:"flex",overflow:"hidden"}},wa={class:"story-sidebar"},Sa=_(()=>s("div",{class:"sidebar-header"},"æ–‡ç« åˆ—è¡¨",-1)),$a={class:"sidebar-list"},Ia=["onClick"],Ma=_(()=>s("span",{class:"item-icon"},"ğŸ“„",-1)),Ea={class:"item-title"},Aa={class:"story-content-area"},Da={key:0,class:"markdown-body story-reader"},Ta={class:"story-page-title"},La=["innerHTML"],za={key:1,class:"empty-story-tip"},Pa=_(()=>s("div",{style:{"font-size":"40px"}},"ğŸ“",-1)),Oa=_(()=>s("div",null,[Z("æœ¬ç¯‡æ–‡ç« æš‚æ— å†…å®¹"),s("br"),Z("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),Z(" å¼€å§‹å†™ä½œ")],-1)),Wa=[Pa,Oa],Na={key:1,class:"story-editor-layout"},Ra={style:{"margin-bottom":"10px"}},Ua={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},Ba={style:{flex:"1",display:"flex","flex-direction":"column"}},Ka=_(()=>s("span",null,"Markdown ç¼–è¾‘",-1)),Va={class:"desktop-only preview-pane"},Fa=_(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),Ja=["innerHTML"],ja={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},Ga="/my-ielts/timeout.mp3",Ha="/my-ielts/do.mp3",Xa={__name:"index",setup(Fe){const Qt=e=>{new Audio(e).play().catch(n=>console.log("äº¤äº’å—é™:",n))},It=["#ef4444","#3b82f6","#f59e0b","#8b5cf6","#10b981","#ec4899","#06b6d4","#f97316","#6366f1","#84cc16","#d946ef"],es=["#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6"],V=(e,t)=>{const n=h(t);return St(()=>{try{const l=localStorage.getItem(e);l&&(n.value=JSON.parse(l))}catch{}}),ue(n,l=>localStorage.setItem(e,JSON.stringify(l)),{deep:!0}),n},ct=x?Object.keys(x):[],w=V("my_ielts_chapter",ct[0]||""),g=V("my_ielts_review",[]),O=V("my_ielts_killed",[]),E=V("my_ielts_mastered",[]),he=V("my_ielts_completed_parts",{}),$=V("my_ielts_custom_dict",{}),Le=V("my_ielts_audio_peek_history",[]),Y=V("my_ielts_group_notes",{}),A=h(!1),f=h(!1),D=h(0),xe=re({}),Je=[5,30,720,1440,2880,5760],fe=h([]),I=re(new Set),ne=re(new Set),ts=e=>{ne.has(e)?ne.delete(e):ne.add(e)},ss=e=>{I.has(e)?I.delete(e):I.add(e)},Mt=e=>{const t=Array.from(document.querySelectorAll(".dictation-input")),n=t.indexOf(e.target);e.shiftKey?n>0&&(t[n-1].focus(),setTimeout(()=>t[n-1].select(),10)):n>-1&&n<t.length-1&&t[n+1].focus()},rt=V("my_ielts_page_stories",{}),je=h(!1),M=h([]),_e=h(0),F=h(!1),Et=()=>`${w.value}_Part${D.value}`,ns=()=>{const e=Et(),t=rt.value[e];t?t.content&&!Array.isArray(t)?M.value=[{title:"æ–‡ç«  1",content:t.content}]:Array.isArray(t)?M.value=JSON.parse(JSON.stringify(t)):M.value=[{title:"æ–‡ç«  1",content:""}]:M.value=[{title:"æ–‡ç«  1",content:""}],_e.value=0,F.value=!M.value[0].content,je.value=!0},At=e=>{_e.value=e,F.value=!M.value[e].content},os=()=>{const e=M.value.length;M.value.push({title:`æ–‡ç«  ${e+1}`,content:""}),At(e),F.value=!0},ls=()=>{if(M.value.length<=1){M.value[0].content="",M.value[0].title="æ–‡ç«  1",z("å·²æ¸…ç©ºå†…å®¹");return}confirm("ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿ")&&(M.value.splice(_e.value,1),_e.value>=M.value.length&&(_e.value=M.value.length-1))},as=()=>{const e=Et();rt.value={...rt.value,[e]:M.value},F.value=!1,z("æœ¬é¡µæ‰€æœ‰æ–‡ç« å·²ä¿å­˜ ğŸ’¾")},ae=K(()=>M.value[_e.value]||{title:"",content:""}),is=()=>{const e=[];if(ie.value.forEach(n=>{n.list&&n.list.forEach(l=>e.push(l.en))}),e.length===0)return;const t=`Please write a short, interesting story (about 150-200 words) using the following vocabulary. Highlight the vocabulary words in bold within the story.

Words: ${e.join(", ")}`;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{z("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")});else{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),z("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")}},ye=h(!1),W=re(new Set),cs=()=>{ye.value=!ye.value,ye.value||W.clear()},rs=e=>{W.has(e)?W.delete(e):W.add(e)};ue([w,D,f,A],()=>{I.clear(),ne.clear(),W.clear()}),ue([w,D,f,A],()=>{I.clear(),ne.clear()});const Ge=K(()=>{if(ie.value.length===0)return!1;const e=[];return ie.value.forEach(t=>t.list.forEach(n=>e.push(n.en))),e.length>0&&e.every(t=>I.has(t))}),Dt=()=>{const e=[];ie.value.forEach(n=>n.list.forEach(l=>e.push(l.en))),e.every(n=>I.has(n))?I.clear():e.forEach(n=>I.add(n))},ze=e=>e?Array.isArray(e)?ze(e[0]):String(e):"",He=e=>{if(!e)return"";if(Array.isArray(e)){const n=[];return e[4]&&typeof e[4]=="string"&&e[4]!=="-"&&n.push(e[4]),e[5]&&typeof e[5]=="string"&&e[5]!=="-"&&n.push(e[5]),n.join("; ")}if(e.notation)return e.notation;if(e.phrase)return e.phrase;if(e.phrases)return e.phrases;if(e.collocation)return e.collocation;if(e.collocations)return e.collocations;if(e.extend)return e.extend;if(e.extension)return e.extension;if(e.note)return e.note;if(e.usage)return e.usage;if(e.æ‹“å±•)return e.æ‹“å±•;if(e.æ­é…)return e.æ­é…;if(e.çŸ­è¯­)return e.çŸ­è¯­;const t=Object.keys(e);for(const n of t){const l=n.toLowerCase();if((l.includes("not")||l.includes("phr")||l.includes("coll")||l.includes("ext"))&&typeof e[n]=="string"&&l!=="pronunciation"&&l!=="uk_audio"&&l!=="us_audio")return e[n]}return""},ut=e=>{if($.value[e])return{en:e,zh:$.value[e].zh,pos:"è‡ªé€‰",example:"",notation:"æˆ‘çš„ç”Ÿè¯æœ¬",id:"â˜…",source:"ç”Ÿè¯æœ¬"};let t=0;for(const n in x){const l=x[n].words||x[n].list||[];let i=0,d=0;const o=35,u=45;for(let a=0;a<l.length;a++){const y=l[a];let L=0;for(const b of y)L++;const H=d+L;d>0&&(d>=o||H>u)&&(i++,d=0);for(const b of y){let k="",X="",R="",ce="",at="";Array.isArray(b)?(k=b[0],X=b[1]||"",R=b[2]||"",ce=b[3]||"",at=He(b)):(k=b.word||b.en,X=b.pos||"",R=b.meaning||b.trans||b.zh||"",ce=b.example||"",at=He(b));const Yt=ze(k);if(t++,Yt===e)return{en:Yt,zh:R,pos:X,example:ce,notation:at,id:t,source:`${n} Part ${i+1}`}}d+=L}}return{en:e,zh:"æœªæ‰¾åˆ°é‡Šä¹‰",pos:"",example:"",notation:"",id:"-",source:"æœªçŸ¥"}},us=K(()=>{let e=0;for(const t in x)(x[t].words||x[t].list||[]).forEach(l=>e+=l.length);return e}),Xe=K(()=>{const e=us.value,t=g.value.length,n=new Set([...O.value,...E.value]).size,l=Math.max(0,e-t-n);return{total:e,learning:t,learned:n,unlearned:l}}),ds=K(()=>{const e={};let t=0;for(const n of ct){e[n]=t;const l=x[n];(l.words||l.list||[]).forEach(d=>d.forEach(o=>{t++}))}return e}),vs=K(()=>{if(!w.value||!x[w.value])return[];const e=x[w.value].words||x[w.value].list||[];let t=[],n=ds.value[w.value]||0;return e.forEach((l,i)=>{const d=It[i%It.length];let o=[];l.forEach(u=>{let a="",y="",L="",H="",b="";Array.isArray(u)?(a=u[0],y=u[1]||"",L=u[2]||"",H=u[3]||"",b=He(u)):(a=u.word||u.en,y=u.pos||"",L=u.meaning||u.trans||u.zh||"",H=u.example||"",b=He(u));const k=ze(a);n++;const X=E.value.includes(k),R=O.value.includes(k);o.push({_id:n,en:k,zh:L,pos:y,example:H,notation:b,_color:d,_groupId:i,_isMastered:X,_isKilled:R})}),o.length>0&&t.push(o)}),t}),Ce=K(()=>{if(f.value)return[];const e=vs.value,t=35,n=45;let l=[],i=[],d=0;return e.forEach(o=>{const u=d+o.length;d>0&&(d>=t||u>n)&&(l.push(i),i=[],d=0),i.push(...o),d+=o.length}),i.length>0&&l.push(i),l}),ps=K(()=>f.value?["å…¨éƒ¨é”™é¢˜"]:Ce.value.map((e,t)=>{var o;if(!e||e.length===0)return`Part ${t+1}`;const n=e[0]._id,l=e[e.length-1]._id,i=e.length,d=(o=he.value[w.value])==null?void 0:o.includes(t);return`Part ${t+1} (${n}-${l}) ${i}ä¸ª ${d?"âœ”":""}`})),hs=e=>{const t=x[e];if(!t)return 0;const n=t.words||t.list||[],l=35,i=45;let d=0,o=0;return n.forEach(u=>{const a=u.length,y=o+a;o>0&&(o>=l||y>i)&&(d++,o=0),o+=a}),o>0&&d++,d},fs=K(()=>ct.map(e=>{const t=hs(e),l=(he.value[e]||[]).length,i=t>0&&l>=t;return{value:e,label:e,isDone:i}})),ie=K(()=>{if(f.value){const i=fe.value.length>0?fe.value:g.value,d={5:[],4:[],3:[],2:[],1:[],0:[]};i.forEach((a,y)=>{const L=a.stage>=6?5:a.stage||0;d[L]&&d[L].push({...ut(a.w),_review:a,_id:y+1})});const o=[],u=["é˜¶æ®µ 1 - æ–°æ‰‹/é‡æ¥ (5åˆ†é’Ÿ)","é˜¶æ®µ 2 - å…¥é—¨ (30åˆ†é’Ÿ)","é˜¶æ®µ 3 - ç†Ÿæ‚‰ (12å°æ—¶)","é˜¶æ®µ 4 - æŒæ¡ (1å¤©)","é˜¶æ®µ 5 - ç‰¢å›º (2å¤©)","é˜¶æ®µ 6 - å¤§å¸ˆ (4å¤©+)"];for(let a=5;a>=0;a--)d[a].length>0&&o.push({color:es[a],title:`ğŸ”¥ ${u[a]} [${d[a].length}ä¸ª]`,list:d[a]});return o}const e=Ce.value[D.value]||[];if(e.length===0)return[];let t=[],n=null,l=-999;return e.forEach(i=>{i._groupId!==l&&(n={color:i._color,list:[],groupId:i._groupId},t.push(n),l=i._groupId),n.list.push(i)}),t});function dt(){if(!f.value)return;const e=g.value.filter(t=>t.time<=Date.now());fe.value=JSON.parse(JSON.stringify(e));for(const t in xe)delete xe[t];I.clear(),ne.clear(),W.clear(),it(()=>{document.querySelectorAll(".dictation-input").forEach(n=>{n.value="",n.classList.remove("correct","error")})})}ue(f,e=>{if(e){const t=g.value.filter(n=>n.time<=Date.now());fe.value=JSON.parse(JSON.stringify(t))}else fe.value=[]},{immediate:!0}),ue(g,e=>{if(f.value&&fe.value.length===0){const t=e.filter(n=>n.time<=Date.now());fe.value=JSON.parse(JSON.stringify(t))}});let vt=!1;ue(w,()=>{vt||(D.value=0,f.value=!1)});const B=h(null),J=h(null),Pe=e=>{if(I.has(e)&&!Le.value.includes(e)&&Le.value.push(e),J.value===e){B.value&&(B.value.pause(),B.value.currentTime=0,B.value=null),window.speechSynthesis.cancel(),J.value=null;return}B.value&&(B.value.pause(),B.value=null),window.speechSynthesis.cancel();let t=w.value;if(f.value&&x){for(const l in x)if((x[l].words||x[l].list||[]).some(o=>o.some(u=>{const a=Array.isArray(u)?u[0]:u.word||u.en;return ze(a)===e}))){t=l;break}}const n=new Audio(`vocabulary/audio/${t}/${e}.mp3`);B.value=n,n.onended=()=>{J.value=null,B.value=null},n.onerror=()=>{B.value=null;const l=new SpeechSynthesisUtterance(e);l.lang="en-US",l.volume=1,l.rate=.85;const i=window.speechSynthesis.getVoices(),d=i.find(o=>o.name.includes("Google US"))||i.find(o=>o.lang.includes("en-US"));d&&(l.voice=d),window._temp_tts=l,l.onend=()=>{J.value=null},window.speechSynthesis.speak(l)},n.play().catch(l=>console.log("MP3æ’­æ”¾å—é˜»")),J.value=e},_s=e=>{J.value!==e&&(I.has(e)||Pe(e))},ys=e=>{if(!e)return console.warn("æ²¡æœ‰æ–‡æœ¬å¯è¯»");B.value&&(B.value.pause(),B.value=null),J.value=null,window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.9,t.volume=1;const n=window.speechSynthesis.getVoices(),l=n.find(i=>i.name.includes("Google US"))||n.find(i=>i.lang.includes("en-US"));l&&(t.voice=l),window._debug_utterance=t,t.onerror=i=>{console.error("æœ—è¯»æŠ¥é”™:",i),i.error!=="canceled"&&i.error!=="interrupted"&&alert("è¯­éŸ³æ’­æ”¾å‡ºé”™: "+i.error)},setTimeout(()=>{window.speechSynthesis.speak(t),console.log("æ­£åœ¨æ’­æ”¾:",e,"ä½¿ç”¨è¯­éŸ³:",l?l.name:"ç³»ç»Ÿé»˜è®¤")},10)};function gs(e,t){let n=t.target.value.trim().toLowerCase(),l=e.en.toLowerCase();const i=o=>o.replace(/[\u2018\u2019`]/g,"'").replace(/\s+/g," "),d=i(n)===i(l);if(xe[e.en]=d?"correct":"error",d){if(I.has(e.en)||I.add(e.en),!f.value){Ie("learn",1),E.value.includes(e.en)||(E.value.push(e.en),Ie("kill",1));const u=g.value.findIndex(a=>a.w===e.en);u>-1&&g.value.splice(u,1);return}const o=g.value.findIndex(u=>u.w===e.en);if(o>-1){Ie("review",1);const u=g.value[o];u.stage+=1,u.stage>=Je.length?(g.value.splice(o,1),O.value.includes(e.en)||(O.value.push(e.en),Ie("kill",1))):(u.time=Date.now()+Je[u.stage]*6e4,g.value=[...g.value])}}else if(I.has(e.en)||I.add(e.en),!f.value)E.value.includes(e.en)&&(E.value=E.value.filter(u=>u!==e.en)),g.value.find(u=>u.w===e.en)||g.value.push({w:e.en,stage:0,time:Date.now()+Je[0]*6e4});else{const o=g.value.findIndex(u=>u.w===e.en);o>-1&&(g.value[o].stage=0,g.value[o].time=Date.now()+Je[0]*6e4)}}const Tt=e=>{if(O.value.includes(e)){if(!confirm(`ç¡®å®šè¦æ’¤é”€æ–©æ€ï¼Œæ¢å¤ "${e}" å—ï¼Ÿ`))return;O.value=O.value.filter(n=>n!==e),z(`"${e}" å·²æ¢å¤ ğŸº`);return}if(!confirm(`ç¡®å®šè¦æ–©æ€ "${e}" å—ï¼Ÿ
(å®ƒå°†å˜ä¸ºç´«è‰²å½’æ¡£çŠ¶æ€)`))return;O.value.push(e),Ie("kill",1);const t=g.value.findIndex(n=>n.w===e);t>-1&&g.value.splice(t,1),E.value.includes(e)&&(E.value=E.value.filter(n=>n!==e))};function ms(){const e={k:O.value,r:g.value,c:he.value,m:E.value,d:$.value,s:N.value,n:Y.value},t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download=`ielts_data_${new Date().toISOString().slice(0,10)}.json`,l.click()}const bs=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{});else{const t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}};function ks(){document.getElementById("fileInput").click()}function xs(e){const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=l=>{try{const i=JSON.parse(l.target.result);(i.k||i.r||i.d)&&(i.k&&(O.value=i.k),i.r&&(g.value=i.r),i.c&&(he.value=i.c),i.m&&(E.value=i.m),i.d&&($.value=i.d),i.s&&(N.value=i.s),i.n&&(Y.value=i.n),alert("åŒæ­¥æˆåŠŸ"),location.reload())}catch{alert("æ–‡ä»¶æ ¼å¼é”™è¯¯")}},n.readAsText(t),e.target.value=""}const ge=h(!1),Ze=h(""),we=h(!1),Ye=h(""),qe=h(""),pt=h(!1),Lt=h("");h(!1);const Se=h(!1),ht=h(null);let Qe=null;const $e=h("week"),N=V("my_ielts_stats_history",{}),Oe=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Ie=(e,t=1)=>{const n=Oe();N.value[n]||(N.value[n]={duration:0,review:0,kill:0,add:0}),typeof N.value[n][e]>"u"&&(N.value[n][e]=0),N.value[n][e]+=t,N.value={...N.value}},zt=async()=>{if(ht.value){Qe&&(Qe.destroy(),Qe=null);try{const{Chart:e,registerables:t}=await nn(()=>import("https://cdn.jsdelivr.net/npm/chart.js/+esm"),[],import.meta.url);e.register(...t);const n=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark"),l=n?"#cbd5e1":"#666",i=n?"#334155":"#e5e7eb",d=$e.value==="week"?7:30,o=[],u=[],a=[],y=[],L=[],H=new Date;for(let b=d-1;b>=0;b--){const k=new Date(H.getTime()-b*24*60*60*1e3),X=`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-${String(k.getDate()).padStart(2,"0")}`;o.push(String(k.getDate())+"æ—¥");const R=N.value[X]||{duration:0,review:0,learn:0,kill:0};u.push(Math.round(R.duration/60)),a.push(R.review||0),y.push(R.learn||0),L.push(R.kill||0)}Qe=new e(ht.value,{type:"bar",data:{labels:o,datasets:[{label:"æ–°å­¦ (ä¸ª)",data:y,backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"#10b981",borderWidth:1,yAxisID:"y",order:4,stack:"combined"},{label:"å¤ä¹  (ä¸ª)",data:a,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"#3b82f6",borderWidth:1,yAxisID:"y",order:3,stack:"combined"},{label:"æ–©æ€ (ä¸ª)",data:L,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"#ef4444",borderWidth:1,yAxisID:"y",order:2,stack:"combined"},{type:"line",label:"ä¸“æ³¨ (åˆ†)",data:u,borderColor:"#f59e0b",backgroundColor:"#f59e0b",borderWidth:2,pointRadius:3,tension:.3,yAxisID:"y1",order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:l},grid:{color:i}},y:{type:"linear",display:!0,position:"left",stacked:!0,title:{display:!0,text:"å•è¯é‡",color:l},ticks:{color:l},grid:{color:i}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"åˆ†é’Ÿ",color:l},ticks:{color:l}}}}})}catch(e){console.error("å›¾è¡¨åŠ è½½å¤±è´¥:",e)}}};ue(Se,e=>{e&&setTimeout(zt,100)}),ue($e,()=>{Se.value&&zt()});function Cs(){Ze.value="",ge.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("custom-word-input"))==null?void 0:e.focus()},100)}function Pt(){const e=Ze.value;if(!e||!e.trim()){ge.value=!1;return}const t=e.trim();ge.value=!1,setTimeout(()=>{ut(t).zh==="æœªæ‰¾åˆ°é‡Šä¹‰"?(qe.value=t,Ye.value="",we.value=!0,setTimeout(()=>{var l;return(l=document.getElementById("custom-meaning-input"))==null?void 0:l.focus()},100)):Wt(t)},200)}function Ot(){const e=Ye.value.trim();e&&(we.value=!1,$.value={...$.value,[qe.value]:{zh:e}},Wt(qe.value))}function Wt(e){ge.value=!1,we.value=!1;const t=g.value.findIndex(n=>n.w===e);t>-1?(g.value[t].stage=0,g.value[t].time=Date.now(),z(`"${e}" å·²é‡ç½®å¤ä¹ è¿›åº¦ï¼ğŸ”„`)):(g.value.push({w:e,stage:0,time:Date.now()}),z(`"${e}" å·²åŠ å…¥å¤ä¹ ï¼âœ…`)),f.value&&dt()}function z(e){Lt.value=e,pt.value=!0,setTimeout(()=>{pt.value=!1},1500)}const We=h(!1),q=re({oldWord:"",newWord:"",newZh:""}),ws=e=>{q.oldWord=e.en,q.newWord=e.en,q.newZh=e.zh,We.value=!0},Ss=()=>{const e=q.oldWord,t=q.newWord.trim(),n=q.newZh.trim();if(!t)return alert("å•è¯ä¸èƒ½ä¸ºç©º");if(e===t)$.value[e]?$.value[e].zh=n:$.value={...$.value,[e]:{zh:n}},z("é‡Šä¹‰å·²æ›´æ–°");else{if($.value[e]){const i={...$.value};delete i[e],i[t]={zh:n},$.value=i}else $.value={...$.value,[t]:{zh:n}};const l=g.value.findIndex(i=>i.w===e);l>-1&&(g.value[l].w=t),O.value.includes(e)&&(O.value=O.value.filter(i=>i!==e),O.value.push(t)),E.value.includes(e)&&(E.value=E.value.filter(i=>i!==e),E.value.push(t)),z(`å·²ä¿®æ­£: ${e} -> ${t}`)}f.value&&dt(),We.value=!1},me=h(!1),et=h(window.innerWidth-320-5),ft=h(window.innerHeight*.26),Q=h(null);let C=null,_t=!1,yt=!1,Nt=0,Rt=0,Me=null;const Ut=e=>{const t=Q.value;if(!t)return{x:0,y:0};const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}},gt=()=>{if(!Q.value)return;const e=Q.value,t=e.getBoundingClientRect(),n=Math.ceil(t.width),l=Math.ceil(t.height);n<1||l<1||(e.width!==n||e.height!==l?(e.width=n,e.height=l,C=e.getContext("2d"),C&&(C.strokeStyle="#ffffff",C.lineWidth=3,C.lineCap="round",C.lineJoin="round")):C||(C=e.getContext("2d")))},$s=e=>{if(be.value||(e.cancelable&&e.preventDefault(),!Q.value)||(C||gt(),!C))return;if(_t=!0,e.target.setPointerCapture&&e.pointerId)try{e.target.setPointerCapture(e.pointerId)}catch{}C.strokeStyle="#ffffff",C.lineWidth=3,C.beginPath();const{x:n,y:l}=Ut(e);C.moveTo(n,l)},Is=e=>{if(!_t||!C)return;e.cancelable&&e.preventDefault();const{x:t,y:n}=Ut(e);C.lineTo(t,n),C.stroke()},Bt=e=>{if(_t=!1,e&&e.target.releasePointerCapture&&e.pointerId)try{e.target.releasePointerCapture(e.pointerId)}catch{}},mt=()=>{!Q.value||!C||C.clearRect(0,0,Q.value.width,Q.value.height)},Ms=e=>{e.target.tagName!=="BUTTON"&&(yt=!0,Nt=e.clientX-et.value,Rt=e.clientY-ft.value,window.addEventListener("mousemove",Kt),window.addEventListener("mouseup",Vt))},Kt=e=>{yt&&(et.value=e.clientX-Nt,ft.value=e.clientY-Rt)},Vt=()=>{yt=!1,window.removeEventListener("mousemove",Kt),window.removeEventListener("mouseup",Vt)},Ft=()=>{me.value=!me.value,me.value?(it(()=>{gt(),Q.value&&!Me&&(Me=new ResizeObserver(()=>{gt()}),Me.observe(Q.value))}),window.addEventListener("keydown",Jt)):(Me&&(Me.disconnect(),Me=null),window.removeEventListener("keydown",Jt))},Jt=e=>{me.value&&e.code==="Space"&&(e.preventDefault(),mt())};function Es(){if(g.value.length===0){alert("å½“å‰æ²¡æœ‰é”™é¢˜è®°å½•");return}let e=`My IELTS Mistakes

`;[...g.value].sort((d,o)=>d.time-o.time).forEach((d,o)=>{const u=ut(d.w);e+=`${o+1}. ${u.en} ${u.pos}
   [ä¹‰] ${u.zh}
`,u.example&&(e+=`   [ä¾‹] ${u.example}
`),u.notation&&(e+=`   [æ³¨] ${u.notation}
`),e+=`
`});const n=new Blob([e],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download="mistakes.txt",i.click(),URL.revokeObjectURL(l)}const jt=K(()=>(he.value[w.value]||[]).includes(D.value)),As=()=>{const e=w.value,t=D.value,n={...he.value};n[e]||(n[e]=[]),n[e].includes(t)?n[e]=n[e].filter(l=>l!==t):n[e].push(t),he.value=n},Gt=e=>{const t=D.value+e;t>=0&&t<Ce.value.length&&(D.value=t,window.scrollTo({top:0,behavior:"smooth"}))},Ds=[.0834,10,15,25,30,45,60],tt=V("my_ielts_focus_dur",30),Ee=()=>Math.round(tt.value*60),be=h(!1),bt=h(!1),P=h(Ee()),ee=h("idle"),T=h(!1);let j=null;const Ht=e=>{const t=Math.floor(e/60),n=e%60;return`${t<10?"0"+t:t}:${n<10?"0"+n:n}`},Ne=()=>{localStorage.setItem("my_ielts_pomo",JSON.stringify({seconds:P.value,isBreak:T.value,state:ee.value,timestamp:Date.now()}))},Ts=()=>{j&&clearInterval(j),j=null,ee.value="paused",Ne()},Ae=e=>{T.value=!0,P.value=Math.round(e*60),be.value=!1,st()},Ls=()=>{T.value=!1,P.value=Ee(),be.value=!1,st()},zs=()=>{ee.value==="idle"&&!T.value&&(P.value=Ee())},Ps=()=>{be.value=!1,Ne()},st=()=>{ee.value!=="running"&&(j&&clearInterval(j),P.value<=0&&(P.value=T.value?5*60:Ee()),ee.value="running",Ne(),j=setInterval(()=>{if(P.value>0){P.value--;const e=T.value?"â˜•":"ğŸ…",t=T.value?"ä¼‘æ¯":"ä¸“æ³¨";document.title=`${Ht(P.value)} ${e} ${t}`,T.value||Ie("duration",1),Ne()}else{kt(!1);const e=T.value;bt.value=e,Qt(e?Ha:Ga),be.value=!0,document.title="ğŸ”” æ—¶é—´åˆ°ï¼",T.value=!e,P.value=T.value?5*60:Ee(),Ne()}},1e3))},kt=(e=!0)=>{j&&(clearInterval(j),j=null),ee.value="idle",localStorage.removeItem("my_ielts_pomo"),e&&(P.value=T.value?5*60:Ee(),document.title="MyIELTS")};qs(()=>{j&&clearInterval(j)}),St(()=>{const e=localStorage.getItem("my_ielts_pomo");if(e)try{const t=JSON.parse(e);if(T.value=t.isBreak,t.state==="paused")P.value=t.seconds,ee.value="paused";else if(t.state==="running"){const n=Date.now(),l=Math.floor((n-t.timestamp)/1e3),i=t.seconds-l;i>0?(P.value=i,st()):(P.value=0,kt(!1))}}catch(t){console.error("ç•ªèŒ„é’Ÿæ¢å¤å¤±è´¥",t)}window.speechSynthesis.getVoices()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&ee.value});const Re=h(!1),De=h(""),G=h([]),Os=()=>{De.value="",G.value=[],Re.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("global-search-input"))==null?void 0:e.focus()},100)},oe=h(-1),Xt=e=>{if(G.value.length===0)return;const t=G.value.length;oe.value===-1?oe.value=e>0?0:t-1:oe.value=(oe.value+e+t)%t,it(()=>{const n=document.querySelector(".search-item.selected");n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})})},Ws=()=>{oe.value=-1;const e=De.value.trim().toLowerCase();if(!e){G.value=[];return}const t=[],n=new Set;for(const l in $.value)l.toLowerCase().includes(e)&&(t.push({en:l,zh:$.value[l].zh,source:"æˆ‘çš„ç”Ÿè¯æœ¬",isCustom:!0}),n.add(l));if(x)for(const l in x){const i=x[l].words||x[l].list||[];let d=0,o=0;const u=35,a=45;for(let y=0;y<i.length;y++){const L=i[y];let H=0;for(const k of L)H++;const b=o+H;o>0&&(o>=u||b>a)&&(d++,o=0);for(const k of L){let X="",R="";Array.isArray(k)?(X=k[0],R=k[2]||""):(X=k.word||k.en,R=k.meaning||k.trans||k.zh||"");const ce=ze(X);ce.toLowerCase().includes(e)&&!n.has(ce)&&(t.push({en:ce,zh:R,source:`${l} Â· Part ${d+1}`,chapter:l,partIdx:d,isCustom:!1}),n.add(ce))}o+=H}if(t.length>100)break}t.sort((l,i)=>{const d=l.en.toLowerCase(),o=i.en.toLowerCase();if(d===e&&o!==e)return-1;if(o===e&&d!==e)return 1;const u=d.startsWith(e),a=o.startsWith(e);return u&&!a?-1:a&&!u?1:d.length-o.length}),G.value=t.slice(0,50)},Ns=()=>{const e=De.value.trim().toLowerCase();if(!e||G.value.length===0)return;if(oe.value!==-1){const n=G.value[oe.value];if(n){Ue(n);return}}const t=G.value.find(n=>n.en.toLowerCase()===e);Ue(t||G.value[0])},Rs=e=>{if(!e.source||e.source==="ç”Ÿè¯æœ¬"||e.source==="æœªçŸ¥"){z("è¯¥è¯å±äºè‡ªå®šä¹‰ç”Ÿè¯ï¼Œæ— å›ºå®šç« èŠ‚ä½ç½®");return}const t=" Part ",n=e.source.lastIndexOf(t);if(n===-1){console.warn("æ— æ³•è§£æå‡ºå¤„æ ¼å¼:",e.source);return}const l=e.source.substring(0,n),i=e.source.substring(n+t.length),d=parseInt(i)-1,o={en:e.en,chapter:l,partIdx:d,isCustom:!1};Ue(o)},Ue=e=>{e.isCustom||e.partIdx===void 0||(Re.value=!1,f.value=!1,vt=!0,w.value=e.chapter,D.value=e.partIdx,it(()=>{vt=!1}),setTimeout(()=>{const t="word-row-"+e.en.replace(/\s+/g,"_"),n=document.getElementById(t);n?(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("highlight-flash"),setTimeout(()=>n.classList.remove("highlight-flash"),2e3)):console.warn("æœªæ‰¾åˆ°å…ƒç´ :",t)},400))},nt=re({}),Us=e=>{nt[e]=!nt[e]},Be=e=>!e||!e.list||e.list.length===0?!1:e.list.every(t=>W.has(t.en)),Bs=e=>{const t=Be(e);e.list.forEach(n=>{t?W.delete(n.en):W.add(n.en)})},Ks=()=>{const e=[];if(ie.value.forEach(n=>{n.list&&n.list.forEach(l=>e.push(l.en))}),e.length===0)return z("å½“å‰æ²¡æœ‰å•è¯å¯å¤åˆ¶");const t=e.join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{z(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)});else{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),z(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)}},Vs=e=>{if(!e||!e.list||e.list.length===0)return;const t=e.list.map(n=>n.en).join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{z(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)});else{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),z(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)}},Zt=h(window.innerWidth),Fs=()=>Zt.value=window.innerWidth;St(()=>window.addEventListener("resize",Fs));const Js=K(()=>me.value?et.value>Zt.value/2-100:!1),Ke=h(!1),xt=h(""),te=re({title:"",content:""}),ot=e=>`${w.value}_${e}`,Ct=e=>{const t=ot(e);xt.value=t;const n=Y.value[t]||{title:"",content:""};te.title=n.title,te.content=n.content,Ke.value=!0},Ve=h(!1),Te=re({title:"",content:"",groupId:-1}),wt=e=>{if(!e)return"";try{return window.marked.parse(e)}catch{return e}},js=e=>{const t=ot(e),n=Y.value[t];if(!n||!n.title&&!n.content){Ct(e);return}Te.title=n.title||"è¯ä¹‰è¾¨æ",Te.content=n.content,Te.groupId=e,Ve.value=!0},Gs=()=>{Ve.value=!1,Ct(Te.groupId)},Hs=()=>{if(!te.title.trim()&&!te.content.trim()){const e={...Y.value};delete e[xt.value],Y.value=e}else Y.value={...Y.value,[xt.value]:{title:te.title.trim(),content:te.content}};Ke.value=!1},lt=e=>{const t=ot(e),n=Y.value[t];return n&&(n.title&&n.title.trim()||n.content&&n.content.trim())},Xs=e=>{const t=ot(e),n=Y.value[t];return n?n.title&&n.title.trim()?n.title.trim():n.content&&n.content.trim()?"ğŸ“ è¯ä¹‰è¾¨æ":"":""},Zs=e=>{confirm(`ç¡®è®¤ç§»é™¤ "${e}" çš„å¬è§‰ä¾èµ–æ ‡è®°å—ï¼Ÿ`)&&(Le.value=Le.value.filter(t=>t!==e))};return(e,t)=>{var n,l,i,d;return r(),c(ve,null,[s("div",on,[s("div",ln,[s("div",an,[s("div",cn,[s("div",rn,[s("button",{class:S(["tab-btn",{active:!f.value}]),onClick:t[0]||(t[0]=o=>f.value=!1)},"ğŸ“– å­¦ä¹ ",2),s("button",{class:S(["tab-btn review-tab",{active:f.value}]),onClick:t[1]||(t[1]=o=>f.value=!0)},[Z(" ğŸ”¥ å¤ä¹ "),de(g).filter(o=>o.time<Date.now()).length>0?(r(),c("span",un)):p("",!0)],2)]),s("label",dn,[U(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=o=>A.value=o)},null,512),[[Qs,A.value]]),s("span",null,v(A.value?"ğŸ™ï¸ ":"ğŸ‘€ "),1)]),A.value?(r(),c("button",{key:0,class:"mobile-only tool-btn-simple",onClick:Dt,style:{"margin-left":"10px","font-size":"20px"},title:Ge.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(Ge.value?"ğŸ“–":"ğŸ™ˆ"),9,vn)):p("",!0)]),s("div",pn,[f.value?p("",!0):(r(),c("div",hn,[U(s("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>qt(w)?w.value=o:null),class:"sel-chap"},[(r(!0),c(ve,null,ke(fs.value,o=>(r(),c("option",{key:o.value,value:o.value},v(o.label)+v(o.isDone?"âœ…":""),9,fn))),128))],512),[[$t,de(w)]]),U(s("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>D.value=o),class:"sel-part"},[(r(!0),c(ve,null,ke(ps.value,(o,u)=>(r(),c("option",{key:u,value:u},v(o),9,_n))),128))],512),[[$t,D.value]])])),s("div",{class:S(["stats-bar",{"compact-mode":!f.value}])},[f.value?(r(),c("span",yn,"ğŸ“š "+v(Xe.value.total),1)):p("",!0),s("span",gn,"ğŸ”¥ "+v(Xe.value.learning),1),s("span",mn,"âœ… "+v(Xe.value.learned),1),s("span",bn,"ğŸŒ‘ "+v(Xe.value.unlearned),1)],2)]),s("div",kn,[f.value?(r(),c("button",{key:0,onClick:t[5]||(t[5]=o=>Se.value=!0),class:"btn action-btn",title:"å­¦ä¹ ç»Ÿè®¡"},"ğŸ“Š")):p("",!0),s("button",{onClick:Ft,class:S(["btn action-btn desktop-only",{"active-pad":me.value}]),title:"æ‰“å¼€/å…³é—­è‰ç¨¿æ¿"},"ğŸ–Šï¸",2),f.value?(r(),c("button",{key:1,onClick:Es,class:"btn action-btn special-btn desktop-only",title:"å¯¼å‡ºé”™é¢˜æ–‡æœ¬ (TXT)"},"ğŸ“¥ ")):p("",!0),s("button",{onClick:ms,class:"btn action-btn",title:"å¯¼å‡º/å¤‡ä»½è¿›åº¦ (JSON)"},"â¬‡ï¸ "),s("button",{onClick:ks,class:"btn action-btn",style:{"margin-left":"8px"},title:"å¯¼å…¥/æ¢å¤è¿›åº¦"},"â¬†ï¸ "),s("input",{type:"file",id:"fileInput",hidden:"",onChange:xs},null,32),s("div",{class:S(["pomo-compact",{"break-mode":T.value}])},[!T.value&&ee.value==="idle"?U((r(),c("select",{key:0,"onUpdate:modelValue":t[6]||(t[6]=o=>qt(tt)?tt.value=o:null),onChange:zs,class:"pomo-select",title:"ç‚¹å‡»è°ƒæ•´ä¸“æ³¨æ—¶é•¿"},[(r(),c(ve,null,ke(Ds,o=>s("option",{key:o,value:o},v(o<1?"âš¡ 05s":(o<10?"0"+o:o)+":00"),9,xn)),64))],544)),[[$t,de(tt)]]):(r(),c("span",Cn,v(Ht(P.value)),1)),ee.value!=="running"?(r(),c("button",{key:2,onClick:st,class:"pomo-btn-small play-btn"},"â–¶")):(r(),c("button",{key:3,onClick:Ts,class:"pomo-btn-small pause-btn"},"â¸")),s("button",{onClick:t[7]||(t[7]=o=>kt(!0)),class:"pomo-btn-small stop-btn"},"â¹")],2)])])]),be.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:m(Ps,["self"])},[s("div",Sn,[s("button",{class:"modal-close-icon",onClick:t[8]||(t[8]=o=>be.value=!1)},"âœ•"),s("div",$n,v(T.value?"ğŸ”‹":"ğŸ‰"),1),s("h2",In,v(bt.value?"å……ç”µå®Œæ¯•":"ä¸“æ³¨å®Œæˆ"),1),bt.value?(r(),c("div",En,[s("button",{onClick:Ls,class:"modal-btn focus-btn"},"å¼€å§‹ä¸“æ³¨")])):(r(),c("div",Mn,[s("button",{onClick:t[9]||(t[9]=o=>Ae(3)),class:"modal-btn break-btn"},"3m"),s("button",{onClick:t[10]||(t[10]=o=>Ae(5)),class:"modal-btn break-btn"},"5m"),s("button",{onClick:t[11]||(t[11]=o=>Ae(10)),class:"modal-btn break-btn"},"10m"),s("button",{onClick:t[12]||(t[12]=o=>Ae(15)),class:"modal-btn break-btn"},"15m"),s("button",{onClick:t[13]||(t[13]=o=>Ae(25)),class:"modal-btn long-break-btn"},"25m"),s("button",{onClick:t[14]||(t[14]=o=>Ae(.05)),class:"modal-btn focus-btn"},"âš¡ 03s (æµ‹è¯•)")]))])],8,wn)):p("",!0),ie.value.length>0?(r(),c("div",An,[s("div",Dn,[Tn,s("div",Ln,[Z(" å•è¯ "),f.value?(r(),c("button",{key:0,class:"toggle-source-btn",onClick:cs,title:ye.value?"éšè—å…¨éƒ¨å‡ºå¤„":"æ˜¾ç¤ºå…¨éƒ¨å‡ºå¤„"},[ye.value?(r(),c("svg",Pn,Nn)):(r(),c("svg",Rn,Kn))],8,zn)):p("",!0),f.value?p("",!0):(r(),c("button",{key:1,class:"toggle-source-btn",onClick:Ks,title:"å¤åˆ¶æœ¬é¡µæ‰€æœ‰å•è¯",style:{"margin-left":"4px"}}," ğŸ“‹ "))]),Vn,s("div",Fn,[Z(" è¯ä¹‰ "),A.value?(r(),c("button",{key:0,class:"toggle-all-btn",onClick:Dt,title:Ge.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(Ge.value?"ğŸ“–":"ğŸ™ˆ"),9,Jn)):p("",!0)]),A.value?p("",!0):(r(),c("div",jn,"ä¾‹å¥")),A.value?p("",!0):(r(),c("div",Gn,"æ‹“å±•")),Hn])])):p("",!0),s("div",Xn,[ie.value.length===0?(r(),c("div",Zn,v(f.value?"æš‚æ— é”™é¢˜ ğŸ‰":"æœ¬ç« æ•°æ®åŠ è½½ä¸­"),1)):p("",!0),(r(!0),c(ve,null,ke(ie.value,(o,u)=>(r(),c("div",{key:u,class:"vocab-block",style:se({borderLeftColor:o.color})},[f.value?p("",!0):(r(),c("div",{key:0,class:S(["group-note-bar",{"has-note":lt(o.groupId)}]),style:se({backgroundColor:lt(o.groupId)?o.color+"15":"transparent",borderBottom:lt(o.groupId)?"1px solid "+o.color+"20":"none"})},[s("div",{class:"note-title",onClick:a=>js(o.groupId)},[lt(o.groupId)?(r(),c("span",{key:0,class:"note-exist-text",style:se({color:o.color})},[qn,Z(" "+v(Xs(o.groupId)),1)],4)):(r(),c("span",Qn," â• æ·»åŠ è¾¨æç¬”è®° "))],8,Yn),s("div",eo,[s("button",{class:"note-action-btn copy-group-btn",onClick:m(a=>Vs(o),["stop"]),title:"å¤åˆ¶æœ¬ç»„å•è¯"}," ğŸ“‹ ",8,to),s("button",{class:"note-action-btn",onClick:m(a=>Ct(o.groupId),["stop"]),title:"ç¼–è¾‘ç¬”è®°"}," âš™ï¸ ",8,so)])],6)),f.value&&o.title?(r(),c("div",{key:1,class:"group-title",style:se([{color:o.color,backgroundColor:o.color+"15"},{cursor:"pointer",display:"flex","align-items":"center","user-select":"none"}]),onClick:a=>Us(o.title)},[s("span",oo,v(o.title),1),s("button",{class:"stage-source-btn",onClick:m(a=>Bs(o),["stop"]),title:Be(o)?"éšè—æœ¬é˜¶æ®µå‡ºå¤„":"æ˜¾ç¤ºæœ¬é˜¶æ®µå‡ºå¤„",style:se({color:Be(o)?o.color:"#9ca3af",opacity:Be(o)?1:.5})},[(r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:Be(o)?"currentColor":"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ro,8,ao))],12,lo),uo,s("button",{class:"collapse-btn",style:se({color:o.color,borderColor:o.color})},v(nt[o.title]?"ğŸ”½ å±•å¼€":"ğŸ”¼ æ”¶èµ·"),5)],12,no)):p("",!0),U(s("div",null,[(r(!0),c(ve,null,ke(o.list,a=>(r(),c("div",{key:a.en,class:S(["grid-layout row-item",{"mastered-row":a._isMastered&&!a._isKilled&&!f.value,"killed-row":a._isKilled&&!f.value}]),id:"word-row-"+a.en.replace(/\s+/g,"_")},[s("div",po,[Z(v(f.value?a.id:a._id)+" ",1),(a._isMastered||a._isKilled)&&!f.value?(r(),c("span",{key:0,class:"status-icon",style:se({color:a._isKilled?"#a855f7":"#10b981",fontWeight:"bold"})}," âœ” ",4)):p("",!0)]),s("div",ho,[s("div",fo,[A.value?(r(),c("div",Oo,[s("span",{class:S(["speaker",{playing:J.value===a.en}]),onClick:m(y=>Pe(a.en),["stop"])},v(J.value===a.en?"â¸ï¸":"ğŸ”Š"),11,Wo),s("div",No,[s("input",{type:"text",class:S(["dictation-input",[xe[a.en],{"mastered-input":a._isMastered&&!f.value}]]),placeholder:"è¾“å…¥...",onChange:y=>gs(a,y),onInput:y=>xe[a.en]="",onFocus:y=>_s(a.en),onKeydown:[t[15]||(t[15]=pe(m(()=>{},["stop"]),["space"])),pe(m(Mt,["prevent"]),["tab"]),pe(m(Mt,["prevent"]),["enter"])],autocomplete:"off"},null,42,Ro),xe[a.en]==="error"?(r(),c("div",Uo,"âŒ "+v(a.en),1)):p("",!0),ne.has(a.en)?(r(),c("div",Bo,"ğŸ‘€ "+v(a.en),1)):p("",!0)]),s("button",{class:"peek-btn",onClick:m(y=>ts(a.en),["stop"]),title:ne.has(a.en)?"éšè—ç­”æ¡ˆ":"å·çœ‹ç­”æ¡ˆ"},v(ne.has(a.en)?"ğŸ™ˆ":"ğŸ‘ï¸"),9,Ko)])):(r(),c("div",_o,[s("div",yo,[s("span",{class:"en-text",onClick:m(y=>Pe(a.en),["stop"]),style:{cursor:"pointer"},title:"ç‚¹å‡»å‘éŸ³"},v(a.en),9,go),s("span",{class:S(["speaker",{playing:J.value===a.en}]),onClick:m(y=>Pe(a.en),["stop"])},v(J.value===a.en?"â¸ï¸":"ğŸ”Š"),11,mo),de(Le).includes(a.en)?(r(),c("span",{key:0,onClick:m(y=>Zs(a.en),["stop"]),title:"è¯¥è¯æ›¾ä¾èµ–å¬éŸ³å›å¿† (å¬è§‰å°è®°)",style:{"font-size":"14px","margin-left":"6px",cursor:"help"}}," ğŸ‘‚ ",8,bo)):p("",!0),a.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:1,class:"copy-btn",onClick:m(y=>bs(a.en),["stop"]),title:"ç‚¹å‡»å¤åˆ¶"},"ğŸ“‹",8,ko)):p("",!0),f.value&&a.notation==="æˆ‘çš„ç”Ÿè¯æœ¬"?(r(),c("button",{key:2,class:"copy-btn edit-btn",onClick:m(y=>ws(a),["stop"]),title:"ä¿®æ”¹å•è¯/é‡Šä¹‰"},"âœ",8,xo)):p("",!0),f.value&&!ye.value&&a.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:3,class:"copy-btn location-btn",onClick:m(y=>rs(a.en),["stop"]),title:W.has(a.en)?"éšè—å‡ºå¤„":"æŸ¥çœ‹å‡ºå¤„",style:se({color:W.has(a.en)?"#3b82f6":"",opacity:W.has(a.en)?"1":""})},[W.has(a.en)?(r(),c("svg",wo,Io)):(r(),c("svg",Mo,Do))],12,Co)):p("",!0)]),ye.value||W.has(a.en)?(r(),c("div",{key:0,class:"word-source-row clickable-source",onClick:m(y=>Rs(a),["stop"]),title:"ç‚¹å‡»è·³è½¬åˆ°åŸæ–‡ä½ç½® ğŸš€"}," ğŸ“ "+v(a.source)+" âœ ",9,To)):p("",!0),f.value&&a._review?(r(),c("div",Lo,[a._review.time<Date.now()?(r(),c("span",zo,"å¾…å¤ä¹ ")):(r(),c("span",Po,v(Math.round((a._review.time-Date.now())/6e4))+"m",1))])):p("",!0)]))]),s("div",Vo,v(a.pos),1),s("button",{class:"mobile-only mobile-kill",onClick:y=>Tt(a.en)},"âœ•",8,Fo)]),s("div",Jo,v(a.pos),1),s("div",{class:S(["col-zh",{"interactive-zh":A.value}]),onClick:y=>A.value?ss(a.en):null},[s("div",{class:S(["zh-text",{"blur-zh":A.value&&!I.has(a.en)&&a.pos!=="è‡ªé€‰"}])},v(a.zh),3),a.notation&&!A.value?(r(),c("div",Go,v(a.notation),1)):p("",!0)],10,jo),A.value?p("",!0):(r(),c("div",Ho,[s("div",Xo,[s("span",null,v(a.example),1),a.example?(r(),c("span",{key:0,class:"speaker-small",onClick:m(y=>ys(a.example),["stop"]),title:"è¯»ä¾‹å¥"},"ğŸ”‰",8,Zo)):p("",!0)])])),A.value?p("",!0):(r(),c("div",Yo,v(a.notation||""),1)),s("div",qo,[s("button",{class:"kill-btn",onClick:y=>Tt(a.en),title:a._isKilled?"æ¢å¤/æ’¤é”€æ–©æ€":"æ–©æ€/å½’æ¡£",style:se({color:a._isKilled?"#a855f7":""})},v(a._isKilled?"â†º":"âœ•"),13,Qo)])],10,vo))),128))],512),[[en,!nt[o.title]]])],4))),128)),!f.value&&Ce.value.length>1?(r(),c("div",el,[s("button",{class:"page-btn big-btn",disabled:D.value===0,onClick:t[16]||(t[16]=o=>Gt(-1))},"â¬…ï¸ ä¸Šä¸€é¡µ",8,tl),s("div",sl,[s("span",nl,v(D.value+1)+" / "+v(Ce.value.length),1),s("button",{class:S(["finish-btn",{done:jt.value}]),onClick:As,title:"æ ‡è®°æœ¬é¡µä¸ºå·²å®Œæˆ"},v(jt.value?"âœ… å·²å®Œæˆ":"â­• æ ‡è®°å®Œæˆ"),3)]),s("button",{class:"page-btn big-btn",disabled:D.value===Ce.value.length-1,onClick:t[17]||(t[17]=o=>Gt(1))},"ä¸‹ä¸€é¡µ â¡ï¸",8,ol)])):p("",!0),ll]),me.value?(r(),c("div",{key:2,class:"scratchpad-window",style:se({left:et.value+"px",top:ft.value+"px"})},[s("div",{class:"pad-header",onMousedown:Ms},[al,s("button",{class:"pad-close",onClick:Ft},"âœ•")],32),s("canvas",{ref_key:"canvasRef",ref:Q,class:"pad-canvas",style:{"touch-action":"none",display:"block"},onPointerdown:$s,onPointermove:Is,onPointerup:Bt,onPointerleave:Bt,onDblclick:mt},null,544),s("div",{class:"pad-footer"},[il,s("button",{class:"pad-btn-clear",onClick:mt},"ğŸ—‘ï¸ (Space)")])],4)):p("",!0),s("div",{class:S(["floating-action-group",{"pos-left":Js.value}])},[f.value?(r(),c("button",{key:0,onClick:dt,class:"floating-btn refresh-btn",title:"åˆ·æ–°æ•°æ®"},"ğŸ”„")):p("",!0),f.value?p("",!0):(r(),c("button",{key:1,onClick:ns,class:"floating-btn story-btn",title:"æœ¬é¡µåŠ©è®°æ–‡ç« /æ•…äº‹"},"ğŸ“œ")),s("button",{onClick:Cs,class:"floating-btn add-btn",title:"æ‰‹åŠ¨åŠ å…¥ç”Ÿè¯"},"â•"),s("button",{onClick:Os,class:"floating-btn search-btn",title:"æœç´¢å•è¯/è¯æ ¹"},"ğŸ”")],2),ge.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[20]||(t[20]=m(o=>ge.value=!1,["self"]))},[s("div",cl,[rl,s("div",ul,[U(s("input",{id:"custom-word-input",type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>Ze.value=o),class:"modal-input-field",placeholder:"è¯·è¾“å…¥å•è¯...",onKeydown:pe(Pt,["enter"]),autocomplete:"off"},null,40,dl),[[le,Ze.value]])]),s("div",vl,[s("button",{onClick:t[19]||(t[19]=o=>ge.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Pt,class:"modal-btn",style:{background:"#2563eb",color:"white"}},"ç¡®å®š")])])])):p("",!0),we.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[23]||(t[23]=m(o=>we.value=!1,["self"]))},[s("div",pl,[hl,s("p",fl,[Z(' è¯åº“ä¸­æœªæ‰¾åˆ° "'),s("strong",null,v(qe.value),1),Z('"ï¼Œè¯·å¡«å†™ä¸­æ–‡æ„æ€ï¼š ')]),s("div",_l,[U(s("input",{id:"custom-meaning-input",type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>Ye.value=o),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šå¼€é˜”çœ¼ç•Œ...",onKeydown:pe(Ot,["enter"]),autocomplete:"off"},null,40,yl),[[le,Ye.value]])]),s("div",gl,[s("button",{onClick:t[22]||(t[22]=o=>we.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Ot,class:"modal-btn",style:{background:"#10b981",color:"white"}},"ä¿å­˜å¹¶æ·»åŠ ")])])])):p("",!0),pt.value?(r(),c("div",ml,[s("div",bl,[kl,s("h3",xl,v(Lt.value),1)])])):p("",!0)]),We.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:t[27]||(t[27]=m(o=>We.value=!1,["self"]))},[s("div",Cl,[wl,s("div",Sl,[$l,U(s("input",{type:"text","onUpdate:modelValue":t[24]||(t[24]=o=>q.newWord=o),class:"modal-input-field"},null,512),[[le,q.newWord]])]),s("div",Il,[Ml,U(s("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=o=>q.newZh=o),class:"modal-input-field"},null,512),[[le,q.newZh]])]),s("div",El,[s("button",{onClick:t[26]||(t[26]=o=>We.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Ss,class:"modal-btn",style:{background:"#3b82f6",color:"white"}},"ä¿å­˜ä¿®æ”¹")])])])):p("",!0),Se.value?(r(),c("div",{key:1,class:"modal-overlay",onClick:t[31]||(t[31]=m(o=>Se.value=!1,["self"]))},[s("div",Al,[s("div",Dl,[Tl,s("div",Ll,[s("button",{class:S({active:$e.value==="week"}),onClick:t[28]||(t[28]=o=>$e.value="week")},"è¿‘7å¤©",2),s("button",{class:S({active:$e.value==="month"}),onClick:t[29]||(t[29]=o=>$e.value="month")},"è¿‘30å¤©",2)])]),s("div",zl,[s("div",Pl,[s("div",Ol,v(Math.round((((n=de(N)[Oe()])==null?void 0:n.duration)||0)/60)),1),Wl]),s("div",Nl,[s("div",Rl,v(((l=de(N)[Oe()])==null?void 0:l.learn)||0),1),Ul]),s("div",Bl,[s("div",Kl,v(((i=de(N)[Oe()])==null?void 0:i.review)||0),1),Vl]),s("div",Fl,[s("div",Jl,v(((d=de(N)[Oe()])==null?void 0:d.kill)||0),1),jl])]),s("div",Gl,[s("canvas",{ref_key:"statsChartCanvas",ref:ht},null,512)]),s("button",{class:"modal-close",onClick:t[30]||(t[30]=o=>Se.value=!1),style:{"margin-top":"15px"}},"å…³é—­")])])):p("",!0),Re.value?(r(),c("div",{key:2,class:"modal-overlay",onClick:t[36]||(t[36]=m(o=>Re.value=!1,["self"]))},[s("div",Hl,[s("div",Xl,[U(s("input",{id:"global-search-input",type:"text","onUpdate:modelValue":t[32]||(t[32]=o=>De.value=o),onInput:Ws,onKeydown:[pe(m(Ns,["prevent"]),["enter"]),t[33]||(t[33]=pe(m(o=>Xt(-1),["prevent"]),["up"])),t[34]||(t[34]=pe(m(o=>Xt(1),["prevent"]),["down"]))],placeholder:"è¾“å…¥è¯æ ¹ (æ”¯æŒé”®ç›˜ â†‘â†“ é€‰æ‹©)...",class:"modal-input-field search-input",autocomplete:"off"},null,40,Zl),[[le,De.value]]),s("button",{class:"modal-close-icon static-pos",onClick:t[35]||(t[35]=o=>Re.value=!1)},"âœ•")]),s("div",Yl,[De.value?G.value.length===0?(r(),c("div",Ql,"æœªæ‰¾åˆ°åŒ¹é…å•è¯")):(r(!0),c(ve,{key:2},ke(G.value,(o,u)=>(r(),c("div",{key:o.en,class:S(["search-item",{"clickable-item":!o.isCustom,selected:u===oe.value}]),onClick:a=>Ue(o),onMouseenter:a=>oe.value=u},[s("div",ta,[s("div",sa,[Z(v(o.en)+" ",1),s("span",{class:"speaker-small",onClick:m(a=>Pe(o.en),["stop"])},"ğŸ”Š",8,na)]),s("div",oa,v(o.zh),1)]),s("div",la,[s("span",aa,v(o.source),1)])],42,ea))),128)):(r(),c("div",ql,"è¾“å…¥å­—æ¯æŸ¥æ‰¾åŒ…å«è¯¥è¯æ ¹çš„å•è¯"))])])])):p("",!0),Ke.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[40]||(t[40]=m(o=>Ke.value=!1,["self"]))},[s("div",ia,[ca,s("div",ra,[ua,U(s("input",{type:"text","onUpdate:modelValue":t[37]||(t[37]=o=>te.title=o),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šDiscover vs Invent åŒºåˆ«...",autocomplete:"off"},null,512),[[le,te.title]])]),s("div",da,[va,U(s("textarea",{"onUpdate:modelValue":t[38]||(t[38]=o=>te.content=o),class:"modal-input-field",style:{flex:"1",resize:"none","line-height":"1.6","font-family":"sans-serif"},placeholder:"åœ¨è¿™é‡Œè®°å½•è¯¦ç»†çš„è¯ä¹‰è¾¨æã€åœºæ™¯ç”¨æ³•ç­‰..."},null,512),[[le,te.content]])]),s("div",pa,[s("button",{onClick:t[39]||(t[39]=o=>Ke.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Hs,class:"modal-btn",style:{background:"#8b5cf6",color:"white"}},"ğŸ’¾ ä¿å­˜ç¬”è®°")])])])):p("",!0),Ve.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[42]||(t[42]=m(o=>Ve.value=!1,["self"]))},[s("div",ha,[s("div",fa,[s("h3",_a,v(Te.title||"æ— æ ‡é¢˜ç¬”è®°"),1),s("div",ya,[s("button",{class:"icon-btn edit-switch-btn",onClick:Gs,title:"ä¿®æ”¹å†…å®¹"},"âœ"),s("button",{class:"icon-btn close-btn",onClick:t[41]||(t[41]=o=>Ve.value=!1)},"âœ•")])]),s("div",{class:"read-content markdown-body",innerHTML:wt(Te.content)},null,8,ga)])])):p("",!0),je.value?(r(),c("div",{key:5,class:"modal-overlay",onClick:t[49]||(t[49]=m(o=>je.value=!1,["self"]))},[s("div",ma,[s("div",ba,[s("h3",ka,v(F.value?"âœï¸ ç¼–è¾‘æ¨¡å¼":"ğŸ“œ æœ¬é¡µåŠ©è®°æ–‡ç«  (Part "+(D.value+1)+")"),1),s("div",xa,[F.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[44]||(t[44]=o=>F.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[43]||(t[43]=o=>F.value=!0),title:"ç¼–è¾‘å½“å‰æ–‡ç« "}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[45]||(t[45]=o=>je.value=!1)},"âœ•")])]),s("div",Ca,[s("div",wa,[Sa,s("div",$a,[(r(!0),c(ve,null,ke(M.value,(o,u)=>(r(),c("div",{key:u,class:S(["sidebar-item",{active:_e.value===u}]),onClick:a=>At(u)},[Ma,s("span",Ea,v(o.title||"æ— æ ‡é¢˜æ–‡ç« "),1)],10,Ia))),128))]),s("button",{class:"sidebar-add-btn",onClick:os}," + æ–°å¢æ–‡ç«  ")]),s("div",Aa,[F.value?(r(),c("div",Na,[s("div",Ra,[U(s("input",{type:"text","onUpdate:modelValue":t[46]||(t[46]=o=>ae.value.title=o),class:"modal-input-field",placeholder:"è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜...",style:{"font-weight":"bold"}},null,512),[[le,ae.value.title]])]),s("div",Ua,[s("div",Ba,[s("div",{class:"editor-toolbar"},[Ka,s("button",{class:"tiny-btn",onClick:is},"ğŸ¤– å¤åˆ¶ AI Prompt"),s("button",{class:"tiny-btn delete-btn",onClick:ls},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç¯‡")]),U(s("textarea",{"onUpdate:modelValue":t[47]||(t[47]=o=>ae.value.content=o),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0"},placeholder:"åœ¨æ­¤ç²˜è´´æ•…äº‹å†…å®¹..."},null,512),[[le,ae.value.content]])]),s("div",Va,[Fa,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:wt(ae.value.content)},null,8,Ja)])])])):(r(),c("div",Da,[s("h1",Ta,v(ae.value.title),1),ae.value.content?(r(),c("div",{key:0,innerHTML:wt(ae.value.content)},null,8,La)):(r(),c("div",za,Wa))]))])]),F.value?(r(),c("div",ja,[s("button",{onClick:t[48]||(t[48]=o=>F.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:as,class:"modal-btn",style:{background:"#f59e0b",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):p("",!0)])])):p("",!0)],64)}}},qa=Ys(Xa,[["__scopeId","data-v-39ef71d4"]]);export{qa as default};
