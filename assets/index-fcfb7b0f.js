import{_ as zo,d as p,e as De,f as U,w as ke,g as xt,h as ws,n as ot,c,a as s,i as k,j as E,u as he,k as f,l as B,v as Ao,t as v,m as Gt,p as xs,F as ie,r as pe,q as b,s as Y,x as Cs,y as Eo,z as Do,T as Lo,A as ne,B as we,o as r,C as No,D as Po,E as Oo}from"./index-480ba87a.js";import x from"./vocabulary-9de5e70b.js";import{marked as Wo}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";const h=nt=>(No("data-v-3200edee"),nt=nt(),Po(),nt),Uo={class:"app-root"},Bo={class:"tools-bar sticky-toolbar"},Ro={class:"bar-inner"},Go={class:"left-tools"},Vo={class:"mode-switch"},Ho={key:0,class:"dot"},Ko={class:"toggle-label"},jo=["title"],Jo={class:"middle-tools"},Fo={key:0,class:"selectors"},qo=["value"],Zo=["value"],Xo={key:0,title:"å…¨ä¹¦æ€»è¯æ±‡é‡"},Yo={class:"s-learn",title:"å¤ä¹ é˜Ÿåˆ—ä¸­"},Qo={class:"s-done",title:"å·²æ–©æ€+å·²é€šå…³"},en={class:"s-new",title:"å‰©ä½™å•è¯"},tn={class:"right-tools"},sn={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",fill:"currentColor"}},on=h(()=>s("path",{d:"M821.339582 0H202.660418C138.073033 0 85.483304 52.589729 85.483304 117.377075v789.24585c0 64.787346 52.589729 117.377075 117.377075 117.377075h618.479203c64.787346 0 117.377075-52.589729 117.377075-117.377075V117.377075C938.516696 52.589729 885.926967 0 821.339582 0zM182.064441 449.512205l105.579379-105.579379L182.064441 238.553408 244.652216 175.965632l105.579379 105.579379L455.611013 175.965632l62.587776 62.587776-105.579379 105.579379 105.579379 105.579379-62.587776 62.587775-105.579379-105.579379-105.579379 105.579379L182.064441 449.512205zM791.945323 781.847295H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993751s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993751z m0-127.975004H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993752s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993752z m2.599492-127.975005h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993752s14.397188-31.993751 31.993751-31.993751h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993751s-14.197227 31.993751-31.993752 31.993752z m0-117.377075h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993751s14.397188-31.993751 31.993751-31.993752h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993752 0 17.796524-14.197227 31.993751-31.993752 31.993751z m0-117.177114h-149.370826c-17.596563 0-31.993751-14.397188-31.993751-31.993751s14.397188-31.993751 31.993751-31.993751h149.370826c17.596563 0 31.993751 14.397188 31.993752 31.993751s-14.197227 31.993751-31.993752 31.993751zM791.945323 923.819566H216.057801c-18.99629 0-34.593244-14.397188-34.593243-31.993751s15.396993-31.993751 34.593243-31.993751h575.887522c18.99629 0 34.593244 14.397188 34.593244 31.993751s-15.396993 31.993751-34.593244 31.993751z","p-id":"1775"},null,-1)),nn=[on],ln=["value"],an={key:1,class:"pomo-time"},cn=["onClick"],rn={class:"modal-box"},un={class:"modal-icon"},dn={class:"modal-title"},vn={key:0,class:"modal-actions"},hn={key:1,class:"modal-actions"},pn={key:1,class:"header-table-row desktop-only"},fn={class:"grid-layout"},_n=h(()=>s("div",{class:"col-idx text-center"},"#",-1)),gn={class:"col-word header-word-col"},yn=["title"],mn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},bn=h(()=>s("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1)),kn=h(()=>s("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)),wn=[bn,kn],xn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Cn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),Sn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),$n=[Cn,Sn],In=h(()=>s("div",{class:"col-pos text-center"},"è¯æ€§",-1)),Mn={class:"col-zh header-zh-col"},Tn=["title"],zn={key:0,class:"col-ex"},An={key:1,class:"col-note"},En=h(()=>s("div",{class:"col-del text-center"},"åˆ ",-1)),Dn={class:"content-container"},Ln={key:0,class:"empty-tip"},Nn=["onClick"],Pn=h(()=>s("span",{style:{"font-weight":"800","margin-right":"4px"}},"P.",-1)),On={key:1,class:"note-placeholder",style:{color:"#9ca3af"}},Wn={class:"group-actions"},Un=["onClick"],Bn=["onClick"],Rn=["onClick"],Gn={style:{"font-weight":"bold","margin-right":"10px"}},Vn=["onClick","title"],Hn=["fill"],Kn=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),jn=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),Jn=[Kn,jn],Fn=h(()=>s("div",{style:{flex:"1"}},null,-1)),qn=["id"],Zn={class:"col-idx text-center index-num desktop-only"},Xn={class:"col-word"},Yn={class:"word-wrapper"},Qn={key:0,class:"word-cell-container"},el={class:"word-row-top"},tl=["onClick"],sl=["onClick"],ol=["onClick"],nl=["onClick"],ll=["onClick"],al=["onClick","title"],il={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},cl=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),rl=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),ul=[cl,rl],dl={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},vl=h(()=>s("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},null,-1)),hl=h(()=>s("circle",{cx:"12",cy:"10",r:"3"},null,-1)),pl=[vl,hl],fl={key:0,class:"source-container"},_l=["href","onClick"],gl=["href"],yl={key:1,class:"review-meta desktop-only"},ml={key:0,class:"tag-due"},bl={key:1,class:"tag-wait"},kl={key:1,class:"input-cell"},wl=["onClick"],xl={class:"input-col"},Cl=["onChange","onInput","onFocus","onKeydown"],Sl={key:0,class:"error-hint"},$l={key:1,class:"peek-hint"},Il=["onClick","title"],Ml={class:"mobile-only mobile-pos"},Tl=["onClick"],zl={class:"col-pos text-center italic desktop-only"},Al=["onClick"],El={key:0,class:"mobile-only mobile-notation"},Dl={key:0,class:"col-ex example-cell"},Ll={class:"ex-content"},Nl=["onClick"],Pl={key:1,class:"col-note notation-cell desktop-only"},Ol={class:"col-del text-center desktop-only"},Wl=["onClick","title"],Ul={key:1,class:"pagination-area"},Bl=["disabled"],Rl={class:"finish-control"},Gl={class:"page-info"},Vl=["disabled"],Hl=h(()=>s("div",{style:{height:"40px"}},null,-1)),Kl=h(()=>s("span",{class:"pad-title"},":: æ‹–æ‹½ ::",-1)),jl=h(()=>s("span",{class:"hint-text"},"â†˜ï¸å³ä¸‹è§’æ‹–åŠ¨è°ƒæ•´å¤§å°",-1)),Jl=h(()=>s("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"svg-icon"},[s("path",{d:"M512 64C264.512 64 64 264.576 64 512s200.512 448 448 448c247.424 0 448-200.576 448-448S759.424 64 512 64zM712.448 664.512c-11.776 0-22.784-3.072-32.448-8.384l-1.984 1.984L511.936 512l-162.112 145.472-1.344-1.344c-9.6 5.248-20.544 8.32-32.192 8.32-36.736 0-66.496-29.76-66.496-66.432 0-11.712 3.072-22.656 8.32-32.192L255.936 563.584l10.752-9.664c3.328-3.712 7.04-7.104 11.136-9.984l188.544-169.216 1.28 0C479.296 363.456 495.168 356.544 512.64 356.544s33.408 6.912 45.12 18.176l0.768 0 191.872 168.832c4.032 2.816 7.68 6.08 11.072 9.728l11.392 10.048-2.368 2.304c5.376 9.6 8.448 20.672 8.448 32.448C778.88 634.752 749.12 664.512 712.448 664.512z",fill:"currentColor"})],-1)),Fl=[Jl],ql={class:"cloud-wrapper"},Zl={key:0,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Xl=h(()=>s("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"},null,-1)),Yl=[Xl],Ql={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 1024 1024",fill:"currentColor"},ea=h(()=>s("path",{d:"M395.776 641.664a19.392 19.392 0 0 0-6.368-12.384l-36.672-32.416a190.496 190.496 0 0 1 87.328-70.88c47.52-19.2 99.776-18.72 146.944 1.28s83.776 57.28 103.008 104.8a31.936 31.936 0 0 0 41.632 17.696 31.936 31.936 0 0 0 17.696-41.632 254.208 254.208 0 0 0-137.312-139.776 254.56 254.56 0 0 0-195.936-1.728 253.984 253.984 0 0 0-111.552 87.616l-37.408-33.088a19.168 19.168 0 0 0-31.808 16.384l12.576 119.68a19.2 19.2 0 0 0 21.088 17.088l109.696-11.52a19.2 19.2 0 0 0 17.088-21.12zM757.92 729.088l-109.216 15.36a19.2 19.2 0 0 0-9.536 33.856l34.496 28.416a190.816 190.816 0 0 1-236.672 74.016 190.592 190.592 0 0 1-102.976-104.768 32 32 0 1 0-59.36 23.936 254.272 254.272 0 0 0 137.344 139.776 255.232 255.232 0 0 0 100 20.48 255.744 255.744 0 0 0 95.904-18.752 254.592 254.592 0 0 0 115.872-93.408l41.408 34.112a19.2 19.2 0 0 0 31.2-17.472l-16.736-119.168a19.264 19.264 0 0 0-21.728-16.384z"},null,-1)),ta=h(()=>s("path",{d:"M808.192 262.592a320.16 320.16 0 0 0-592.352 0A238.592 238.592 0 0 0 32 496a240.32 240.32 0 0 0 130.976 213.888 32 32 0 1 0 29.12-57.024A176.192 176.192 0 0 1 96 496a175.04 175.04 0 0 1 148.48-173.888l19.04-2.976 6.24-18.24C305.248 197.472 402.592 128 512 128a256 256 0 0 1 242.208 172.896l6.272 18.24 19.04 2.976A175.04 175.04 0 0 1 928 496a176.128 176.128 0 0 1-96.128 156.896 32.064 32.064 0 0 0 29.12 57.024A240.416 240.416 0 0 0 992 496a238.592 238.592 0 0 0-183.808-233.408z"},null,-1)),sa=[ea,ta],oa={key:0,class:"cloud-sub-menu"},na={class:"dash-header"},la=h(()=>s("span",{class:"dash-title"},"æ•°æ®åŒæ­¥çŠ¶æ€",-1)),aa={key:0,class:"dash-loading"},ia=h(()=>s("svg",{class:"animate-spin",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[s("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})],-1)),ca={class:"dash-grid"},ra={class:"dash-item local"},ua=h(()=>s("div",{class:"item-label"},"ğŸ’» æœ¬åœ°ç‰ˆæœ¬",-1)),da={class:"item-time"},va={class:"dash-connector"},ha={key:0,class:"icon-update"},pa={key:1,class:"icon-idle"},fa=h(()=>s("div",{class:"item-label"},"Github Gist",-1)),_a={class:"item-time"},ga={key:0,class:"dash-footer update-mode"},ya={key:1,class:"dash-footer safe-mode"},ma=["disabled"],ba=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})],-1)),ka=[ba],wa=["title","disabled"],xa=h(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM12 17l-5-5h3V8h4v4h3l-5 5z"})],-1)),Ca=[xa],Sa={class:"modal-box",style:{"max-width":"360px"}},$a=h(()=>s("h3",{class:"modal-title"},"âœï¸ æ·»åŠ æ–°è¯",-1)),Ia={style:{margin:"20px 0"}},Ma=["onKeydown"],Ta={class:"modal-actions"},za={class:"modal-box",style:{"max-width":"360px"}},Aa=h(()=>s("h3",{class:"modal-title"},"ğŸ“– è¡¥å……é‡Šä¹‰",-1)),Ea={style:{color:"#666","font-size":"14px","margin-bottom":"10px"}},Da={style:{margin:"15px 0"}},La=["onKeydown"],Na={class:"modal-actions"},Pa={key:5,class:"modal-overlay",style:{background:"rgba(0,0,0,0.3)","z-index":"3000"}},Oa={class:"modal-box",style:{"max-width":"300px",padding:"30px 20px"}},Wa=h(()=>s("div",{style:{"font-size":"40px","margin-bottom":"10px"}},"ğŸ‰",-1)),Ua={style:{margin:"0",color:"#374151"}},Ba={class:"modal-box",style:{"max-width":"360px","text-align":"left"}},Ra=h(()=>s("h3",{class:"modal-title",style:{"text-align":"center"}},"ğŸ› ï¸ ä¿®æ”¹å•è¯",-1)),Ga={style:{"margin-bottom":"15px"}},Va=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"è‹±æ–‡æ‹¼å†™",-1)),Ha={style:{"margin-bottom":"20px"}},Ka=h(()=>s("label",{style:{display:"block",color:"#666","font-size":"12px","margin-bottom":"5px"}},"ä¸­æ–‡é‡Šä¹‰",-1)),ja={class:"modal-actions"},Ja={class:"modal-box stats-box"},Fa={class:"stats-header"},qa=h(()=>s("h3",null,"ğŸ“ˆ å­¦ä¹ æ•°æ®çœ‹æ¿",-1)),Za={class:"stats-switcher"},Xa={class:"stats-summary"},Ya={class:"summary-item"},Qa={class:"num"},ei=h(()=>s("div",{class:"label"},"ä¸“æ³¨(åˆ†)",-1)),ti={class:"summary-item"},si={class:"num",style:{color:"#10b981"}},oi=h(()=>s("div",{class:"label"},"ä»Šæ—¥å­¦ä¹ ",-1)),ni={class:"summary-item"},li={class:"num",style:{color:"#3b82f6"}},ai=h(()=>s("div",{class:"label"},"ä»Šæ—¥å¤ä¹ ",-1)),ii={class:"summary-item"},ci={class:"num",style:{color:"#ef4444"}},ri=h(()=>s("div",{class:"label"},"ä»Šæ—¥æ–©æ€",-1)),ui={class:"chart-container"},di={class:"modal-box search-box-modal"},vi={class:"search-header"},hi=["onKeydown"],pi={class:"search-results-list"},fi={key:0,class:"empty-tip-text"},_i={key:1,class:"empty-tip-text"},gi=["onClick","onMouseenter"],yi={class:"si-left"},mi={class:"si-en"},bi=["onClick"],ki={class:"si-zh"},wi={class:"si-right"},xi={class:"si-source"},Ci={class:"modal-box read-card-modal",style:{height:"80vh",display:"flex","flex-direction":"column",padding:"0"}},Si={class:"read-header"},$i={class:"read-title"},Ii={class:"read-actions"},Mi={style:{flex:"1",display:"flex",overflow:"hidden"}},Ti={class:"story-sidebar"},zi=h(()=>s("div",{class:"sidebar-header"},"è¾¨æåˆ†ç»„",-1)),Ai={class:"sidebar-list"},Ei=["onClick"],Di={class:"item-icon"},Li={class:"item-title"},Ni={class:"story-content-area"},Pi={key:0,class:"markdown-body story-reader"},Oi={style:{"margin-top":"0","border-bottom":"1px solid #eee","padding-bottom":"10px"}},Wi=["innerHTML"],Ui={key:1,class:"empty-story-tip"},Bi=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ’¡",-1)),Ri=h(()=>s("div",null,[E("æ­¤åˆ†ç»„æš‚æ— å†…å®¹"),s("br"),E("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),E(" å¼€å§‹è®°å½•")],-1)),Gi=[Bi,Ri],Vi={key:1,class:"story-editor-layout"},Hi={style:{"margin-bottom":"10px"}},Ki=h(()=>s("label",{style:{"font-size":"12px",color:"#666","font-weight":"bold"}},"åˆ†ç»„æ ‡é¢˜",-1)),ji={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},Ji={style:{flex:"1",display:"flex","flex-direction":"column"}},Fi=h(()=>s("span",null,"Markdown å†…å®¹",-1)),qi={class:"desktop-only preview-pane"},Zi=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),Xi=["innerHTML"],Yi={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},Qi={class:"modal-box read-card-modal",style:{height:"85vh",display:"flex","flex-direction":"column",padding:"0"}},ec={class:"read-header"},tc={class:"read-title"},sc={class:"read-actions"},oc={style:{flex:"1",display:"flex",overflow:"hidden"}},nc={class:"story-sidebar"},lc=h(()=>s("div",{class:"sidebar-header"},"æ–‡ç« åˆ—è¡¨",-1)),ac={class:"sidebar-list"},ic=["onClick"],cc=h(()=>s("span",{class:"item-icon"},"ğŸ“„",-1)),rc={class:"item-title"},uc={class:"story-content-area"},dc={key:0,class:"markdown-body story-reader"},vc={class:"story-page-title"},hc=["innerHTML"],pc={key:1,class:"empty-story-tip"},fc=h(()=>s("div",{style:{"font-size":"40px"}},"ğŸ“",-1)),_c=h(()=>s("div",null,[E("æœ¬ç¯‡æ–‡ç« æš‚æ— å†…å®¹"),s("br"),E("ç‚¹å‡»å³ä¸Šè§’ "),s("b",null,'"âœ ç¼–è¾‘"'),E(" å¼€å§‹å†™ä½œ")],-1)),gc=[fc,_c],yc={key:1,class:"story-editor-layout"},mc={style:{"margin-bottom":"10px"}},bc={style:{flex:"1",display:"flex",gap:"15px","min-height":"0"}},kc={style:{flex:"1",display:"flex","flex-direction":"column"}},wc=h(()=>s("span",null,"Markdown ç¼–è¾‘",-1)),xc={class:"desktop-only preview-pane"},Cc=h(()=>s("div",{class:"editor-toolbar"},"å®æ—¶é¢„è§ˆ",-1)),Sc=["innerHTML"],$c={key:0,class:"modal-actions",style:{padding:"10px 20px","border-top":"1px solid #eee",margin:"0"}},Ic={class:"modal-box",style:{"max-width":"400px","text-align":"left"}},Mc=h(()=>s("h3",{class:"modal-title"},"â˜ï¸ GitHub äº‘åŒæ­¥é…ç½®",-1)),Tc=h(()=>s("p",{style:{"font-size":"12px",color:"#666","margin-bottom":"15px","line-height":"1.5"}},[E(" åˆ©ç”¨ GitHub Gist å®ç°å…è´¹ç§æœ‰äº‘åŒæ­¥ã€‚"),s("br"),E(" æ•°æ®å­˜å‚¨åœ¨æ‚¨è‡ªå·±çš„ GitHub è´¦å·ä¸­ï¼Œå®‰å…¨å¯æ§ã€‚ ")],-1)),zc={style:{"margin-bottom":"15px"}},Ac=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"GitHub Token (å‹¾é€‰ gist æƒé™)",-1)),Ec={style:{"margin-bottom":"20px"}},Dc=h(()=>s("label",{style:{display:"block","font-size":"12px","font-weight":"bold","margin-bottom":"5px"}},"Gist ID (æµè§ˆå™¨åœ°å€æ æœ€åä¸€æ®µ)",-1)),Lc={class:"modal-actions"},Nc=h(()=>s("div",{style:{"margin-top":"15px","font-size":"12px",color:"#999","text-align":"center"}}," é…ç½®ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚ ",-1)),Pc={class:"modal-box",style:{"max-width":"600px",height:"80vh",padding:"0",display:"flex","flex-direction":"column"}},Oc={class:"mistake-header"},Wc={style:{display:"flex","align-items":"center",gap:"10px"}},Uc={class:"mistake-modal-title"},Bc={style:{display:"flex","align-items":"center",gap:"15px"}},Rc={class:"toggle-pill-group"},Gc={style:{flex:"1","overflow-y":"auto",padding:"0"}},Vc={class:"mistake-table"},Hc=h(()=>s("thead",{class:"mistake-thead"},[s("tr",null,[s("th",{style:{width:"45%"}},"å•è¯ / é‡Šä¹‰"),s("th",{style:{width:"25%","text-align":"center"}},"ç´¯è®¡é”™è¯¯"),s("th",{style:{width:"30%","text-align":"right"}},"æ“ä½œ")])],-1)),Kc={style:{"font-size":"12px",color:"#6b7280","margin-top":"2px"}},jc={style:{"text-align":"center"}},Jc={style:{"text-align":"right"}},Fc=["onClick"],qc={key:0},Zc={colspan:"3",style:{"text-align":"center",padding:"60px 20px",color:"#9ca3af"}},Xc={style:{"font-size":"40px","margin-bottom":"10px"}},Yc={key:0},Qc=h(()=>s("br",null,null,-1)),er=h(()=>s("span",{style:{"font-size":"12px"}},"(å¿«å»çœ‹çœ‹â€œå·²æ”»å…‹â€é‡Œæœ‰æ²¡æœ‰ä½ çš„æˆ˜åˆ©å“)",-1)),tr={key:1},sr=h(()=>s("br",null,null,-1)),or=h(()=>s("span",{style:{"font-size":"12px"}},"(åŠ æ²¹ï¼ŒæŠŠé‚£äº›é”™è¯éƒ½â€œæ–©æ€â€æ‰ï¼)",-1)),nr={class:"mistake-footer"},lr=["disabled"],ar={style:{"font-size":"14px",color:"#374151","font-weight":"bold"},class:k({"dark-text-white":!0})},ir=["disabled"],cr="/my-ielts/timeout.mp3",rr="/my-ielts/do.mp3",Vt=20,ur={__name:"index",setup(nt){const Ss=e=>{new Audio(e).play().catch(o=>console.log("äº¤äº’å—é™:",o))},Ht=["#ef4444","#3b82f6","#f59e0b","#8b5cf6","#10b981","#ec4899","#06b6d4","#f97316","#6366f1","#84cc16","#d946ef"],$s=["#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6"],q=(e,t)=>{const o=p(t);return xt(()=>{try{const l=localStorage.getItem(e);l&&(o.value=JSON.parse(l))}catch{}}),ke(o,l=>localStorage.setItem(e,JSON.stringify(l)),{deep:!0}),o},Ct=x?Object.keys(x):[],I=q("my_ielts_chapter",Ct[0]||""),y=q("my_ielts_review",[]),L=q("my_ielts_killed",[]),M=q("my_ielts_mastered",[]),ce=q("my_ielts_completed_parts",{}),C=q("my_ielts_custom_dict",{}),He=q("my_ielts_audio_peek_history",[]),Q=q("my_ielts_group_notes",{}),N=p(!1),_=p(!1),P=p(0),Le=De({}),Ke=[5,30,720,1440,2880,5760],Ne=p([]),O=De(new Set),re=De(new Set),Is=e=>{re.has(e)?re.delete(e):re.add(e)},Ms=e=>{O.has(e)?O.delete(e):O.add(e)},Kt=e=>{const t=Array.from(document.querySelectorAll(".dictation-input")),o=t.indexOf(e.target);e.shiftKey?o>0&&(t[o-1].focus(),setTimeout(()=>t[o-1].select(),10)):o>-1&&o<t.length-1?t[o+1].focus():e.target.blur()},je=q("my_ielts_page_stories",{}),lt=p(!1),W=p([]),xe=p(0),ee=p(!1),jt=()=>`${I.value}_Part${P.value}`,Ts=()=>{const e=jt(),t=je.value[e];t?t.content&&!Array.isArray(t)?W.value=[{title:"æ–‡ç«  1",content:t.content}]:Array.isArray(t)?W.value=JSON.parse(JSON.stringify(t)):W.value=[{title:"æ–‡ç«  1",content:""}]:W.value=[{title:"æ–‡ç«  1",content:""}],xe.value=0,ee.value=!W.value[0].content,lt.value=!0},Jt=e=>{xe.value=e,ee.value=!W.value[e].content},zs=()=>{const e=W.value.length;W.value.push({title:`æ–‡ç«  ${e+1}`,content:""}),Jt(e),ee.value=!0},As=()=>{if(W.value.length<=1){W.value[0].content="",W.value[0].title="æ–‡ç«  1",V("å·²æ¸…ç©ºå†…å®¹");return}confirm("ç¡®å®šè¦åˆ é™¤è¿™ç¯‡æ–‡ç« å—ï¼Ÿ")&&(W.value.splice(xe.value,1),xe.value>=W.value.length&&(xe.value=W.value.length-1))},Es=()=>{const e=jt();je.value={...je.value,[e]:W.value},ee.value=!1,V("æœ¬é¡µæ‰€æœ‰æ–‡ç« å·²ä¿å­˜ ğŸ’¾")},fe=U(()=>W.value[xe.value]||{title:"",content:""}),Ds=()=>{const e=[];if(_e.value.forEach(o=>{o.list&&o.list.forEach(l=>e.push(l.en))}),e.length===0)return;const t=`Please write a short, interesting story (about 150-200 words) using the following vocabulary. Highlight the vocabulary words in bold within the story.

Words: ${e.join(", ")}`;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{V("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),V("æç¤ºè¯å·²å¤åˆ¶ï¼å»é—® AI å§ ğŸ¤–")}},Ce=p(!1),K=De(new Set),Ls=()=>{Ce.value=!Ce.value,Ce.value||K.clear()},Ns=e=>{K.has(e)?K.delete(e):K.add(e)};ke([I,P,_,N],()=>{O.clear(),re.clear(),K.clear()}),ke([I,P,_,N],()=>{O.clear(),re.clear()});const at=U(()=>{if(_e.value.length===0)return!1;const e=[];return _e.value.forEach(t=>t.list.forEach(o=>e.push(o.en))),e.length>0&&e.every(t=>O.has(t))}),Ft=()=>{const e=[];_e.value.forEach(o=>o.list.forEach(l=>e.push(l.en))),e.every(o=>O.has(o))?O.clear():e.forEach(o=>O.add(o))},Je=e=>e?Array.isArray(e)?Je(e[0]):String(e):"",it=e=>{if(!e)return"";if(Array.isArray(e)){const o=[];return e[4]&&typeof e[4]=="string"&&e[4]!=="-"&&o.push(e[4]),e[5]&&typeof e[5]=="string"&&e[5]!=="-"&&o.push(e[5]),o.join("; ")}if(e.notation)return e.notation;if(e.phrase)return e.phrase;if(e.phrases)return e.phrases;if(e.collocation)return e.collocation;if(e.collocations)return e.collocations;if(e.extend)return e.extend;if(e.extension)return e.extension;if(e.note)return e.note;if(e.usage)return e.usage;if(e.æ‹“å±•)return e.æ‹“å±•;if(e.æ­é…)return e.æ­é…;if(e.çŸ­è¯­)return e.çŸ­è¯­;const t=Object.keys(e);for(const o of t){const l=o.toLowerCase();if((l.includes("not")||l.includes("phr")||l.includes("coll")||l.includes("ext"))&&typeof e[o]=="string"&&l!=="pronunciation"&&l!=="uk_audio"&&l!=="us_audio")return e[o]}return""},St=e=>{if(C.value[e])return{en:e,zh:C.value[e].zh,pos:"è‡ªé€‰",example:"",notation:"æˆ‘çš„ç”Ÿè¯æœ¬",id:"â˜…",source:"ç”Ÿè¯æœ¬"};let t=0;for(const o in x){const l=x[o].words||x[o].list||[];let i=0,d=0;const n=35,u=45;for(let a=0;a<l.length;a++){const g=l[a];let $=0;for(const m of g)$++;const A=d+$;d>0&&(d>=n||A>u)&&(i++,d=0);for(const m of g){let w="",oe="",H="",be="",wt="";Array.isArray(m)?(w=m[0],oe=m[1]||"",H=m[2]||"",be=m[3]||"",wt=it(m)):(w=m.word||m.en,oe=m.pos||"",H=m.meaning||m.trans||m.zh||"",be=m.example||"",wt=it(m));const ks=Je(w);if(t++,ks===e)return{en:ks,zh:H,pos:oe,example:be,notation:wt,id:t,source:`${o} Part ${i+1}`}}d+=$}}return{en:e,zh:"æœªæ‰¾åˆ°é‡Šä¹‰",pos:"",example:"",notation:"",id:"-",source:"æœªçŸ¥"}},Ps=U(()=>{let e=0;for(const t in x)(x[t].words||x[t].list||[]).forEach(l=>e+=l.length);return e}),ct=U(()=>{const e=Ps.value,t=y.value.length,o=new Set([...L.value,...M.value]).size,l=Math.max(0,e-t-o);return{total:e,learning:t,learned:o,unlearned:l}}),Os=U(()=>{const e={};let t=0;for(const o of Ct){e[o]=t;const l=x[o];(l.words||l.list||[]).forEach(d=>d.forEach(n=>{t++}))}return e}),Ws=U(()=>{if(!I.value||!x[I.value])return[];const e=x[I.value].words||x[I.value].list||[];let t=[],o=Os.value[I.value]||0;return e.forEach((l,i)=>{const d=Ht[i%Ht.length];let n=[];l.forEach(u=>{let a="",g="",$="",A="",m="";Array.isArray(u)?(a=u[0],g=u[1]||"",$=u[2]||"",A=u[3]||"",m=it(u)):(a=u.word||u.en,g=u.pos||"",$=u.meaning||u.trans||u.zh||"",A=u.example||"",m=it(u));const w=Je(a);o++;const oe=M.value.includes(w),H=L.value.includes(w);n.push({_id:o,en:w,zh:$,pos:g,example:A,notation:m,_color:d,_groupId:i,_isMastered:oe,_isKilled:H})}),n.length>0&&t.push(n)}),t}),Pe=U(()=>{if(_.value)return[];const e=Ws.value,t=35,o=45;let l=[],i=[],d=0;return e.forEach(n=>{const u=d+n.length;d>0&&(d>=t||u>o)&&(l.push(i),i=[],d=0),i.push(...n),d+=n.length}),i.length>0&&l.push(i),l}),Us=U(()=>_.value?["å…¨éƒ¨é”™é¢˜"]:Pe.value.map((e,t)=>{var n;if(!e||e.length===0)return`Part ${t+1}`;const o=e[0]._id,l=e[e.length-1]._id,i=e.length,d=(n=ce.value[I.value])==null?void 0:n.includes(t);return`Part ${t+1} (${o}-${l}) ${i}ä¸ª ${d?"âœ”":""}`})),Bs=e=>{const t=x[e];if(!t)return 0;const o=t.words||t.list||[],l=35,i=45;let d=0,n=0;return o.forEach(u=>{const a=u.length,g=n+a;n>0&&(n>=l||g>i)&&(d++,n=0),n+=a}),n>0&&d++,d},Rs=U(()=>Ct.map(e=>{const t=Bs(e),l=(ce.value[e]||[]).length,i=t>0&&l>=t;return{value:e,label:e,isDone:i}})),_e=U(()=>{if(_.value){const i=Ne.value,d={5:[],4:[],3:[],2:[],1:[],0:[]};i.forEach((a,g)=>{const $=a.stage>=6?5:a.stage||0;d[$]&&d[$].push({...St(a.w),_review:a,_id:g+1})});const n=[],u=["é˜¶æ®µ 1 - æ–°æ‰‹/é‡æ¥ (5åˆ†é’Ÿ)","é˜¶æ®µ 2 - å…¥é—¨ (30åˆ†é’Ÿ)","é˜¶æ®µ 3 - ç†Ÿæ‚‰ (12å°æ—¶)","é˜¶æ®µ 4 - æŒæ¡ (1å¤©)","é˜¶æ®µ 5 - ç‰¢å›º (2å¤©)","é˜¶æ®µ 6 - å¤§å¸ˆ (4å¤©+)"];for(let a=5;a>=0;a--)d[a].length>0&&n.push({color:$s[a],title:`ğŸ”¥ ${u[a]} [${d[a].length}ä¸ª]`,list:d[a]});return n}const e=Pe.value[P.value]||[];if(e.length===0)return[];let t=[],o=null,l=-999;return e.forEach(i=>{i._groupId!==l&&(o={color:i._color,list:[],groupId:i._groupId},t.push(o),l=i._groupId),o.list.push(i)}),t});function $t(){if(!_.value)return;const e=y.value.filter(t=>t.time<=Date.now());Ne.value=JSON.parse(JSON.stringify(e));for(const t in Le)delete Le[t];O.clear(),re.clear(),K.clear(),ot(()=>{document.querySelectorAll(".dictation-input").forEach(o=>{o.value="",o.classList.remove("correct","error")})})}ke(_,e=>{if(e){const t=y.value.filter(o=>o.time<=Date.now());Ne.value=JSON.parse(JSON.stringify(t))}else Ne.value=[]},{immediate:!0}),ke(y,e=>{if(_.value&&Ne.value.length===0){const t=e.filter(o=>o.time<=Date.now());Ne.value=JSON.parse(JSON.stringify(t))}});let Fe=!1;ke(I,()=>{Fe||(P.value=0,_.value=!1)});const Z=p(null),j=p(null),qe=e=>{const t="Mywonn",o="my-ielts",l="master";if(O.has(e)&&!He.value.includes(e)&&He.value.push(e),j.value===e){Z.value&&(Z.value.pause(),Z.value=null),window.speechSynthesis.cancel(),j.value=null;return}Z.value&&(Z.value.pause(),Z.value=null),window.speechSynthesis.cancel();const i=()=>{j.value=e;const a=new SpeechSynthesisUtterance(e);a.lang="en-US",a.volume=1,a.rate=.85;const g=window.speechSynthesis.getVoices(),$=g.find(A=>A.name.includes("Google US"))||g.find(A=>A.lang.includes("en-US"));$&&(a.voice=$),a.onend=()=>{j.value=null},a.onerror=A=>{console.error("TTS Error:",A),j.value=null},window.speechSynthesis.speak(a)};if(C.value[e]){j.value=e,i();return}let d=I.value;if(_.value&&x){for(const a in x)if((x[a].words||x[a].list||[]).some(A=>A.some(m=>{const w=Array.isArray(m)?m[0]:m.word||m.en;return Je(w)===e}))){d=a;break}}const n=`https://cdn.jsdelivr.net/gh/${t}/${o}@${l}/public/vocabulary/audio/${d}/${e}.mp3`;console.log("CDNæ’­æ”¾:",n);const u=new Audio(n);Z.value=u,j.value=e,u.onerror=()=>{console.warn("CDN èµ„æºæœªæ‰¾åˆ°æˆ–åŠ è½½å¤±è´¥ï¼Œè‡ªåŠ¨é™çº§ä¸º TTS"),Z.value=null,i()},u.onended=()=>{j.value=null,Z.value=null},u.play().catch(a=>{console.log("æ’­æ”¾è¢«æ‹¦æˆªæˆ–å¤±è´¥ï¼Œè½¬TTS",a),i()})},Gs=e=>{j.value!==e&&(O.has(e)||qe(e))},Vs=e=>{if(!e)return console.warn("æ²¡æœ‰æ–‡æœ¬å¯è¯»");Z.value&&(Z.value.pause(),Z.value=null),j.value=null,window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.9,t.volume=1;const o=window.speechSynthesis.getVoices(),l=o.find(i=>i.name.includes("Google US"))||o.find(i=>i.lang.includes("en-US"));l&&(t.voice=l),window._debug_utterance=t,t.onerror=i=>{console.error("æœ—è¯»æŠ¥é”™:",i),i.error!=="canceled"&&i.error!=="interrupted"&&alert("è¯­éŸ³æ’­æ”¾å‡ºé”™: "+i.error)},setTimeout(()=>{window.speechSynthesis.speak(t),console.log("æ­£åœ¨æ’­æ”¾:",e,"ä½¿ç”¨è¯­éŸ³:",l?l.name:"ç³»ç»Ÿé»˜è®¤")},10)};function Hs(e,t){let o=t.target.value.trim().toLowerCase(),l=e.en.toLowerCase();const i=n=>n.replace(/[\u2018\u2019`]/g,"'").replace(/\s+/g," "),d=i(o)===i(l);if(Le[e.en]=d?"correct":"error",d){if(O.has(e.en)||O.add(e.en),!_.value){Be("learn",1),M.value.includes(e.en)||(M.value.push(e.en),Be("kill",1));const u=y.value.findIndex(a=>a.w===e.en);u>-1&&y.value.splice(u,1);return}const n=y.value.findIndex(u=>u.w===e.en);if(n>-1){Be("review",1);const u=y.value[n];u.stage+=1,u.stage>=Ke.length?(y.value.splice(n,1),L.value.includes(e.en)||(L.value.push(e.en),Be("kill",1))):(u.time=Date.now()+Ke[u.stage]*6e4,y.value=[...y.value])}}else if(O.has(e.en)||O.add(e.en),_.value){const n=y.value.findIndex(u=>u.w===e.en);n>-1&&(y.value[n].stage=0,y.value[n].time=Date.now()+Ke[0]*6e4,y.value[n].failCount=(y.value[n].failCount||0)+1)}else{M.value.includes(e.en)&&(M.value=M.value.filter(u=>u!==e.en));const n=y.value.find(u=>u.w===e.en);n?(n.failCount=(n.failCount||0)+1,n.stage=0,n.time=Date.now()+Ke[0]*6e4):y.value.push({w:e.en,stage:0,time:Date.now()+Ke[0]*6e4,failCount:1})}}const qt=e=>{if(L.value.includes(e)){if(!confirm(`ç¡®å®šè¦æ’¤é”€æ–©æ€ï¼Œæ¢å¤ "${e}" å—ï¼Ÿ`))return;L.value=L.value.filter(o=>o!==e),V(`"${e}" å·²æ¢å¤ ğŸº`);return}if(!confirm(`ç¡®å®šè¦æ–©æ€ "${e}" å—ï¼Ÿ
(å®ƒå°†å˜ä¸ºç´«è‰²å½’æ¡£çŠ¶æ€)`))return;L.value.push(e),Be("kill",1);const t=y.value.findIndex(o=>o.w===e);t>-1&&y.value.splice(t,1),M.value.includes(e)&&(M.value=M.value.filter(o=>o!==e))};function Ks(){const e={k:L.value,r:y.value,c:ce.value,m:M.value,d:C.value,s:R.value,n:Q.value},t=new Blob([JSON.stringify(e)],{type:"application/json"}),o=URL.createObjectURL(t),l=document.createElement("a");l.href=o,l.download=`ielts_data_${new Date().toISOString().slice(0,10)}.json`,l.click()}const js=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{});else{const t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}};function Js(){document.getElementById("fileInput").click()}function Fs(e){const t=e.target.files[0];if(!t)return;const o=new FileReader;o.onload=l=>{try{const i=JSON.parse(l.target.result);(i.k||i.r||i.d)&&(i.k&&(L.value=i.k),i.r&&(y.value=i.r),i.c&&(ce.value=i.c),i.m&&(M.value=i.m),i.d&&(C.value=i.d),i.s&&(R.value=i.s),i.n&&(Q.value=i.n),alert("åŒæ­¥æˆåŠŸ"),location.reload())}catch{alert("æ–‡ä»¶æ ¼å¼é”™è¯¯")}},o.readAsText(t),e.target.value=""}const Se=p(!1),rt=p(""),Oe=p(!1),ut=p(""),dt=p(""),It=p(!1),Zt=p("");p(!1);const We=p(!1),Mt=p(null);let vt=null;const Ue=p("week"),R=q("my_ielts_stats_history",{}),Ze=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Be=(e,t=1)=>{const o=Ze();R.value[o]||(R.value[o]={duration:0,review:0,kill:0,add:0}),typeof R.value[o][e]>"u"&&(R.value[o][e]=0),R.value[o][e]+=t,R.value={...R.value}},Xt=async()=>{if(Mt.value){vt&&(vt.destroy(),vt=null);try{const{Chart:e,registerables:t}=await Oo(()=>import("https://cdn.jsdelivr.net/npm/chart.js/+esm"),[],import.meta.url);e.register(...t);const o=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark"),l=o?"#cbd5e1":"#666",i=o?"#334155":"#e5e7eb",d=Ue.value==="week"?7:30,n=[],u=[],a=[],g=[],$=[],A=new Date;for(let m=d-1;m>=0;m--){const w=new Date(A.getTime()-m*24*60*60*1e3),oe=`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`;n.push(String(w.getDate())+"æ—¥");const H=R.value[oe]||{duration:0,review:0,learn:0,kill:0};u.push(Math.round(H.duration/60)),a.push(H.review||0),g.push(H.learn||0),$.push(H.kill||0)}vt=new e(Mt.value,{type:"bar",data:{labels:n,datasets:[{label:"æ–°å­¦ (ä¸ª)",data:g,backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"#10b981",borderWidth:1,yAxisID:"y",order:4,stack:"combined"},{label:"å¤ä¹  (ä¸ª)",data:a,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"#3b82f6",borderWidth:1,yAxisID:"y",order:3,stack:"combined"},{label:"æ–©æ€ (ä¸ª)",data:$,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"#ef4444",borderWidth:1,yAxisID:"y",order:2,stack:"combined"},{type:"line",label:"ä¸“æ³¨ (åˆ†)",data:u,borderColor:"#f59e0b",backgroundColor:"#f59e0b",borderWidth:2,pointRadius:3,tension:.3,yAxisID:"y1",order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:l},grid:{color:i}},y:{type:"linear",display:!0,position:"left",stacked:!0,title:{display:!0,text:"å•è¯é‡",color:l},ticks:{color:l},grid:{color:i}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"åˆ†é’Ÿ",color:l},ticks:{color:l}}}}})}catch(e){console.error("å›¾è¡¨åŠ è½½å¤±è´¥:",e)}}};ke(We,e=>{e&&setTimeout(Xt,100)}),ke(Ue,()=>{We.value&&Xt()});function qs(){rt.value="",Se.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("custom-word-input"))==null?void 0:e.focus()},100)}function Yt(){const e=rt.value;if(!e||!e.trim()){Se.value=!1;return}const t=e.trim();Se.value=!1,setTimeout(()=>{St(t).zh==="æœªæ‰¾åˆ°é‡Šä¹‰"?(dt.value=t,ut.value="",Oe.value=!0,setTimeout(()=>{var l;return(l=document.getElementById("custom-meaning-input"))==null?void 0:l.focus()},100)):es(t)},200)}function Qt(){const e=ut.value.trim();e&&(Oe.value=!1,C.value={...C.value,[dt.value]:{zh:e}},es(dt.value))}function es(e){Se.value=!1,Oe.value=!1;const t=y.value.findIndex(o=>o.w===e);t>-1?(y.value[t].stage=0,y.value[t].time=Date.now(),V(`"${e}" å·²é‡ç½®å¤ä¹ è¿›åº¦ï¼ğŸ”„`)):(y.value.push({w:e,stage:0,time:Date.now()}),V(`"${e}" å·²åŠ å…¥å¤ä¹ ï¼âœ…`)),_.value&&$t()}function V(e){Zt.value=e,It.value=!0,setTimeout(()=>{It.value=!1},1500)}const Xe=p(!1),le=De({oldWord:"",newWord:"",newZh:""}),Zs=e=>{le.oldWord=e.en,le.newWord=e.en,le.newZh=e.zh,Xe.value=!0},Xs=()=>{const e=le.oldWord,t=le.newWord.trim(),o=le.newZh.trim();if(!t)return alert("å•è¯ä¸èƒ½ä¸ºç©º");if(e===t)C.value[e]?C.value[e].zh=o:C.value={...C.value,[e]:{zh:o}},V("é‡Šä¹‰å·²æ›´æ–°");else{if(C.value[e]){const i={...C.value};delete i[e],i[t]={zh:o},C.value=i}else C.value={...C.value,[t]:{zh:o}};const l=y.value.findIndex(i=>i.w===e);l>-1&&(y.value[l].w=t),L.value.includes(e)&&(L.value=L.value.filter(i=>i!==e),L.value.push(t)),M.value.includes(e)&&(M.value=M.value.filter(i=>i!==e),M.value.push(t)),V(`å·²ä¿®æ­£: ${e} -> ${t}`)}_.value&&$t(),Xe.value=!1},$e=p(!1),ht=p(window.innerWidth-320-5),Tt=p(window.innerHeight*.26),ae=p(null);let T=null,zt=!1,At=!1,ts=0,ss=0,Re=null;const os=e=>{const t=ae.value;if(!t)return{x:0,y:0};const o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}},Et=()=>{if(!ae.value)return;const e=ae.value,t=e.getBoundingClientRect(),o=Math.ceil(t.width),l=Math.ceil(t.height);o<1||l<1||(e.width!==o||e.height!==l?(e.width=o,e.height=l,T=e.getContext("2d"),T&&(T.strokeStyle="#ffffff",T.lineWidth=3,T.lineCap="round",T.lineJoin="round")):T||(T=e.getContext("2d")))},Ys=e=>{if(Ie.value||(e.cancelable&&e.preventDefault(),!ae.value)||(T||Et(),!T))return;if(zt=!0,e.target.setPointerCapture&&e.pointerId)try{e.target.setPointerCapture(e.pointerId)}catch{}T.strokeStyle="#ffffff",T.lineWidth=3,T.beginPath();const{x:o,y:l}=os(e);T.moveTo(o,l)},Qs=e=>{if(!zt||!T)return;e.cancelable&&e.preventDefault();const{x:t,y:o}=os(e);T.lineTo(t,o),T.stroke()},ns=e=>{if(zt=!1,e&&e.target.releasePointerCapture&&e.pointerId)try{e.target.releasePointerCapture(e.pointerId)}catch{}},Dt=()=>{!ae.value||!T||T.clearRect(0,0,ae.value.width,ae.value.height)},eo=e=>{e.target.tagName!=="BUTTON"&&(At=!0,ts=e.clientX-ht.value,ss=e.clientY-Tt.value,window.addEventListener("mousemove",ls),window.addEventListener("mouseup",as))},ls=e=>{At&&(ht.value=e.clientX-ts,Tt.value=e.clientY-ss)},as=()=>{At=!1,window.removeEventListener("mousemove",ls),window.removeEventListener("mouseup",as)},is=()=>{$e.value=!$e.value,$e.value?(ot(()=>{Et(),ae.value&&!Re&&(Re=new ResizeObserver(()=>{Et()}),Re.observe(ae.value))}),window.addEventListener("keydown",cs)):(Re&&(Re.disconnect(),Re=null),window.removeEventListener("keydown",cs))},cs=e=>{$e.value&&e.code==="Space"&&(e.preventDefault(),Dt())},pt=p(!1),ue=p(1),X=p(!1),Lt=U(()=>y.value.filter(o=>(o.failCount||0)>0).filter(o=>{const l=L.value.includes(o.w)||M.value.includes(o.w);return X.value?l:!l}).map(o=>{const l=St(o.w);return{en:o.w,count:o.failCount,zh:l.zh,source:l.source,rawInfo:l}}).sort((o,l)=>l.count-o.count)),to=U(()=>{const e=(ue.value-1)*Vt,t=e+Vt;return Lt.value.slice(e,t)}),rs=U(()=>Math.ceil(Lt.value.length/Vt)||1),so=()=>{ue.value=1,X.value=!1,pt.value=!0},oo=e=>{const t=Pt(e.rawInfo);if(!t||t==="#"){alert("è¯¥å•è¯æ¥è‡ªè‡ªå®šä¹‰ç”Ÿè¯æœ¬ï¼Œæš‚æ— å›ºå®šç« èŠ‚ä½ç½®");return}const o=window.location.origin+t;window.open(o,"_blank")},us=U(()=>(ce.value[I.value]||[]).includes(P.value)),no=()=>{const e=I.value,t=P.value,o={...ce.value};o[e]||(o[e]=[]),o[e].includes(t)?o[e]=o[e].filter(l=>l!==t):o[e].push(t),ce.value=o},ds=e=>{const t=P.value+e;t>=0&&t<Pe.value.length&&(P.value=t,window.scrollTo({top:0,behavior:"smooth"}))},lo=[.0834,10,15,25,30,45,60],ft=q("my_ielts_focus_dur",30),ge=()=>Math.round(ft.value*60),Ie=p(!1),Nt=p(!1),z=p(ge()),J=p("idle"),S=p(!1),_t=p(0);let F=null;const vs=e=>{const t=Math.floor(e/60),o=e%60;return`${t<10?"0"+t:t}:${o<10?"0"+o:o}`},Ye=()=>{localStorage.setItem("my_ielts_pomo",JSON.stringify({seconds:z.value,endTime:_t.value,isBreak:S.value,state:J.value,timestamp:Date.now()}))},ao=()=>{F&&clearInterval(F),F=null,J.value="paused",Ye()},Ge=e=>{S.value=!0,z.value=Math.round(e*60),Ie.value=!1,gt()},io=()=>{S.value=!1,z.value=ge(),Ie.value=!1,gt()},co=()=>{J.value==="idle"&&!S.value&&(z.value=ge())},ro=()=>{Ie.value=!1,Ye()},gt=e=>{const t=e===!0;if(J.value!=="running"){if(F&&clearInterval(F),!t&&J.value==="idle"&&!S.value&&(z.value=ge()),z.value<=0&&(z.value=S.value?5*60:ge()),!t){const o=Date.now();_t.value=o+z.value*1e3}J.value="running",Ye(),F=setInterval(()=>{const o=Date.now(),l=Math.ceil((_t.value-o)/1e3);if(l>0){z.value=l;const i=S.value?"â˜•":"ğŸ…",d=S.value?"ä¼‘æ¯":"ä¸“æ³¨";document.title=`${vs(z.value)} ${i} ${d}`,S.value||Be("duration",1),Ye()}else{z.value=0,hs(!1);const i=S.value;Nt.value=i,Ss(i?rr:cr),Ie.value=!0,document.title="ğŸ”” æ—¶é—´åˆ°ï¼",S.value=!i,z.value=S.value?5*60:ge(),Ye()}},1e3)}},hs=(e=!0)=>{F&&(clearInterval(F),F=null),J.value="idle",localStorage.removeItem("my_ielts_pomo"),e&&(S.value&&(S.value=!1),z.value=ge(),document.title="MyIELTS")},ps=p(!1),fs=()=>{ps.value=window.scrollY>300},uo=()=>{window.scrollTo({top:0,behavior:"smooth"})};xt(()=>{window.addEventListener("resize",Ot),window.addEventListener("scroll",fs)}),ws(()=>{F&&clearInterval(F),ve&&clearTimeout(ve),window.removeEventListener("resize",Ot),window.removeEventListener("scroll",fs)}),ws(()=>{F&&clearInterval(F)}),xt(()=>{const e=localStorage.getItem("my_ielts_pomo");if(e)try{const d=JSON.parse(e);if(d.endTime){const n=Date.now(),u=Math.ceil((d.endTime-n)/1e3);u>0?(S.value=d.isBreak,z.value=u,_t.value=d.endTime,d.state==="running"?gt(!0):J.value="paused"):(console.log("æ£€æµ‹åˆ°åå°å€’è®¡æ—¶å·²è¿‡æœŸï¼Œè‡ªåŠ¨é‡ç½®"),localStorage.removeItem("my_ielts_pomo"),S.value=!1,J.value="idle",z.value=ge())}else S.value=d.isBreak,z.value=d.seconds,J.value="paused"}catch(d){console.error("ç•ªèŒ„é’Ÿæ¢å¤å¤±è´¥",d),localStorage.removeItem("my_ielts_pomo")}window.speechSynthesis.getVoices();const t=new URLSearchParams(window.location.search),o=t.get("chap"),l=t.get("part"),i=t.get("anchor");o&&l&&(Fe=!0,_.value=!1,I.value=decodeURIComponent(o),P.value=parseInt(l),ot(()=>{Fe=!1}),setTimeout(()=>{let d=null;if(i){const u="word-row-"+decodeURIComponent(i).replace(/\s+/g,"_");d=document.getElementById(u)}d||(d=document.querySelector(".row-item")),d&&(d.scrollIntoView({behavior:"smooth",block:"center"}),d.classList.add("highlight-flash"),setTimeout(()=>d.classList.remove("highlight-flash"),2500))},600))}),document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"&&J.value==="running"){const e=localStorage.getItem("my_ielts_pomo");if(e)try{const t=JSON.parse(e),o=Date.now(),l=Math.floor((o-t.timestamp)/1e3);if(l>1){console.log(`åå°è¿è¡Œäº† ${l} ç§’ï¼Œæ­£åœ¨æ ¡å‡†...`);const i=t.seconds-l;i>0?z.value=i:z.value=0}}catch(t){console.error("æ ¡å‡†æ—¶é—´å¤±è´¥",t)}}});const Qe=p(!1),Ve=p(""),te=p([]),vo=()=>{Ve.value="",te.value=[],Qe.value=!0,setTimeout(()=>{var e;return(e=document.getElementById("global-search-input"))==null?void 0:e.focus()},100)},de=p(-1),_s=e=>{if(te.value.length===0)return;const t=te.value.length;de.value===-1?de.value=e>0?0:t-1:de.value=(de.value+e+t)%t,ot(()=>{const o=document.querySelector(".search-item.selected");o&&o.scrollIntoView({block:"nearest",behavior:"smooth"})})},ho=()=>{de.value=-1;const e=Ve.value.trim().toLowerCase();if(!e){te.value=[];return}const t=[],o=new Set;for(const l in C.value){const i=C.value[l].zh||"";(l.toLowerCase().includes(e)||i.includes(e))&&(t.push({en:l,zh:i,source:"æˆ‘çš„ç”Ÿè¯æœ¬",isCustom:!0}),o.add(l))}if(x)for(const l in x){const i=x[l].words||x[l].list||[];let d=0,n=0;const u=35,a=45;for(let g=0;g<i.length;g++){const $=i[g];let A=0;for(const w of $)A++;const m=n+A;n>0&&(n>=u||m>a)&&(d++,n=0);for(const w of $){let oe="",H="";Array.isArray(w)?(oe=w[0],H=w[2]||""):(oe=w.word||w.en,H=w.meaning||w.trans||w.zh||"");const be=Je(oe);(be.toLowerCase().includes(e)||H.includes(e))&&!o.has(be)&&(t.push({en:be,zh:H,source:`${l} Â· Part ${d+1}`,chapter:l,partIdx:d,isCustom:!1}),o.add(be))}n+=A}if(t.length>100)break}t.sort((l,i)=>{const d=l.en.toLowerCase(),n=i.en.toLowerCase();if(d===e&&n!==e)return-1;if(n===e&&d!==e)return 1;const u=d.startsWith(e),a=n.startsWith(e);return u&&!a?-1:a&&!u?1:d.length-n.length}),te.value=t.slice(0,50)},po=()=>{const e=Ve.value.trim().toLowerCase();if(!e||te.value.length===0)return;if(de.value!==-1){const o=te.value[de.value];if(o){et(o);return}}const t=te.value.find(o=>o.en.toLowerCase()===e);et(t||te.value[0])},fo=e=>{if(!e.source||e.source==="ç”Ÿè¯æœ¬"||e.source==="æœªçŸ¥"){V("è¯¥è¯å±äºè‡ªå®šä¹‰ç”Ÿè¯ï¼Œæ— å›ºå®šç« èŠ‚ä½ç½®");return}const t=" Part ",o=e.source.lastIndexOf(t);if(o===-1){console.warn("æ— æ³•è§£æå‡ºå¤„æ ¼å¼:",e.source);return}const l=e.source.substring(0,o),i=e.source.substring(o+t.length),d=parseInt(i)-1,n={en:e.en,chapter:l,partIdx:d,isCustom:!1};et(n)},et=e=>{e.isCustom||e.partIdx===void 0||(Qe.value=!1,_.value=!1,Fe=!0,I.value=e.chapter,P.value=e.partIdx,ot(()=>{Fe=!1}),setTimeout(()=>{const t="word-row-"+e.en.replace(/\s+/g,"_"),o=document.getElementById(t);o?(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("highlight-flash"),setTimeout(()=>o.classList.remove("highlight-flash"),2e3)):console.warn("æœªæ‰¾åˆ°å…ƒç´ :",t)},400))},Pt=e=>{const t=typeof e=="string"?e:e.source,o=typeof e=="string"?"":e.en;if(!t||t==="ç”Ÿè¯æœ¬"||t==="æœªçŸ¥")return"#";const l=" Part ",i=t.lastIndexOf(l);if(i===-1)return"#";const d=t.substring(0,i),n=t.substring(i+l.length),u=parseInt(n)-1;let a=`?chap=${encodeURIComponent(d)}&part=${u}`;o&&(a+=`&anchor=${encodeURIComponent(o)}`);const g=window.location.hash;return`${window.location.pathname}${a}${g}`},yt=De({}),_o=e=>{yt[e]=!yt[e]},tt=e=>!e||!e.list||e.list.length===0?!1:e.list.every(t=>K.has(t.en)),go=e=>{const t=tt(e);e.list.forEach(o=>{t?K.delete(o.en):K.add(o.en)})},yo=()=>{const e=[];if(_e.value.forEach(o=>{o.list&&o.list.forEach(l=>e.push(l.en))}),e.length===0)return V("å½“å‰æ²¡æœ‰å•è¯å¯å¤åˆ¶");const t=e.join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{V(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),V(`å·²å¤åˆ¶ ${e.length} ä¸ªå•è¯! ğŸ“‹`)}},mo=e=>{if(!e||!e.list||e.list.length===0)return;const t=e.list.map(o=>o.en).join(`
`);if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{V(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)});else{const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),V(`å·²å¤åˆ¶è¯¥ç»„ ${e.list.length} ä¸ªå•è¯! ğŸ“‹`)}},gs=p(window.innerWidth),Ot=()=>gs.value=window.innerWidth;xt(()=>window.addEventListener("resize",Ot));const bo=U(()=>$e.value?ht.value>gs.value/2-100:!1),mt=p(!1),Wt=p(""),G=p([]),Me=p(0),se=p(!1),Ut=e=>`${I.value}_${e}`,bt=e=>{if(!e)return"";try{return Wo.parse(e)}catch{return e}},ys=(e,t="read")=>{const o=Ut(e);Wt.value=o;const l=Q.value[o];l?l.content!==void 0&&!Array.isArray(l)?G.value=[{title:l.title||"è¾¨æç‚¹ 1",content:l.content}]:Array.isArray(l)?G.value=JSON.parse(JSON.stringify(l)):G.value=[{title:"è¾¨æç‚¹ 1",content:""}]:(G.value=[{title:"è¾¨æç‚¹ 1",content:""}],t="edit"),Me.value=0,se.value=t==="edit",mt.value=!0},ms=e=>{Me.value=e,se.value=!G.value[e].content},ko=()=>{const e=G.value.length;G.value.push({title:`è¾¨æç‚¹ ${e+1}`,content:""}),ms(e),se.value=!0},wo=()=>{if(G.value.length<=1){G.value[0].content="",G.value[0].title="è¾¨æç‚¹ 1";return}confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è¾¨æå—ï¼Ÿ")&&(G.value.splice(Me.value,1),Me.value>=G.value.length&&(Me.value=G.value.length-1))},xo=()=>{const e=G.value.filter(t=>t.title.trim()||t.content.trim());if(e.length===0){const t={...Q.value};delete t[Wt.value],Q.value=t}else Q.value={...Q.value,[Wt.value]:e};se.value=!1},ye=U(()=>G.value[Me.value]||{title:"",content:""}),Co=e=>{const t=Ut(e),o=Q.value[t];if(!o)return"";if(!Array.isArray(o))return o.title&&o.title.trim()?o.title.trim():o.content?"ğŸ“ è¯ä¹‰è¾¨æ":"";if(o.length>0){const l=o[0];return l.title&&l.title!=="è¾¨æç‚¹ 1"?l.title:`ğŸ“ è¯ä¹‰è¾¨æ (${o.length})`}return""},kt=e=>{const t=Ut(e),o=Q.value[t];return o?Array.isArray(o)?o.length>0:o.title&&o.title.trim()||o.content&&o.content.trim():!1},st=p(!1),D=De({token:localStorage.getItem("my_ielts_gh_token")||"",gistId:localStorage.getItem("my_ielts_gh_gist_id")||""}),Te=p(!1),Bt=U(()=>!!(Te.value||!Ae.value||ze.value&&ze.value>=Ae.value)),me=p(!1);let ve=null;const ze=q("my_ielts_last_sync_time",""),bs=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");ze.value=`${t}/${o} ${l}:${i}`},Ae=p(""),Ee=p(!1),Rt=p(!1),So=async()=>{if(!(!D.token||!D.gistId)){ve&&clearTimeout(ve),Rt.value=!0;try{const e=await fetch(`https://api.github.com/gists/${D.gistId}`,{headers:{Authorization:`token ${D.token}`}});if(e.ok){const t=await e.json(),o=new Date(t.updated_at),l=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0"),d=String(o.getHours()).padStart(2,"0"),n=String(o.getMinutes()).padStart(2,"0");Ae.value=`${l}/${i} ${d}:${n}`,ze.value&&Ae.value>ze.value?(Ee.value=!0,console.log("æœ‰æ›´æ–°ï¼Œå¼¹çª—åœç•™ 10s"),ve=setTimeout(()=>{me.value=!1},1e4)):(Ee.value=!1,console.log("æ— æ›´æ–°ï¼Œå¼¹çª—åœç•™ 2s"),ve=setTimeout(()=>{me.value=!1},2e3))}}catch(e){console.error("æ£€æµ‹äº‘ç«¯å¤±è´¥",e),ve=setTimeout(()=>{me.value=!1},3e3)}finally{Rt.value=!1}}},$o=()=>{ve&&clearTimeout(ve),me.value=!me.value,me.value&&So()},Io=()=>{localStorage.setItem("my_ielts_gh_token",D.token.trim()),localStorage.setItem("my_ielts_gh_gist_id",D.gistId.trim()),alert("é…ç½®å·²ä¿å­˜ï¼âœ…"),st.value=!1},Mo=async()=>{if(!D.token||!D.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("ç¡®å®šè¦è¦†ç›–äº‘ç«¯æ•°æ®å—ï¼Ÿ(äº‘ç«¯æ—§æ•°æ®å°†ä¸¢å¤±)")){Te.value=!0;try{const e={k:L.value,r:y.value,c:ce.value,m:M.value,d:C.value,s:R.value,n:Q.value,st:je.value,ap:He.value},t=JSON.stringify(e),o=`https://api.github.com/gists/${D.gistId}`,l=await fetch(o,{method:"PATCH",headers:{Authorization:`token ${D.token}`,"Content-Type":"application/json"},body:JSON.stringify({files:{"data.json":{content:t}}})});if(l.ok)bs(),Ae.value=ze.value,Ee.value=!1,alert("â˜ï¸ ä¸Šä¼ æˆåŠŸï¼æ•°æ®å·²å®‰å…¨ä¿å­˜åˆ° Gistã€‚");else throw new Error(l.statusText)}catch(e){alert("ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ Token æˆ–ç½‘ç»œ: "+e.message),console.error(e)}finally{Te.value=!1}}},To=async()=>{if(!D.token||!D.gistId)return alert("è¯·å…ˆç‚¹å‡» âš™ï¸ é…ç½® GitHub Token å’Œ Gist ID");if(confirm("âš ï¸ è­¦å‘Šï¼šè¿™å°†ç”¨äº‘ç«¯æ•°æ®è¦†ç›–å½“å‰æœ¬åœ°è¿›åº¦ï¼ç¡®å®šå—ï¼Ÿ")){Te.value=!0;try{const e=`https://api.github.com/gists/${D.gistId}`,t=await fetch(e,{method:"GET",headers:{Authorization:`token ${D.token}`}});if(!t.ok)throw new Error(t.statusText);const l=(await t.json()).files["data.json"].content,i=JSON.parse(l);i.k&&(L.value=i.k),i.r&&(y.value=i.r),i.c&&(ce.value=i.c),i.m&&(M.value=i.m),i.d&&(C.value=i.d),i.s&&(R.value=i.s),i.n&&(Q.value=i.n),i.st&&(je.value=i.st),i.ap&&(He.value=i.ap),bs(),alert("â˜ï¸ åŒæ­¥æˆåŠŸï¼æœ¬åœ°è¿›åº¦å·²æ›´æ–°ã€‚"),location.reload()}catch(e){alert("ä¸‹è½½å¤±è´¥: "+e.message),console.error(e)}finally{Te.value=!1}}};return(e,t)=>{var o,l,i,d;return r(),c(ie,null,[s("div",Uo,[s("div",Bo,[s("div",Ro,[s("div",Go,[s("div",Vo,[s("button",{class:k(["tab-btn",{active:!_.value}]),onClick:t[0]||(t[0]=n=>_.value=!1)},"ğŸ“– å­¦ä¹ ",2),s("button",{class:k(["tab-btn review-tab",{active:_.value}]),onClick:t[1]||(t[1]=n=>_.value=!0)},[E(" ğŸ”¥ å¤ä¹ "),he(y).filter(n=>n.time<Date.now()).length>0?(r(),c("span",Ho)):f("",!0)],2)]),s("label",Ko,[B(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>N.value=n)},null,512),[[Ao,N.value]]),s("span",null,v(N.value?"ğŸ™ï¸ ":"ğŸ‘€ "),1)]),N.value?(r(),c("button",{key:0,class:"mobile-only tool-btn-simple",onClick:Ft,style:{"margin-left":"10px","font-size":"20px"},title:at.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(at.value?"ğŸ“–":"ğŸ™ˆ"),9,jo)):f("",!0)]),s("div",Jo,[_.value?f("",!0):(r(),c("div",Fo,[B(s("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>xs(I)?I.value=n:null),class:"sel-chap"},[(r(!0),c(ie,null,pe(Rs.value,n=>(r(),c("option",{key:n.value,value:n.value},v(n.label)+v(n.isDone?"âœ…":""),9,qo))),128))],512),[[Gt,he(I)]]),B(s("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>P.value=n),class:"sel-part"},[(r(!0),c(ie,null,pe(Us.value,(n,u)=>(r(),c("option",{key:u,value:u},v(n),9,Zo))),128))],512),[[Gt,P.value]])])),s("div",{class:k(["stats-bar",{"compact-mode":!_.value}])},[_.value?(r(),c("span",Xo,"ğŸ“š "+v(ct.value.total),1)):f("",!0),s("span",Yo,"ğŸ”¥ "+v(ct.value.learning),1),s("span",Qo,"âœ… "+v(ct.value.learned),1),s("span",en,"ğŸŒ‘ "+v(ct.value.unlearned),1)],2)]),s("div",tn,[_.value?(r(),c("button",{key:0,onClick:t[5]||(t[5]=n=>We.value=!0),class:"btn action-btn",title:"å­¦ä¹ ç»Ÿè®¡"},"ğŸ“Š")):f("",!0),s("button",{onClick:is,class:k(["btn action-btn desktop-only",{"active-pad":$e.value}]),title:"æ‰“å¼€/å…³é—­è‰ç¨¿æ¿"},"ğŸ–Šï¸",2),_.value?(r(),c("button",{key:1,onClick:so,class:"btn action-btn",title:"æ˜“é”™å•è¯æ’è¡Œæ¦œ",style:{width:"46px",height:"46px",padding:"0",display:"inline-flex","align-items":"center","justify-content":"center"}},[(r(),c("svg",sn,nn))])):f("",!0),s("button",{onClick:Ks,class:k(["btn action-btn",{"desktop-only":_.value}]),title:"å¯¼å‡º/å¤‡ä»½è¿›åº¦ (JSON)"},"â¬‡ï¸",2),s("button",{onClick:Js,class:k(["btn action-btn",{"desktop-only":_.value}]),title:"å¯¼å…¥/æ¢å¤è¿›åº¦"},"â¬†ï¸",2),s("input",{type:"file",id:"fileInput",hidden:"",onChange:Fs},null,32),s("div",{class:k(["pomo-compact",{"break-mode":S.value}])},[!S.value&&J.value==="idle"?B((r(),c("select",{key:0,"onUpdate:modelValue":t[6]||(t[6]=n=>xs(ft)?ft.value=n:null),onChange:co,class:"pomo-select",title:"ç‚¹å‡»è°ƒæ•´ä¸“æ³¨æ—¶é•¿"},[(r(),c(ie,null,pe(lo,n=>s("option",{key:n,value:n},v(n<1?"âš¡ 05s":(n<10?"0"+n:n)+":00"),9,ln)),64))],544)),[[Gt,he(ft)]]):(r(),c("span",an,v(vs(z.value)),1)),J.value!=="running"?(r(),c("button",{key:2,onClick:gt,class:"pomo-btn-small play-btn"},"â–¶")):(r(),c("button",{key:3,onClick:ao,class:"pomo-btn-small pause-btn"},"â¸")),s("button",{onClick:t[7]||(t[7]=n=>hs(!0)),class:"pomo-btn-small stop-btn"},"â¹")],2)])])]),Ie.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:b(ro,["self"])},[s("div",rn,[s("button",{class:"modal-close-icon",onClick:t[8]||(t[8]=n=>Ie.value=!1)},"âœ•"),s("div",un,v(S.value?"ğŸ”‹":"ğŸ‰"),1),s("h2",dn,v(Nt.value?"å……ç”µå®Œæ¯•":"ä¸“æ³¨å®Œæˆ"),1),Nt.value?(r(),c("div",hn,[s("button",{onClick:io,class:"modal-btn focus-btn"},"å¼€å§‹ä¸“æ³¨")])):(r(),c("div",vn,[s("button",{onClick:t[9]||(t[9]=n=>Ge(3)),class:"modal-btn break-btn"},"3m"),s("button",{onClick:t[10]||(t[10]=n=>Ge(5)),class:"modal-btn break-btn"},"5m"),s("button",{onClick:t[11]||(t[11]=n=>Ge(10)),class:"modal-btn break-btn"},"10m"),s("button",{onClick:t[12]||(t[12]=n=>Ge(15)),class:"modal-btn break-btn"},"15m"),s("button",{onClick:t[13]||(t[13]=n=>Ge(25)),class:"modal-btn long-break-btn"},"25m"),s("button",{onClick:t[14]||(t[14]=n=>Ge(.05)),class:"modal-btn focus-btn"},"âš¡ 03s (æµ‹è¯•)")]))])],8,cn)):f("",!0),_e.value.length>0?(r(),c("div",pn,[s("div",fn,[_n,s("div",gn,[E(" å•è¯ "),_.value?(r(),c("button",{key:0,class:"toggle-source-btn",onClick:Ls,title:Ce.value?"éšè—å…¨éƒ¨å‡ºå¤„":"æ˜¾ç¤ºå…¨éƒ¨å‡ºå¤„"},[Ce.value?(r(),c("svg",mn,wn)):(r(),c("svg",xn,$n))],8,yn)):f("",!0),_.value?f("",!0):(r(),c("button",{key:1,class:"toggle-source-btn",onClick:yo,title:"å¤åˆ¶æœ¬é¡µæ‰€æœ‰å•è¯",style:{"margin-left":"4px"}}," ğŸ“‹ "))]),In,s("div",Mn,[E(" è¯ä¹‰ "),N.value?(r(),c("button",{key:0,class:"toggle-all-btn",onClick:Ft,title:at.value?"å…¨éƒ¨éšè—":"å…¨éƒ¨æ˜¾ç¤º"},v(at.value?"ğŸ“–":"ğŸ™ˆ"),9,Tn)):f("",!0)]),N.value?f("",!0):(r(),c("div",zn,"ä¾‹å¥")),N.value?f("",!0):(r(),c("div",An,"æ‹“å±•")),En])])):f("",!0),s("div",Dn,[_e.value.length===0?(r(),c("div",Ln,v(_.value?"æš‚æ— é”™é¢˜ ğŸ‰":"æœ¬ç« æ•°æ®åŠ è½½ä¸­"),1)):f("",!0),(r(!0),c(ie,null,pe(_e.value,(n,u)=>(r(),c("div",{key:u,class:"vocab-block",style:Y({borderLeftColor:n.color})},[_.value?f("",!0):(r(),c("div",{key:0,class:k(["group-note-bar",{"has-note":kt(n.groupId)}]),style:Y({backgroundColor:kt(n.groupId)?n.color+"15":"transparent",borderBottom:kt(n.groupId)?"1px solid "+n.color+"20":"none"})},[s("div",{class:"note-title",onClick:a=>ys(n.groupId,"read")},[kt(n.groupId)?(r(),c("span",{key:0,class:"note-exist-text",style:Y({color:n.color})},[Pn,E(" "+v(Co(n.groupId)),1)],4)):(r(),c("span",On," â• æ·»åŠ è¾¨æç¬”è®° "))],8,Nn),s("div",Wn,[s("button",{class:"note-action-btn copy-group-btn",onClick:b(a=>mo(n),["stop"]),title:"å¤åˆ¶æœ¬ç»„å•è¯"}," ğŸ“‹ ",8,Un),s("button",{class:"note-action-btn",onClick:b(a=>ys(n.groupId,"edit"),["stop"]),title:"ç¼–è¾‘ç¬”è®°"}," âš™ï¸ ",8,Bn)])],6)),_.value&&n.title?(r(),c("div",{key:1,class:"group-title",style:Y([{color:n.color,backgroundColor:n.color+"15"},{cursor:"pointer",display:"flex","align-items":"center","user-select":"none"}]),onClick:a=>_o(n.title)},[s("span",Gn,v(n.title),1),s("button",{class:"stage-source-btn",onClick:b(a=>go(n),["stop"]),title:tt(n)?"éšè—æœ¬é˜¶æ®µå‡ºå¤„":"æ˜¾ç¤ºæœ¬é˜¶æ®µå‡ºå¤„",style:Y({color:tt(n)?n.color:"#9ca3af",opacity:tt(n)?1:.5})},[(r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:tt(n)?"currentColor":"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Jn,8,Hn))],12,Vn),Fn,s("button",{class:"collapse-btn",style:Y({color:n.color,borderColor:n.color})},v(yt[n.title]?"ğŸ”½ å±•å¼€":"ğŸ”¼ æ”¶èµ·"),5)],12,Rn)):f("",!0),B(s("div",null,[(r(!0),c(ie,null,pe(n.list,a=>(r(),c("div",{key:a.en,class:k(["grid-layout row-item",{"mastered-row":a._isMastered&&!a._isKilled&&!_.value,"killed-row":a._isKilled&&!_.value}]),id:"word-row-"+a.en.replace(/\s+/g,"_")},[s("div",Zn,[E(v(_.value?a.id:a._id)+" ",1),(a._isMastered||a._isKilled)&&!_.value?(r(),c("span",{key:0,class:"status-icon",style:Y({color:a._isKilled?"#a855f7":"#10b981",fontWeight:"bold"})}," âœ” ",4)):f("",!0)]),s("div",Xn,[s("div",Yn,[N.value?(r(),c("div",kl,[s("span",{class:k(["speaker",{playing:j.value===a.en}]),onClick:b(g=>qe(a.en),["stop"])},v(j.value===a.en?"â¸ï¸":"ğŸ”Š"),11,wl),s("div",xl,[s("input",{type:"text",class:k(["dictation-input",[Le[a.en],{"mastered-input":a._isMastered&&!_.value}]]),placeholder:"è¾“å…¥...",onChange:g=>Hs(a,g),onInput:g=>Le[a.en]="",onFocus:g=>Gs(a.en),onKeydown:[t[15]||(t[15]=we(b(()=>{},["stop"]),["space"])),we(b(Kt,["prevent"]),["tab"]),we(b(Kt,["prevent"]),["enter"])],autocomplete:"off"},null,42,Cl),Le[a.en]==="error"?(r(),c("div",Sl,"âŒ "+v(a.en),1)):f("",!0),re.has(a.en)?(r(),c("div",$l,"ğŸ‘€ "+v(a.en),1)):f("",!0)]),s("button",{class:"peek-btn",onClick:b(g=>Is(a.en),["stop"]),title:re.has(a.en)?"éšè—ç­”æ¡ˆ":"å·çœ‹ç­”æ¡ˆ"},v(re.has(a.en)?"ğŸ™ˆ":"ğŸ‘ï¸"),9,Il)])):(r(),c("div",Qn,[s("div",el,[s("span",{class:"en-text",onClick:b(g=>qe(a.en),["stop"]),style:{cursor:"pointer"},title:"ç‚¹å‡»å‘éŸ³"},v(a.en),9,tl),s("span",{class:k(["speaker",{playing:j.value===a.en}]),onClick:b(g=>qe(a.en),["stop"])},v(j.value===a.en?"â¸ï¸":"ğŸ”Š"),11,sl),he(He).includes(a.en)?(r(),c("span",{key:0,onClick:b(g=>e.removeAudioTag(a.en),["stop"]),title:"è¯¥è¯æ›¾ä¾èµ–å¬éŸ³å›å¿† (å¬è§‰å°è®°)",style:{"font-size":"14px","margin-left":"6px",cursor:"help"}}," ğŸ‘‚ ",8,ol)):f("",!0),a.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:1,class:"copy-btn",onClick:b(g=>js(a.en),["stop"]),title:"ç‚¹å‡»å¤åˆ¶"},"ğŸ“‹",8,nl)):f("",!0),_.value&&a.notation==="æˆ‘çš„ç”Ÿè¯æœ¬"?(r(),c("button",{key:2,class:"copy-btn edit-btn",onClick:b(g=>Zs(a),["stop"]),title:"ä¿®æ”¹å•è¯/é‡Šä¹‰"},"âœ",8,ll)):f("",!0),_.value&&!Ce.value&&a.source!=="ç”Ÿè¯æœ¬"?(r(),c("button",{key:3,class:"copy-btn location-btn",onClick:b(g=>Ns(a.en),["stop"]),title:K.has(a.en)?"éšè—å‡ºå¤„":"æŸ¥çœ‹å‡ºå¤„",style:Y({color:K.has(a.en)?"#3b82f6":"",opacity:K.has(a.en)?"1":""})},[K.has(a.en)?(r(),c("svg",il,ul)):(r(),c("svg",dl,pl))],12,al)):f("",!0)]),Ce.value||K.has(a.en)?(r(),c("div",fl,[s("a",{href:Pt(a),class:"word-source-row clickable-source",onClick:b(g=>fo(a),["prevent"]),title:"ç‚¹å‡»åœ¨å½“å‰é¡µè·³è½¬"}," ğŸ“ "+v(a.source),9,_l),s("a",{href:Pt(a),class:"word-source-row icon-only",target:"_blank",title:"æ–°æ ‡ç­¾é¡µæ‰“å¼€å¹¶è‡ªåŠ¨åˆ‡æ¢ ğŸš€"}," ğŸš€ ",8,gl)])):f("",!0),_.value&&a._review?(r(),c("div",yl,[a._review.time<Date.now()?(r(),c("span",ml,"å¾…å¤ä¹ ")):(r(),c("span",bl,v(Math.round((a._review.time-Date.now())/6e4))+"m",1))])):f("",!0)]))]),s("div",Ml,v(a.pos),1),s("button",{class:"mobile-only mobile-kill",onClick:g=>qt(a.en),style:Y(N.value?{top:"auto",bottom:"10px",right:"10px",background:"#fff",border:"1px solid #eee",borderRadius:"50%",width:"30px",height:"30px"}:{})},v(a._isKilled?"â†º":"âœ•"),13,Tl)]),s("div",zl,v(a.pos),1),s("div",{class:k(["col-zh",{"interactive-zh":N.value}]),onClick:g=>N.value?Ms(a.en):null},[s("div",{class:k(["zh-text",{"blur-zh":N.value&&!O.has(a.en)&&a.pos!=="è‡ªé€‰"}])},v(a.zh),3),a.notation&&!N.value?(r(),c("div",El,v(a.notation),1)):f("",!0)],10,Al),N.value?f("",!0):(r(),c("div",Dl,[s("div",Ll,[s("span",null,v(a.example),1),a.example?(r(),c("span",{key:0,class:"speaker-small",onClick:b(g=>Vs(a.example),["stop"]),title:"è¯»ä¾‹å¥"},"ğŸ”‰",8,Nl)):f("",!0)])])),N.value?f("",!0):(r(),c("div",Pl,v(a.notation||""),1)),s("div",Ol,[s("button",{class:"kill-btn",onClick:g=>qt(a.en),title:a._isKilled?"æ¢å¤/æ’¤é”€æ–©æ€":"æ–©æ€/å½’æ¡£",style:Y({color:a._isKilled?"#a855f7":""})},v(a._isKilled?"â†º":"âœ•"),13,Wl)])],10,qn))),128))],512),[[Cs,!yt[n.title]]])],4))),128)),!_.value&&Pe.value.length>1?(r(),c("div",Ul,[s("button",{class:"page-btn big-btn",disabled:P.value===0,onClick:t[16]||(t[16]=n=>ds(-1))},"â¬…ï¸ ä¸Šä¸€é¡µ",8,Bl),s("div",Rl,[s("span",Gl,v(P.value+1)+" / "+v(Pe.value.length),1),s("button",{class:k(["finish-btn",{done:us.value}]),onClick:no,title:"æ ‡è®°æœ¬é¡µä¸ºå·²å®Œæˆ"},v(us.value?"âœ… å·²å®Œæˆ":"â­• æ ‡è®°å®Œæˆ"),3)]),s("button",{class:"page-btn big-btn",disabled:P.value===Pe.value.length-1,onClick:t[17]||(t[17]=n=>ds(1))},"ä¸‹ä¸€é¡µ â¡ï¸",8,Vl)])):f("",!0),Hl]),$e.value?(r(),c("div",{key:2,class:"scratchpad-window",style:Y({left:ht.value+"px",top:Tt.value+"px"})},[s("div",{class:"pad-header",onMousedown:eo},[Kl,s("button",{class:"pad-close",onClick:is},"âœ•")],32),s("canvas",{ref_key:"canvasRef",ref:ae,class:"pad-canvas",style:{"touch-action":"none",display:"block"},onPointerdown:Ys,onPointermove:Qs,onPointerup:ns,onPointerleave:ns,onDblclick:Dt},null,544),s("div",{class:"pad-footer"},[jl,s("button",{class:"pad-btn-clear",onClick:Dt},"ğŸ—‘ï¸ (Space)")])],4)):f("",!0),s("div",{class:k(["floating-action-group",{"pos-left":bo.value}])},[_.value?(r(),c("button",{key:0,onClick:$t,class:"floating-btn refresh-btn",title:"åˆ·æ–°æ•°æ®"},"ğŸ”„")):f("",!0),_.value?f("",!0):(r(),c("button",{key:1,onClick:Ts,class:"floating-btn story-btn",title:"æœ¬é¡µåŠ©è®°æ–‡ç« /æ•…äº‹"},"ğŸ“œ")),s("button",{onClick:qs,class:"floating-btn add-btn",title:"æ‰‹åŠ¨åŠ å…¥ç”Ÿè¯"},"â•"),s("button",{onClick:vo,class:"floating-btn search-btn",title:"æœç´¢å•è¯/è¯æ ¹"},"ğŸ”"),B(s("button",{onClick:uo,class:"floating-btn top-btn",title:"å›åˆ°é¡¶éƒ¨"},Fl,512),[[Cs,ps.value]]),s("div",ql,[s("button",{onClick:$o,class:k(["floating-btn sync-btn main-cloud-trigger",{active:me.value}]),title:"äº‘åŒæ­¥èœå•"},[Te.value?(r(),c("svg",Zl,Yl)):(r(),c("svg",Ql,sa))],2),Eo(Lo,{name:"cloud-pop"},{default:Do(()=>[me.value?(r(),c("div",oa,[s("div",{class:k(["sync-dashboard",{"has-update":Ee.value}])},[s("div",na,[la,Rt.value?(r(),c("span",aa,[ia,E(" æ£€æµ‹ä¸­... ")])):f("",!0)]),s("div",ca,[s("div",ra,[ua,s("div",da,v(he(ze)||"--/-- --:--"),1)]),s("div",va,[Ee.value?(r(),c("div",ha,"â¬…ï¸")):(r(),c("div",pa,"â˜ï¸"))]),s("div",{class:k(["dash-item cloud",{highlight:Ee.value}])},[fa,s("div",_a,v(Ae.value||"å¾…æ£€æµ‹"),1)],2)]),Ee.value?(r(),c("div",ga,"âœ¨ äº‘ç«¯æœ‰æ–°è¿›åº¦ï¼Œå»ºè®®ä¸‹è½½")):Ae.value?(r(),c("div",ya,"âœ… å½“å‰å·²æ˜¯æœ€æ–°")):f("",!0)],2),s("button",{onClick:Mo,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:"ä¸Šä¼ è¿›åº¦åˆ°äº‘ç«¯",disabled:Te.value},ka,8,ma),s("button",{onClick:To,class:"floating-btn sync-btn svg-icon-btn sub-btn",title:Bt.value?"æœ¬åœ°å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ (æ— éœ€ä¸‹è½½)":"ä»äº‘ç«¯ä¸‹è½½è¿›åº¦",disabled:Bt.value,style:Y(Bt.value?{opacity:.3,cursor:"not-allowed",filter:"grayscale(1)"}:{})},Ca,12,wa),s("button",{onClick:t[18]||(t[18]=n=>st.value=!0),class:"floating-btn sync-btn sub-btn",title:"é…ç½®äº‘åŒæ­¥",style:{"font-size":"20px"}},"âš™ï¸")])):f("",!0)]),_:1})])],2),Se.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[21]||(t[21]=b(n=>Se.value=!1,["self"]))},[s("div",Sa,[$a,s("div",Ia,[B(s("input",{id:"custom-word-input",type:"text","onUpdate:modelValue":t[19]||(t[19]=n=>rt.value=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥å•è¯...",onKeydown:we(Yt,["enter"]),autocomplete:"off"},null,40,Ma),[[ne,rt.value]])]),s("div",Ta,[s("button",{onClick:t[20]||(t[20]=n=>Se.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Yt,class:"modal-btn",style:{background:"#2563eb",color:"white"}},"ç¡®å®š")])])])):f("",!0),Oe.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[24]||(t[24]=b(n=>Oe.value=!1,["self"]))},[s("div",za,[Aa,s("p",Ea,[E(' è¯åº“ä¸­æœªæ‰¾åˆ° "'),s("strong",null,v(dt.value),1),E('"ï¼Œè¯·å¡«å†™ä¸­æ–‡æ„æ€ï¼š ')]),s("div",Da,[B(s("input",{id:"custom-meaning-input",type:"text","onUpdate:modelValue":t[22]||(t[22]=n=>ut.value=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šå¼€é˜”çœ¼ç•Œ...",onKeydown:we(Qt,["enter"]),autocomplete:"off"},null,40,La),[[ne,ut.value]])]),s("div",Na,[s("button",{onClick:t[23]||(t[23]=n=>Oe.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Qt,class:"modal-btn",style:{background:"#10b981",color:"white"}},"ä¿å­˜å¹¶æ·»åŠ ")])])])):f("",!0),It.value?(r(),c("div",Pa,[s("div",Oa,[Wa,s("h3",Ua,v(Zt.value),1)])])):f("",!0)]),Xe.value?(r(),c("div",{key:0,class:"modal-overlay",onClick:t[28]||(t[28]=b(n=>Xe.value=!1,["self"]))},[s("div",Ba,[Ra,s("div",Ga,[Va,B(s("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=n=>le.newWord=n),class:"modal-input-field"},null,512),[[ne,le.newWord]])]),s("div",Ha,[Ka,B(s("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=n=>le.newZh=n),class:"modal-input-field"},null,512),[[ne,le.newZh]])]),s("div",ja,[s("button",{onClick:t[27]||(t[27]=n=>Xe.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Xs,class:"modal-btn",style:{background:"#3b82f6",color:"white"}},"ä¿å­˜ä¿®æ”¹")])])])):f("",!0),We.value?(r(),c("div",{key:1,class:"modal-overlay",onClick:t[32]||(t[32]=b(n=>We.value=!1,["self"]))},[s("div",Ja,[s("div",Fa,[qa,s("div",Za,[s("button",{class:k({active:Ue.value==="week"}),onClick:t[29]||(t[29]=n=>Ue.value="week")},"è¿‘7å¤©",2),s("button",{class:k({active:Ue.value==="month"}),onClick:t[30]||(t[30]=n=>Ue.value="month")},"è¿‘30å¤©",2)])]),s("div",Xa,[s("div",Ya,[s("div",Qa,v(Math.round((((o=he(R)[Ze()])==null?void 0:o.duration)||0)/60)),1),ei]),s("div",ti,[s("div",si,v(((l=he(R)[Ze()])==null?void 0:l.learn)||0),1),oi]),s("div",ni,[s("div",li,v(((i=he(R)[Ze()])==null?void 0:i.review)||0),1),ai]),s("div",ii,[s("div",ci,v(((d=he(R)[Ze()])==null?void 0:d.kill)||0),1),ri])]),s("div",ui,[s("canvas",{ref_key:"statsChartCanvas",ref:Mt},null,512)]),s("button",{class:"modal-close",onClick:t[31]||(t[31]=n=>We.value=!1),style:{"margin-top":"15px"}},"å…³é—­")])])):f("",!0),Qe.value?(r(),c("div",{key:2,class:"modal-overlay",onClick:t[37]||(t[37]=b(n=>Qe.value=!1,["self"]))},[s("div",di,[s("div",vi,[B(s("input",{id:"global-search-input",type:"text","onUpdate:modelValue":t[33]||(t[33]=n=>Ve.value=n),onInput:ho,onKeydown:[we(b(po,["prevent"]),["enter"]),t[34]||(t[34]=we(b(n=>_s(-1),["prevent"]),["up"])),t[35]||(t[35]=we(b(n=>_s(1),["prevent"]),["down"]))],placeholder:"è¾“å…¥è¯æ ¹ (æ”¯æŒé”®ç›˜ â†‘â†“ é€‰æ‹©)...",class:"modal-input-field search-input",autocomplete:"off"},null,40,hi),[[ne,Ve.value]]),s("button",{class:"modal-close-icon static-pos",onClick:t[36]||(t[36]=n=>Qe.value=!1)},"âœ•")]),s("div",pi,[Ve.value?te.value.length===0?(r(),c("div",_i,"æœªæ‰¾åˆ°åŒ¹é…å•è¯")):(r(!0),c(ie,{key:2},pe(te.value,(n,u)=>(r(),c("div",{key:n.en,class:k(["search-item",{"clickable-item":!n.isCustom,selected:u===de.value}]),onClick:a=>et(n),onMouseenter:a=>de.value=u},[s("div",yi,[s("div",mi,[E(v(n.en)+" ",1),s("span",{class:"speaker-small",onClick:b(a=>qe(n.en),["stop"])},"ğŸ”Š",8,bi)]),s("div",ki,v(n.zh),1)]),s("div",wi,[s("span",xi,v(n.source),1)])],42,gi))),128)):(r(),c("div",fi,"è¾“å…¥å­—æ¯æŸ¥æ‰¾åŒ…å«è¯¥è¯æ ¹çš„å•è¯"))])])])):f("",!0),mt.value?(r(),c("div",{key:3,class:"modal-overlay",onClick:t[44]||(t[44]=b(n=>mt.value=!1,["self"]))},[s("div",Ci,[s("div",Si,[s("h3",$i,v(se.value?"âœï¸ ç¼–è¾‘è¾¨æç¬”è®°":"ğŸ“– è¯ä¹‰è¾¨æ"),1),s("div",Ii,[se.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[39]||(t[39]=n=>se.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[38]||(t[38]=n=>se.value=!0),title:"ç¼–è¾‘"}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[40]||(t[40]=n=>mt.value=!1)},"âœ•")])]),s("div",Mi,[s("div",Ti,[zi,s("div",Ai,[(r(!0),c(ie,null,pe(G.value,(n,u)=>(r(),c("div",{key:u,class:k(["sidebar-item",{active:Me.value===u}]),onClick:a=>ms(u)},[s("span",Di,v(n.content?"ğŸ“":"âšª"),1),s("span",Li,v(n.title||"æ— æ ‡é¢˜"),1)],10,Ei))),128))]),s("button",{class:"sidebar-add-btn",onClick:ko}," + æ–°å¢åˆ†ç»„ ")]),s("div",Ni,[se.value?(r(),c("div",Vi,[s("div",Hi,[Ki,B(s("input",{type:"text","onUpdate:modelValue":t[41]||(t[41]=n=>ye.value.title=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚ï¼šmerchant vs businessman...",style:{"font-weight":"bold"}},null,512),[[ne,ye.value.title]])]),s("div",ji,[s("div",Ji,[s("div",{class:"editor-toolbar"},[Fi,s("button",{class:"tiny-btn delete-btn",onClick:wo},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç»„")]),B(s("textarea",{"onUpdate:modelValue":t[42]||(t[42]=n=>ye.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0","line-height":"1.6"},placeholder:"åœ¨æ­¤è®°å½•è¯¦ç»†è¾¨æ..."},null,512),[[ne,ye.value.content]])]),s("div",qi,[Zi,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:bt(ye.value.content)},null,8,Xi)])])])):(r(),c("div",Pi,[s("h2",Oi,v(ye.value.title),1),ye.value.content?(r(),c("div",{key:0,innerHTML:bt(ye.value.content)},null,8,Wi)):(r(),c("div",Ui,Gi))]))])]),se.value?(r(),c("div",Yi,[s("button",{onClick:t[43]||(t[43]=n=>se.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:xo,class:"modal-btn",style:{background:"#8b5cf6",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),lt.value?(r(),c("div",{key:4,class:"modal-overlay",onClick:t[51]||(t[51]=b(n=>lt.value=!1,["self"]))},[s("div",Qi,[s("div",ec,[s("h3",tc,v(ee.value?"âœï¸ ç¼–è¾‘æ¨¡å¼":"ğŸ“œ æœ¬é¡µåŠ©è®°æ–‡ç«  (Part "+(P.value+1)+")"),1),s("div",sc,[ee.value?(r(),c("button",{key:1,class:"icon-btn",onClick:t[46]||(t[46]=n=>ee.value=!1),title:"é¢„è§ˆ"}," ğŸ‘ï¸ é¢„è§ˆ ")):(r(),c("button",{key:0,class:"icon-btn edit-switch-btn",onClick:t[45]||(t[45]=n=>ee.value=!0),title:"ç¼–è¾‘å½“å‰æ–‡ç« "}," âœ ç¼–è¾‘ ")),s("button",{class:"icon-btn close-btn",onClick:t[47]||(t[47]=n=>lt.value=!1)},"âœ•")])]),s("div",oc,[s("div",nc,[lc,s("div",ac,[(r(!0),c(ie,null,pe(W.value,(n,u)=>(r(),c("div",{key:u,class:k(["sidebar-item",{active:xe.value===u}]),onClick:a=>Jt(u)},[cc,s("span",rc,v(n.title||"æ— æ ‡é¢˜æ–‡ç« "),1)],10,ic))),128))]),s("button",{class:"sidebar-add-btn",onClick:zs}," + æ–°å¢æ–‡ç«  ")]),s("div",uc,[ee.value?(r(),c("div",yc,[s("div",mc,[B(s("input",{type:"text","onUpdate:modelValue":t[48]||(t[48]=n=>fe.value.title=n),class:"modal-input-field",placeholder:"è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜...",style:{"font-weight":"bold"}},null,512),[[ne,fe.value.title]])]),s("div",bc,[s("div",kc,[s("div",{class:"editor-toolbar"},[wc,s("button",{class:"tiny-btn",onClick:Ds},"ğŸ¤– å¤åˆ¶ AI Prompt"),s("button",{class:"tiny-btn delete-btn",onClick:As},"ğŸ—‘ï¸ åˆ é™¤æ­¤ç¯‡")]),B(s("textarea",{"onUpdate:modelValue":t[49]||(t[49]=n=>fe.value.content=n),class:"modal-input-field",style:{flex:"1",resize:"none","margin-bottom":"0"},placeholder:"åœ¨æ­¤ç²˜è´´æ•…äº‹å†…å®¹..."},null,512),[[ne,fe.value.content]])]),s("div",xc,[Cc,s("div",{class:"markdown-body",style:{padding:"10px","overflow-y":"auto",height:"100%"},innerHTML:bt(fe.value.content)},null,8,Sc)])])])):(r(),c("div",dc,[s("h1",vc,v(fe.value.title),1),fe.value.content?(r(),c("div",{key:0,innerHTML:bt(fe.value.content)},null,8,hc)):(r(),c("div",pc,gc))]))])]),ee.value?(r(),c("div",$c,[s("button",{onClick:t[50]||(t[50]=n=>ee.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Es,class:"modal-btn",style:{background:"#f59e0b",color:"white"}},"ğŸ’¾ ä¿å­˜å…¨éƒ¨æ›´æ”¹")])):f("",!0)])])):f("",!0),st.value?(r(),c("div",{key:5,class:"modal-overlay",onClick:t[55]||(t[55]=b(n=>st.value=!1,["self"]))},[s("div",Ic,[Mc,Tc,s("div",zc,[Ac,B(s("input",{type:"password","onUpdate:modelValue":t[52]||(t[52]=n=>D.token=n),class:"modal-input-field",placeholder:"ghp_xxxxxxxxxxxx..."},null,512),[[ne,D.token]])]),s("div",Ec,[Dc,B(s("input",{type:"text","onUpdate:modelValue":t[53]||(t[53]=n=>D.gistId=n),class:"modal-input-field",placeholder:"ä¾‹å¦‚: e5a3c..."},null,512),[[ne,D.gistId]])]),s("div",Lc,[s("button",{onClick:t[54]||(t[54]=n=>st.value=!1),class:"modal-btn",style:{background:"#f3f4f6",color:"#6b7280"}},"å–æ¶ˆ"),s("button",{onClick:Io,class:"modal-btn",style:{background:"#a855f7",color:"white"}},"ğŸ’¾ ä¿å­˜é…ç½®")]),Nc])])):f("",!0),pt.value?(r(),c("div",{key:6,class:"modal-overlay",onClick:t[61]||(t[61]=b(n=>pt.value=!1,["self"]))},[s("div",Pc,[s("div",Oc,[s("div",Wc,[s("h3",Uc,v(X.value?"ğŸ† è£èª‰æ®¿å ‚":"ğŸ“‰ æ˜“é”™æ”»åšæ¦œ"),1)]),s("div",Bc,[s("div",Rc,[s("button",{class:k(["pill-btn",{active:!X.value}]),onClick:t[56]||(t[56]=n=>{X.value=!1,ue.value=1}),title:"æ˜¾ç¤ºè¿˜åœ¨èƒŒè¯µé˜Ÿåˆ—ä¸­çš„é”™è¯"}," æ­£åœ¨æ”»åš ",2),s("button",{class:k(["pill-btn",{active:X.value}]),onClick:t[57]||(t[57]=n=>{X.value=!0,ue.value=1}),title:"æ˜¾ç¤ºå·²æ–©æ€/å·²æŒæ¡çš„å†å²é”™è¯"}," å·²æ”»å…‹ ",2)]),s("button",{class:"modal-close-icon static-pos",onClick:t[58]||(t[58]=n=>pt.value=!1)},"âœ•")])]),s("div",Gc,[s("table",Vc,[Hc,s("tbody",null,[(r(!0),c(ie,null,pe(to.value,n=>(r(),c("tr",{key:n.en,class:k({"conquered-tr":X.value})},[s("td",null,[s("div",{class:k(["mistake-word",{"is-conquered":X.value}])},v(n.en),3),s("div",Kc,v(n.zh),1)]),s("td",jc,[s("span",{class:k(["count-badge",{"purple-badge":X.value}])},v(n.count),3)]),s("td",Jc,[s("button",{class:"jump-link-btn",onClick:u=>oo(n)}," è·³è½¬ ğŸš€ ",8,Fc)])],2))),128)),Lt.value.length===0?(r(),c("tr",qc,[s("td",Zc,[s("div",Xc,v(X.value?"ğŸº":"ğŸ‰"),1),X.value?(r(),c("div",tr,[E(" ç©ºç©ºå¦‚ä¹Ÿ"),sr,or])):(r(),c("div",Yc,[E(" å¤ªæ£’äº†ï¼å½“å‰é˜Ÿåˆ—ä¸­æš‚æ— æ˜“é”™è¯"),Qc,er]))])])):f("",!0)])])]),s("div",nr,[s("button",{class:"page-nav-btn",disabled:ue.value===1,onClick:t[59]||(t[59]=n=>ue.value--)},"ä¸Šä¸€é¡µ",8,lr),s("span",ar,v(ue.value)+" / "+v(rs.value),1),s("button",{class:"page-nav-btn",disabled:ue.value>=rs.value,onClick:t[60]||(t[60]=n=>ue.value++)},"ä¸‹ä¸€é¡µ",8,ir)])])])):f("",!0)],64)}}},pr=zo(ur,[["__scopeId","data-v-3200edee"]]);export{pr as default};
